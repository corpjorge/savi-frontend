import{d as h,c as l,n as _,o,a as y,r as p,h as x,u as g,b as r,e as v,f as e,g as d,i as b,t as w,j as u,_ as V}from"./index.5149b227.js";const k=["width","height"],j=y(`<circle style="fill:#93ffd0;" cx="256" cy="256" r="256"></circle><path style="fill:#62b390;" d="M283.026,510.581C402.823,498.01,498.01,402.823,510.581,283.026L398.222,170.667l-64.414,137.138\r
	l-220.031,33.528L283.026,510.581z"></path><rect x="113.778" y="170.667" style="fill:#008d68;" width="284.444" height="170.667"></rect><rect x="255.431" y="170.667" style="fill:#036a4e;" width="142.791" height="170.667"></rect><polygon style="fill:#06ab80;" points="398.222,170.667 256,256 113.778,170.667 "></polygon><polygon style="fill:#02a179;" points="398.222,170.667 255.426,170.667 255.426,255.655 256,256 "></polygon>`,6),S=[j],C=h({__name:"IconEmail",props:{className:{},width:{},height:{},fill:{},stroke:{},id:{}},setup(n){return(s,t)=>(o(),l("svg",{class:_(s.className),width:s.width,height:s.height,viewBox:"0 0 512 512",style:{"enable-background":"new 0 0 512 512"}},S,10,k))}}),m=async()=>{const n=p({loading:!0,error:null,VerificationAlreadyDone:!1});return await x.post("/email/verification-notification").then(()=>{localStorage.setItem("emailCheck",String(!1))}).catch(s=>{var t,a;localStorage.setItem("emailCheck",String(!0)),((t=s.response.data)==null?void 0:t.message)==="Email already verified."&&(n.VerificationAlreadyDone=!0),n.error=(a=s.response.data)==null?void 0:a.message}),n},E={class:"mt-24 mx-5"},I={class:"justify-center text-center content-center items-center"},N=e("div",{class:"flex justify-center text-center"},[e("h1",{class:"mt-14 text-gray-800 text-4xl font-semibold text-center"}," Verifica tu correo electr\xF3nico ")],-1),A=e("div",{class:"flex justify-center text-center"},[e("p",{class:"my-6 lg:w-[44rem] text-gray-600 text-center"}," Hemos enviado un correo electr\xF3nico con un enlace para verificar tu cuenta. Recuerda tambi\xE9n validar tu bandeja de correos no deseados o Spam ")],-1),D={class:"mb-1 text-sm text-gray-600 text-center"},$={class:"font-bold"},B={key:0,class:"text-xs text-gray-500"},R={key:1,class:"text-xs text-blue-100"},M={class:"flex justify-center items-center"},z={class:"w-80"},F=e("p",{class:"mt-5 text-center text-gray-500 text-xs"}," \xA92022 SAVI. All rights reserved. ",-1),H=h({__name:"VerifyEmailView",setup(n){const s=g(),t=r(!0),a=r(30),i=r(!1);v(async()=>{(localStorage.getItem("emailCheck")==="true"||localStorage.getItem("emailCheck")==null)&&await m(),setInterval(()=>{if(a.value===0)return t.value=!1;a.value=a.value-1},1e3),setTimeout(()=>{t.value=!1},3e4)});const f=async()=>{i.value=!0;const c=await m();a.value=30,t.value=!0,c.VerificationAlreadyDone===!0&&await s.push({name:"Dashboard"}),i.value=!1};return(c,L)=>(o(),l("div",E,[e("div",I,[d(C,{"class-name":"inline ",width:160,height:160}),N,A,e("p",D,[b(" Podr\xE1s renviar el mensaje en "),e("span",$,w(a.value),1)]),i.value?(o(),l("span",B," ...Renviando mensaje ")):u("",!0),!i.value&&t.value?(o(),l("span",R," Mensaje reenviado ")):u("",!0),e("div",M,[e("div",z,[d(V,{onClick:f,type:"submit",styling:"success",text:"Renviar mensaje",typeof:"submit",disabled:t.value},null,8,["disabled"])])]),F])]))}});export{H as default};
