import{b as ep,h as ap,p as sp,o as Gl,c as uh,f as gr,d as dh,l as cp,w as up,L as dp,g as Zh,_ as lp}from"./index.5149b227.js";var ri=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function hp(sn){return sn&&sn.__esModule&&Object.prototype.hasOwnProperty.call(sn,"default")?sn.default:sn}var tp={exports:{}};/*! For license information please see voxeet-sdk.js.LICENSE.txt */(function(sn,Qn){(function(vi,hr){sn.exports=hr()})(ri,function(){return function(){var vi={7806:function(ye,Z){(function(P){function x(r){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},x(r)}function _(r){var i=function(s,f){if(x(s)!=="object"||s===null)return s;var M=s[Symbol.toPrimitive];if(M!==void 0){var A=M.call(s,f);if(x(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(r,"string");return x(i)==="symbol"?i:String(i)}function g(r,i,s){return(i=_(i))in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s,r}var y=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof ri!="undefined"?ri:typeof self!="undefined"?self:{};function w(r){var i={exports:{}};return r(i,i.exports),i.exports}var p,l,C=function(r){return r&&r.Math==Math&&r},W=C(typeof globalThis=="object"&&globalThis)||C(typeof window=="object"&&window)||C(typeof self=="object"&&self)||C(typeof y=="object"&&y)||function(){return this}()||Function("return this")(),m=function(r){try{return!!r()}catch{return!0}},b=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),F=!m(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),S=Function.prototype.call,u=F?S.bind(S):function(){return S.apply(S,arguments)},k={}.propertyIsEnumerable,R=Object.getOwnPropertyDescriptor,K=R&&!k.call({1:2},1)?function(r){var i=R(this,r);return!!i&&i.enumerable}:k,ae={f:K},Y=function(r,i){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:i}},oe=Function.prototype,le=oe.call,Ee=F&&oe.bind.bind(le,le),me=F?Ee:function(r){return function(){return le.apply(r,arguments)}},Oe=me({}.toString),Ke=me("".slice),Pe=function(r){return Ke(Oe(r),8,-1)},we=Object,yt=me("".split),Pt=m(function(){return!we("z").propertyIsEnumerable(0)})?function(r){return Pe(r)=="String"?yt(r,""):we(r)}:we,Mt=function(r){return r==null},rt=TypeError,Rt=function(r){if(Mt(r))throw rt("Can't call method on "+r);return r},Kt=function(r){return Pt(Rt(r))},Wt=typeof document=="object"&&document.all,Be={all:Wt,IS_HTMLDDA:Wt===void 0&&Wt!==void 0},yi=Be.all,Et=Be.IS_HTMLDDA?function(r){return typeof r=="function"||r===yi}:function(r){return typeof r=="function"},gn=Be.all,Ie=Be.IS_HTMLDDA?function(r){return typeof r=="object"?r!==null:Et(r)||r===gn}:function(r){return typeof r=="object"?r!==null:Et(r)},pe=function(r){return Et(r)?r:void 0},ge=function(r,i){return arguments.length<2?pe(W[r]):W[r]&&W[r][i]},Ce=me({}.isPrototypeOf),Ae=ge("navigator","userAgent")||"",ut=W.process,it=W.Deno,et=ut&&ut.versions||it&&it.version,bt=et&&et.v8;bt&&(l=(p=bt.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!l&&Ae&&(!(p=Ae.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=Ae.match(/Chrome\/(\d+)/))&&(l=+p[1]);var Ze=l,_t=!!Object.getOwnPropertySymbols&&!m(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&Ze&&Ze<41}),vn=_t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Jt=Object,Lt=vn?function(r){return typeof r=="symbol"}:function(r){var i=ge("Symbol");return Et(i)&&Ce(i.prototype,Jt(r))},yn=String,lt=function(r){try{return yn(r)}catch{return"Object"}},kn=TypeError,st=function(r){if(Et(r))return r;throw kn(lt(r)+" is not a function")},Ln=function(r,i){var s=r[i];return Mt(s)?void 0:st(s)},Rn=TypeError,Ct=Object.defineProperty,z=function(r,i){try{Ct(W,r,{value:i,configurable:!0,writable:!0})}catch{W[r]=i}return i},Fn="__core-js_shared__",Jn=W[Fn]||z(Fn,{}),xi=w(function(r){(r.exports=function(i,s){return Jn[i]||(Jn[i]=s!==void 0?s:{})})("versions",[]).push({version:"3.26.1",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),Ir=Object,ki=function(r){return Ir(Rt(r))},wi=me({}.hasOwnProperty),qe=Object.hasOwn||function(r,i){return wi(ki(r),i)},Si=0,dn=Math.random(),_i=me(1 .toString),Gt=function(r){return"Symbol("+(r===void 0?"":r)+")_"+_i(++Si+dn,36)},Tn=xi("wks"),fi=W.Symbol,Je=fi&&fi.for,Le=vn?fi:fi&&fi.withoutSetter||Gt,h=function(r){if(!qe(Tn,r)||!_t&&typeof Tn[r]!="string"){var i="Symbol."+r;_t&&qe(fi,r)?Tn[r]=fi[r]:Tn[r]=vn&&Je?Je(i):Le(i)}return Tn[r]},E=TypeError,U=h("toPrimitive"),L=function(r){var i=function(s,f){if(!Ie(s)||Lt(s))return s;var M,A=Ln(s,U);if(A){if(f===void 0&&(f="default"),M=u(A,s,f),!Ie(M)||Lt(M))return M;throw E("Can't convert object to primitive value")}return f===void 0&&(f="number"),function(q,te){var Q,re;if(te==="string"&&Et(Q=q.toString)&&!Ie(re=u(Q,q))||Et(Q=q.valueOf)&&!Ie(re=u(Q,q))||te!=="string"&&Et(Q=q.toString)&&!Ie(re=u(Q,q)))return re;throw Rn("Can't convert object to primitive value")}(s,f)}(r,"string");return Lt(i)?i:i+""},H=W.document,ie=Ie(H)&&Ie(H.createElement),J=function(r){return ie?H.createElement(r):{}},ke=!b&&!m(function(){return Object.defineProperty(J("div"),"a",{get:function(){return 7}}).a!=7}),De=Object.getOwnPropertyDescriptor,Ye={f:b?De:function(r,i){if(r=Kt(r),i=L(i),ke)try{return De(r,i)}catch{}if(qe(r,i))return Y(!u(ae.f,r,i),r[i])}},dt=b&&m(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),wt=String,ot=TypeError,ct=function(r){if(Ie(r))return r;throw ot(wt(r)+" is not an object")},bn=TypeError,at=Object.defineProperty,Ht=Object.getOwnPropertyDescriptor,jn="enumerable",Sn="configurable",he="writable",Me={f:b?dt?function(r,i,s){if(ct(r),i=L(i),ct(s),typeof r=="function"&&i==="prototype"&&"value"in s&&he in s&&!s[he]){var f=Ht(r,i);f&&f[he]&&(r[i]=s.value,s={configurable:Sn in s?s[Sn]:f[Sn],enumerable:jn in s?s[jn]:f[jn],writable:!1})}return at(r,i,s)}:at:function(r,i,s){if(ct(r),i=L(i),ct(s),ke)try{return at(r,i,s)}catch{}if("get"in s||"set"in s)throw bn("Accessors not supported");return"value"in s&&(r[i]=s.value),r}},Ge=b?function(r,i,s){return Me.f(r,i,Y(1,s))}:function(r,i,s){return r[i]=s,r},Te=Function.prototype,nt=b&&Object.getOwnPropertyDescriptor,ft=qe(Te,"name"),vt={EXISTS:ft,PROPER:ft&&function(){}.name==="something",CONFIGURABLE:ft&&(!b||b&&nt(Te,"name").configurable)},Ot=me(Function.toString);Et(Jn.inspectSource)||(Jn.inspectSource=function(r){return Ot(r)});var Yt,Cn,Nn,Zt=Jn.inspectSource,An=W.WeakMap,It=Et(An)&&/native code/.test(String(An)),Nt=xi("keys"),pn=function(r){return Nt[r]||(Nt[r]=Gt(r))},Jr={},Fi="Object already initialized",Ti=W.TypeError,Tt=W.WeakMap;if(It||Jn.state){var ei=Jn.state||(Jn.state=new Tt);ei.get=ei.get,ei.has=ei.has,ei.set=ei.set,Yt=function(r,i){if(ei.has(r))throw Ti(Fi);return i.facade=r,ei.set(r,i),i},Cn=function(r){return ei.get(r)||{}},Nn=function(r){return ei.has(r)}}else{var Ni=pn("state");Jr[Ni]=!0,Yt=function(r,i){if(qe(r,Ni))throw Ti(Fi);return i.facade=r,Ge(r,Ni,i),i},Cn=function(r){return qe(r,Ni)?r[Ni]:{}},Nn=function(r){return qe(r,Ni)}}var qt={set:Yt,get:Cn,has:Nn,enforce:function(r){return Nn(r)?Cn(r):Yt(r,{})},getterFor:function(r){return function(i){var s;if(!Ie(i)||(s=Cn(i)).type!==r)throw Ti("Incompatible receiver, "+r+" required");return s}}},ln=w(function(r){var i=vt.CONFIGURABLE,s=qt.enforce,f=qt.get,M=Object.defineProperty,A=b&&!m(function(){return M(function(){},"length",{value:8}).length!==8}),q=String(String).split("String"),te=r.exports=function(Q,re,se){String(re).slice(0,7)==="Symbol("&&(re="["+String(re).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),se&&se.getter&&(re="get "+re),se&&se.setter&&(re="set "+re),(!qe(Q,"name")||i&&Q.name!==re)&&(b?M(Q,"name",{value:re,configurable:!0}):Q.name=re),A&&se&&qe(se,"arity")&&Q.length!==se.arity&&M(Q,"length",{value:se.arity});try{se&&qe(se,"constructor")&&se.constructor?b&&M(Q,"prototype",{writable:!1}):Q.prototype&&(Q.prototype=void 0)}catch{}var ce=s(Q);return qe(ce,"source")||(ce.source=q.join(typeof re=="string"?re:"")),Q};Function.prototype.toString=te(function(){return Et(this)&&f(this).source||Zt(this)},"toString")}),Mi=function(r,i,s,f){f||(f={});var M=f.enumerable,A=f.name!==void 0?f.name:i;if(Et(s)&&ln(s,A,f),f.global)M?r[i]=s:z(i,s);else{try{f.unsafe?r[i]&&(M=!0):delete r[i]}catch{}M?r[i]=s:Me.f(r,i,{value:s,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return r},er=Math.ceil,ko=Math.floor,Hi=Math.trunc||function(r){var i=+r;return(i>0?ko:er)(i)},Yi=function(r){var i=+r;return i!=i||i===0?0:Hi(i)},Pr=Math.max,Kr=Math.min,Vr=Math.min,zi=function(r){return r>0?Vr(Yi(r),9007199254740991):0},Rr=function(r){return zi(r.length)},Br=function(r){return function(i,s,f){var M,A=Kt(i),q=Rr(A),te=function(Q,re){var se=Yi(Q);return se<0?Pr(se+re,0):Kr(se,re)}(f,q);if(r&&s!=s){for(;q>te;)if((M=A[te++])!=M)return!0}else for(;q>te;te++)if((r||te in A)&&A[te]===s)return r||te||0;return!r&&-1}},Zr={includes:Br(!0),indexOf:Br(!1)},bo=Zr.indexOf,Qr=me([].push),En=function(r,i){var s,f=Kt(r),M=0,A=[];for(s in f)!qe(Jr,s)&&qe(f,s)&&Qr(A,s);for(;i.length>M;)qe(f,s=i[M++])&&(~bo(A,s)||Qr(A,s));return A},Wr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Zo=Wr.concat("length","prototype"),Bs={f:Object.getOwnPropertyNames||function(r){return En(r,Zo)}},Fa={f:Object.getOwnPropertySymbols},zc=me([].concat),Uc=ge("Reflect","ownKeys")||function(r){var i=Bs.f(ct(r)),s=Fa.f;return s?zc(i,s(r)):i},Ws=function(r,i,s){for(var f=Uc(i),M=Me.f,A=Ye.f,q=0;q<f.length;q++){var te=f[q];qe(r,te)||s&&qe(s,te)||M(r,te,A(i,te))}},Wd=/#|\.prototype\./,Gs=function(r,i){var s=tr[Qe(r)];return s==Fu||s!=eo&&(Et(i)?m(i):!!i)},Qe=Gs.normalize=function(r){return String(r).replace(Wd,".").toLowerCase()},tr=Gs.data={},eo=Gs.NATIVE="N",Fu=Gs.POLYFILL="P",Vc=Gs,Gd=Ye.f,Gn=function(r,i){var s,f,M,A,q,te=r.target,Q=r.global,re=r.stat;if(s=Q?W:re?W[te]||z(te,{}):(W[te]||{}).prototype)for(f in i){if(A=i[f],M=r.dontCallGetSet?(q=Gd(s,f))&&q.value:s[f],!Vc(Q?f:te+(re?".":"#")+f,r.forced)&&M!==void 0){if(typeof A==typeof M)continue;Ws(A,M)}(r.sham||M&&M.sham)&&Ge(A,"sham",!0),Mi(s,f,A,r)}},to=Function.prototype,Nu=to.apply,zu=to.call,nr=typeof Reflect=="object"&&Reflect.apply||(F?zu.bind(Nu):function(){return zu.apply(Nu,arguments)}),Hs=Array.isArray||function(r){return Pe(r)=="Array"},Bc=me([].slice),no=ge("JSON","stringify"),vs=me(/./.exec),Wc=me("".charAt),Qt=me("".charCodeAt),Re=me("".replace),Hd=me(1 .toString),ir=/[\uD800-\uDFFF]/g,io=/^[\uD800-\uDBFF]$/,wo=/^[\uDC00-\uDFFF]$/,Qo=!_t||m(function(){var r=ge("Symbol")();return no([r])!="[null]"||no({a:r})!="{}"||no(Object(r))!="{}"}),ea=m(function(){return no("\uDF06\uD834")!=='"\\udf06\\ud834"'||no("\uDEAD")!=='"\\udead"'}),vr=function(r,i){var s=Bc(arguments),f=i;if((Ie(i)||r!==void 0)&&!Lt(r))return Hs(i)||(i=function(M,A){if(Et(f)&&(A=u(f,this,M,A)),!Lt(A))return A}),s[1]=i,nr(no,null,s)},Na=function(r,i,s){var f=Wc(s,i-1),M=Wc(s,i+1);return vs(io,r)&&!vs(wo,M)||vs(wo,r)&&!vs(io,f)?"\\u"+Hd(Qt(r,0),16):r};no&&Gn({target:"JSON",stat:!0,arity:3,forced:Qo||ea},{stringify:function(r,i,s){var f=Bc(arguments),M=nr(Qo?vr:no,null,f);return ea&&typeof M=="string"?Re(M,ir,Na):M}});var yr,qi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ar=J("span").classList,rr=Ar&&Ar.constructor&&Ar.constructor.prototype,Ys=rr===Object.prototype?void 0:rr,qs=Object.keys||function(r){return En(r,Wr)},ji=b&&!dt?Object.defineProperties:function(r,i){ct(r);for(var s,f=Kt(i),M=qs(i),A=M.length,q=0;A>q;)Me.f(r,s=M[q++],f[s]);return r},ta={f:ji},Ui=ge("document","documentElement"),za="prototype",Yd="script",Ua=pn("IE_PROTO"),He=function(){},na=function(r){return"<script>"+r+"</"+Yd+">"},mn=function(r){r.write(na("")),r.close();var i=r.parentWindow.Object;return r=null,i},So=function(){try{yr=new ActiveXObject("htmlfile")}catch{}var r,i;So=typeof document!="undefined"?document.domain&&yr?mn(yr):((i=J("iframe")).style.display="none",Ui.appendChild(i),i.src=String("javascript:"),(r=i.contentWindow.document).open(),r.write(na("document.F=Object")),r.close(),r.F):mn(yr);for(var s=Wr.length;s--;)delete So[za][Wr[s]];return So()};Jr[Ua]=!0;var Gc=Object.create||function(r,i){var s;return r!==null?(He[za]=ct(r),s=new He,He[za]=null,s[Ua]=r):s=So(),i===void 0?s:ta.f(s,i)},ia=Me.f,en=h("unscopables"),ro=Array.prototype;ro[en]==null&&ia(ro,en,{configurable:!0,value:Gc(null)});var Gr,Va,$s,ci=function(r){ro[en][r]=!0},ys={},qd=!m(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),$d=pn("IE_PROTO"),Uu=Object,Hl=Uu.prototype,kr=qd?Uu.getPrototypeOf:function(r){var i=ki(r);if(qe(i,$d))return i[$d];var s=i.constructor;return Et(s)&&i instanceof s?s.prototype:i instanceof Uu?Hl:null},oo=h("iterator"),Xd=!1;[].keys&&("next"in($s=[].keys())?(Va=kr(kr($s)))!==Object.prototype&&(Gr=Va):Xd=!0);var Jd=!Ie(Gr)||m(function(){var r={};return Gr[oo].call(r)!==r});Jd&&(Gr={}),Et(Gr[oo])||Mi(Gr,oo,function(){return this});var br={IteratorPrototype:Gr,BUGGY_SAFARI_ITERATORS:Xd},Hc=Me.f,Xs=h("toStringTag"),ra=function(r,i,s){r&&!s&&(r=r.prototype),r&&!qe(r,Xs)&&Hc(r,Xs,{configurable:!0,value:i})},Kd=br.IteratorPrototype,Zd=function(){return this},Vu=function(r,i,s,f){var M=i+" Iterator";return r.prototype=Gc(Kd,{next:Y(+!f,s)}),ra(r,M,!1),ys[M]=Zd,r},Yl=String,Or=TypeError,$i=Object.setPrototypeOf||("__proto__"in{}?function(){var r,i=!1,s={};try{(r=me(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),i=s instanceof Array}catch{}return function(f,M){return ct(f),function(A){if(typeof A=="object"||Et(A))return A;throw Or("Can't set "+Yl(A)+" as a prototype")}(M),i?r(f,M):f.__proto__=M,f}}():void 0),Yc=vt.PROPER,zt=vt.CONFIGURABLE,oa=br.IteratorPrototype,Ba=br.BUGGY_SAFARI_ITERATORS,$t=h("iterator"),a="keys",d="values",I="entries",V=function(){return this},ne=function(r,i){return{value:r,done:i}},fe=Me.f,Se="Array Iterator",Ue=qt.set,Fe=qt.getterFor(Se),pt=function(r,i,s,f,M,A,q){Vu(s,i,function(){var be=Fe(this),Ne=be.target,Xe=be.kind,tt=be.index++;return!Ne||tt>=Ne.length?(be.target=void 0,ne(void 0,!0)):ne(Xe=="keys"?tt:Xe=="values"?Ne[tt]:[tt,Ne[tt]],!1)});var te,Q,re,se=function(be){if(be===M&&ze)return ze;if(!Ba&&be in ve)return ve[be];switch(be){case a:case d:case I:return function(){return new s(this,be)}}return function(){return new s(this)}},ce=!1,ve=r.prototype,We=ve[$t]||ve["@@iterator"]||ve[M],ze=!Ba&&We||se(M),_e=ve.entries||We;return _e&&(te=kr(_e.call(new r)))!==Object.prototype&&te.next&&(kr(te)!==oa&&($i?$i(te,oa):Et(te[$t])||Mi(te,$t,V)),ra(te,"Array Iterator",!0)),Yc&&We&&We.name!==d&&(zt?Ge(ve,"name",d):(ce=!0,ze=function(){return u(We,this)})),Q={values:se(d),keys:se(a),entries:se(I)},Gn({target:i,proto:!0,forced:Ba||ce},Q),ve[$t]!==ze&&Mi(ve,$t,ze,{name:M}),ys[i]=ze,Q}(Array,"Array",function(r,i){Ue(this,{type:Se,target:Kt(r),index:0,kind:i})},0,"values"),on=ys.Arguments=ys.Array;if(ci("keys"),ci("values"),ci("entries"),b&&on.name!=="values")try{fe(on,"name",{value:"values"})}catch{}var Bt=h("iterator"),wn=h("toStringTag"),Hn=pt.values,ui=function(r,i){if(r){if(r[Bt]!==Hn)try{Ge(r,Bt,Hn)}catch{r[Bt]=Hn}if(r[wn]||Ge(r,wn,i),qi[i]){for(var s in pt)if(r[s]!==pt[s])try{Ge(r,s,pt[s])}catch{r[s]=pt[s]}}}};for(var wr in qi)ui(W[wr]&&W[wr].prototype,wr);ui(Ys,"DOMTokenList");var Ii=w(function(r){(function(i){var s,f={VERSION:"1.6.1"},M={},A=function(ce,ve){return function(){return ve.apply(ce,arguments)}},q=function(){var ce,ve,We=arguments,ze=We[0];for(ve=1;ve<We.length;ve++)for(ce in We[ve])!(ce in ze)&&We[ve].hasOwnProperty(ce)&&(ze[ce]=We[ve][ce]);return ze},te=function(ce,ve){return{value:ce,name:ve}};f.TRACE=te(1,"TRACE"),f.DEBUG=te(2,"DEBUG"),f.INFO=te(3,"INFO"),f.TIME=te(4,"TIME"),f.WARN=te(5,"WARN"),f.ERROR=te(8,"ERROR"),f.OFF=te(99,"OFF");var Q=function(ce){this.context=ce,this.setLevel(ce.filterLevel),this.log=this.info};Q.prototype={setLevel:function(ce){ce&&"value"in ce&&(this.context.filterLevel=ce)},getLevel:function(){return this.context.filterLevel},enabledFor:function(ce){var ve=this.context.filterLevel;return ce.value>=ve.value},trace:function(){this.invoke(f.TRACE,arguments)},debug:function(){this.invoke(f.DEBUG,arguments)},info:function(){this.invoke(f.INFO,arguments)},warn:function(){this.invoke(f.WARN,arguments)},error:function(){this.invoke(f.ERROR,arguments)},time:function(ce){typeof ce=="string"&&ce.length>0&&this.invoke(f.TIME,[ce,"start"])},timeEnd:function(ce){typeof ce=="string"&&ce.length>0&&this.invoke(f.TIME,[ce,"end"])},invoke:function(ce,ve){s&&this.enabledFor(ce)&&s(ve,q({level:ce},this.context))}};var re,se=new Q({filterLevel:f.OFF});(re=f).enabledFor=A(se,se.enabledFor),re.trace=A(se,se.trace),re.debug=A(se,se.debug),re.time=A(se,se.time),re.timeEnd=A(se,se.timeEnd),re.info=A(se,se.info),re.warn=A(se,se.warn),re.error=A(se,se.error),re.log=re.info,f.setHandler=function(ce){s=ce},f.setLevel=function(ce){for(var ve in se.setLevel(ce),M)M.hasOwnProperty(ve)&&M[ve].setLevel(ce)},f.getLevel=function(){return se.getLevel()},f.get=function(ce){return M[ce]||(M[ce]=new Q(q({name:ce},se.context)))},f.createDefaultHandler=function(ce){(ce=ce||{}).formatter=ce.formatter||function(ze,_e){_e.name&&ze.unshift("["+_e.name+"]")};var ve={},We=function(ze,_e){Function.prototype.apply.call(ze,console,_e)};return typeof console=="undefined"?function(){}:function(ze,_e){ze=Array.prototype.slice.call(ze);var be,Ne=console.log;_e.level===f.TIME?(be=(_e.name?"["+_e.name+"] ":"")+ze[0],ze[1]==="start"?console.time?console.time(be):ve[be]=new Date().getTime():console.timeEnd?console.timeEnd(be):We(Ne,[be+": "+(new Date().getTime()-ve[be])+"ms"])):(_e.level===f.WARN&&console.warn?Ne=console.warn:_e.level===f.ERROR&&console.error?Ne=console.error:_e.level===f.INFO&&console.info?Ne=console.info:_e.level===f.DEBUG&&console.debug?Ne=console.debug:_e.level===f.TRACE&&console.trace&&(Ne=console.trace),ce.formatter(ze,_e),We(Ne,ze))}},f.useDefaults=function(ce){f.setLevel(ce&&ce.defaultLevel||f.DEBUG),f.setHandler(f.createDefaultHandler(ce))},f.setDefaults=f.useDefaults,r.exports?r.exports=f:(f._prevLogger=i.Logger,f.noConflict=function(){return i.Logger=f._prevLogger,f},i.Logger=f)})(y)});function _o(r,i){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);i&&(f=f.filter(function(M){return Object.getOwnPropertyDescriptor(r,M).enumerable})),s.push.apply(s,f)}return s}function aa(r){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?_o(Object(s),!0).forEach(function(f){g(r,f,s[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):_o(Object(s)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(s,f))})}return r}Ii.useDefaults({defaultLevel:Ii.TRACE});const lh=(r,i)=>{r.unshift("[".concat(i.name||"Global","] ").concat(new Date().toISOString()," - ").concat(i.level.name," -"))},Qd=(r,i)=>i?r.value>=ao[i].value:r.value>=el.value,hh=Ii.createDefaultHandler({formatter:lh});Ii.setHandler((r,i)=>{((s,f)=>{s=(s=Array.prototype.slice.call(s)).map(M=>typeof M=="object"?JSON.stringify(M):M),lh(s,f),Bu!==0?(qc.push(s.join(" ")),qc.length>=Bu&&(qc=qc.slice(-Bu))):qc=[]})(r,i),Qd(i.level,i.name)&&hh(r,i);for(const{handler:s,level:f}of tn)i.level.value>=f.value&&s(r,i)});let Bu=1e4,qc=[],el=Ii.OFF;const ao={},tn=[],Xi=aa(aa({},Ii),{},{enabledFor:Qd,getHistory:()=>qc,getHistoryMaxSize:()=>Bu,setHistoryMaxSize:r=>{Bu=r},setLevel:r=>{el=r;for(const i in ao)ao[i]=r},getLevel:()=>el,get:r=>{ao[r]||(ao[r]=el);const i=Ii.get(r);return i.setLevel=s=>{ao[r]=s},i.getLevel=()=>ao[r],i},setHandler:(r,i)=>{tn.push({handler:r,level:i})}});var sa=Pe(W.process)=="process",Wa=h("species"),ph=function(r){var i=ge(r),s=Me.f;b&&i&&!i[Wa]&&s(i,Wa,{configurable:!0,get:function(){return this}})},tl=TypeError,$c={};$c[h("toStringTag")]="z";var Wu=String($c)==="[object z]",Xc=h("toStringTag"),mh=Object,Gu=Pe(function(){return arguments}())=="Arguments",Ga=Wu?Pe:function(r){var i,s,f;return r===void 0?"Undefined":r===null?"Null":typeof(s=function(M,A){try{return M[A]}catch{}}(i=mh(r),Xc))=="string"?s:Gu?Pe(i):(f=Pe(i))=="Object"&&Et(i.callee)?"Arguments":f},fh=function(){},Hu=[],gh=ge("Reflect","construct"),ks=/^\s*(?:class|function)\b/,Jc=me(ks.exec),ca=!ks.exec(fh),Ci=function(r){if(!Et(r))return!1;try{return gh(fh,Hu,r),!0}catch{return!1}},Yu=function(r){if(!Et(r))return!1;switch(Ga(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ca||!!Jc(ks,Zt(r))}catch{return!0}};Yu.sham=!0;var Js,To,qu,Ks,Zs=!gh||m(function(){var r;return Ci(Ci.call)||!Ci(Object)||!Ci(function(){r=!0})||r})?Yu:Ci,$u=TypeError,di=h("species"),cn=function(r,i){var s,f=ct(r).constructor;return f===void 0||Mt(s=ct(f)[di])?i:function(M){if(Zs(M))return M;throw $u(lt(M)+" is not a constructor")}(s)},or=function(r){if(Pe(r)==="Function")return me(r)},hn=or(or.bind),Qs=function(r,i){return st(r),i===void 0?r:F?hn(r,i):function(){return r.apply(i,arguments)}},ua=TypeError,nl=function(r,i){if(r<i)throw ua("Not enough arguments");return r},Ha=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ae),ec=W.setImmediate,Kc=W.clearImmediate,tc=W.process,il=W.Dispatch,rl=W.Function,bs=W.MessageChannel,so=W.String,ws=0,da={},Xu="onreadystatechange";try{Js=W.location}catch{}var ol=function(r){if(qe(da,r)){var i=da[r];delete da[r],i()}},$e=function(r){return function(){ol(r)}},Ju=function(r){ol(r.data)},ql=function(r){W.postMessage(so(r),Js.protocol+"//"+Js.host)};ec&&Kc||(ec=function(r){nl(arguments.length,1);var i=Et(r)?r:rl(r),s=Bc(arguments,1);return da[++ws]=function(){nr(i,void 0,s)},To(ws),ws},Kc=function(r){delete da[r]},sa?To=function(r){tc.nextTick($e(r))}:il&&il.now?To=function(r){il.now($e(r))}:bs&&!Ha?(Ks=(qu=new bs).port2,qu.port1.onmessage=Ju,To=Qs(Ks.postMessage,Ks)):W.addEventListener&&Et(W.postMessage)&&!W.importScripts&&Js&&Js.protocol!=="file:"&&!m(ql)?(To=ql,W.addEventListener("message",Ju,!1)):To=Xu in J("script")?function(r){Ui.appendChild(J("script"))[Xu]=function(){Ui.removeChild(this),ol(r)}}:function(r){setTimeout($e(r),0)});var Vi,jo,Kn,Ft,de,Ss,al,Zc,Ku={set:ec,clear:Kc},sl=/ipad|iphone|ipod/i.test(Ae)&&W.Pebble!==void 0,cl=/web0s(?!.*chrome)/i.test(Ae),ul=Ye.f,Qc=Ku.set,Zu=W.MutationObserver||W.WebKitMutationObserver,Qu=W.document,eu=W.process,nc=W.Promise,ed=ul(W,"queueMicrotask"),Co=ed&&ed.value;Co||(Vi=function(){var r,i;for(sa&&(r=eu.domain)&&r.exit();jo;){i=jo.fn,jo=jo.next;try{i()}catch(s){throw jo?Ft():Kn=void 0,s}}Kn=void 0,r&&r.enter()},Ha||sa||cl||!Zu||!Qu?!sl&&nc&&nc.resolve?((al=nc.resolve(void 0)).constructor=nc,Zc=Qs(al.then,al),Ft=function(){Zc(Vi)}):sa?Ft=function(){eu.nextTick(Vi)}:(Qc=Qs(Qc,W),Ft=function(){Qc(Vi)}):(de=!0,Ss=Qu.createTextNode(""),new Zu(Vi).observe(Ss,{characterData:!0}),Ft=function(){Ss.data=de=!de}));var Dr=Co||function(r){var i={fn:r,next:void 0};Kn&&(Kn.next=i),jo||(jo=i,Ft()),Kn=i},co=function(r){try{return{error:!1,value:r()}}catch(i){return{error:!0,value:i}}},ic=function(){this.head=null,this.tail=null};ic.prototype={add:function(r){var i={item:r,next:null};this.head?this.tail.next=i:this.head=i,this.tail=i},get:function(){var r=this.head;if(r)return this.head=r.next,this.tail===r&&(this.tail=null),r.item}};var $l=ic,Lr=W.Promise,vh=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",dl=!vh&&!sa&&typeof window=="object"&&typeof document=="object";Lr&&Lr.prototype;var la,tu,yh,kh=h("species"),rc=!1,oc=Et(W.PromiseRejectionEvent),bh=Vc("Promise",function(){var r=Zt(Lr),i=r!==String(Lr);if(!i&&Ze===66)return!0;if(!Ze||Ze<51||!/native code/.test(r)){var s=new Lr(function(M){M(1)}),f=function(M){M(function(){},function(){})};if((s.constructor={})[kh]=f,!(rc=s.then(function(){})instanceof f))return!0}return!i&&(dl||vh)&&!oc}),Eo={CONSTRUCTOR:bh,REJECTION_EVENT:oc,SUBCLASSING:rc},wh=TypeError,td=function(r){var i,s;this.promise=new r(function(f,M){if(i!==void 0||s!==void 0)throw wh("Bad Promise constructor");i=f,s=M}),this.resolve=st(i),this.reject=st(s)},ha={f:function(r){return new td(r)}},Xl=Ku.set,xo="Promise",ac=Eo.CONSTRUCTOR,_s=Eo.REJECTION_EVENT,nd=Eo.SUBCLASSING,nu=qt.getterFor(xo),sc=qt.set,Mo=Lr&&Lr.prototype,pa=Lr,ar=Mo,ti=W.TypeError,id=W.document,iu=W.process,cc=ha.f,uc=cc,rd=!!(id&&id.createEvent&&W.dispatchEvent),ru="unhandledrejection",ou=function(r){var i;return!(!Ie(r)||!Et(i=r.then))&&i},Ts=function(r,i){var s,f,M,A=i.value,q=i.state==1,te=q?r.ok:r.fail,Q=r.resolve,re=r.reject,se=r.domain;try{te?(q||(i.rejection===2&&Sh(i),i.rejection=1),te===!0?s=A:(se&&se.enter(),s=te(A),se&&(se.exit(),M=!0)),s===r.promise?re(ti("Promise-chain cycle")):(f=ou(s))?u(f,s,Q,re):Q(s)):re(A)}catch(ce){se&&!M&&se.exit(),re(ce)}},od=function(r,i){r.notified||(r.notified=!0,Dr(function(){for(var s,f=r.reactions;s=f.get();)Ts(s,r);r.notified=!1,i&&!r.rejection&&Io(r)}))},ad=function(r,i,s){var f,M;rd?((f=id.createEvent("Event")).promise=i,f.reason=s,f.initEvent(r,!1,!0),W.dispatchEvent(f)):f={promise:i,reason:s},!_s&&(M=W["on"+r])?M(f):r===ru&&function(A,q){var te=W.console;te&&te.error&&(arguments.length==1?te.error(A):te.error(A,q))}("Unhandled promise rejection",s)},Io=function(r){u(Xl,W,function(){var i,s=r.facade,f=r.value;if(Ji(r)&&(i=co(function(){sa?iu.emit("unhandledRejection",f,s):ad(ru,s,f)}),r.rejection=sa||Ji(r)?2:1,i.error))throw i.value})},Ji=function(r){return r.rejection!==1&&!r.parent},Sh=function(r){u(Xl,W,function(){var i=r.facade;sa?iu.emit("rejectionHandled",i):ad("rejectionhandled",i,r.value)})},Hr=function(r,i,s){return function(f){r(i,f,s)}},Po=function(r,i,s){r.done||(r.done=!0,s&&(r=s),r.value=i,r.state=2,od(r,!0))},Jl=function(r,i,s){if(!r.done){r.done=!0,s&&(r=s);try{if(r.facade===i)throw ti("Promise can't be resolved itself");var f=ou(i);f?Dr(function(){var M={done:!1};try{u(f,i,Hr(Jl,M,r),Hr(Po,M,r))}catch(A){Po(M,A,r)}}):(r.value=i,r.state=1,od(r,!1))}catch(M){Po({done:!1},M,r)}}};if(ac&&(ar=(pa=function(r){(function(s,f){if(Ce(f,s))return s;throw tl("Incorrect invocation")})(this,ar),st(r),u(la,this);var i=nu(this);try{r(Hr(Jl,i),Hr(Po,i))}catch(s){Po(i,s)}}).prototype,(la=function(r){sc(this,{type:xo,done:!1,notified:!1,parent:!1,reactions:new $l,rejection:!1,state:0,value:void 0})}).prototype=Mi(ar,"then",function(r,i){var s=nu(this),f=cc(cn(this,pa));return s.parent=!0,f.ok=!Et(r)||r,f.fail=Et(i)&&i,f.domain=sa?iu.domain:void 0,s.state==0?s.reactions.add(f):Dr(function(){Ts(f,s)}),f.promise}),tu=function(){var r=new la,i=nu(r);this.promise=r,this.resolve=Hr(Jl,i),this.reject=Hr(Po,i)},ha.f=cc=function(r){return r===pa||r===void 0?new tu(r):uc(r)},Et(Lr)&&Mo!==Object.prototype)){yh=Mo.then,nd||Mi(Mo,"then",function(r,i){var s=this;return new pa(function(f,M){u(yh,s,f,M)}).then(r,i)},{unsafe:!0});try{delete Mo.constructor}catch{}$i&&$i(Mo,ar)}Gn({global:!0,constructor:!0,wrap:!0,forced:ac},{Promise:pa}),ra(pa,xo,!1),ph(xo);var Ya=h("iterator"),ni=Array.prototype,sd=h("iterator"),cd=function(r){if(!Mt(r))return Ln(r,sd)||Ln(r,"@@iterator")||ys[Ga(r)]},qa=TypeError,Pi=function(r,i,s){var f,M;ct(r);try{if(!(f=Ln(r,"return"))){if(i==="throw")throw s;return s}f=u(f,r)}catch(A){M=!0,f=A}if(i==="throw")throw s;if(M)throw f;return ct(f),s},ud=TypeError,xt=function(r,i){this.stopped=r,this.result=i},ll=xt.prototype,hl=function(r,i,s){var f,M,A,q,te,Q,re,se,ce=s&&s.that,ve=!(!s||!s.AS_ENTRIES),We=!(!s||!s.IS_RECORD),ze=!(!s||!s.IS_ITERATOR),_e=!(!s||!s.INTERRUPTED),be=Qs(i,ce),Ne=function(tt){return f&&Pi(f,"normal",tt),new xt(!0,tt)},Xe=function(tt){return ve?(ct(tt),_e?be(tt[0],tt[1],Ne):be(tt[0],tt[1])):_e?be(tt,Ne):be(tt)};if(We)f=r.iterator;else if(ze)f=r;else{if(!(M=cd(r)))throw ud(lt(r)+" is not iterable");if((se=M)!==void 0&&(ys.Array===se||ni[Ya]===se)){for(A=0,q=Rr(r);q>A;A++)if((te=Xe(r[A]))&&Ce(ll,te))return te;return new xt(!1)}f=function(tt,gt){var Vt=arguments.length<2?cd(tt):gt;if(st(Vt))return ct(u(Vt,tt));throw qa(lt(tt)+" is not iterable")}(r,M)}for(Q=We?r.next:f.next;!(re=u(Q,f)).done;){try{te=Xe(re.value)}catch(tt){Pi(f,"throw",tt)}if(typeof te=="object"&&te&&Ce(ll,te))return te}return new xt(!1)},kt=h("iterator"),_n=!1;try{var li=0,dc={next:function(){return{done:!!li++}},return:function(){_n=!0}};dc[kt]=function(){return this},Array.from(dc,function(){throw 2})}catch{}var js=Eo.CONSTRUCTOR||!function(r,i){if(!_n)return!1;var s=!1;try{var f={};f[kt]=function(){return{next:function(){return{done:s=!0}}}},function(M){Lr.all(M).then(void 0,function(){})}(f)}catch{}return s}();Gn({target:"Promise",stat:!0,forced:js},{all:function(r){var i=this,s=ha.f(i),f=s.resolve,M=s.reject,A=co(function(){var q=st(i.resolve),te=[],Q=0,re=1;hl(r,function(se){var ce=Q++,ve=!1;re++,u(q,i,se).then(function(We){ve||(ve=!0,te[ce]=We,--re||f(te))},M)}),--re||f(te)});return A.error&&M(A.value),s.promise}});var pl=Eo.CONSTRUCTOR,Bi=Lr&&Lr.prototype;if(Gn({target:"Promise",proto:!0,forced:pl,real:!0},{catch:function(r){return this.then(void 0,r)}}),Et(Lr)){var Yr=ge("Promise").prototype.catch;Bi.catch!==Yr&&Mi(Bi,"catch",Yr,{unsafe:!0})}Gn({target:"Promise",stat:!0,forced:js},{race:function(r){var i=this,s=ha.f(i),f=s.reject,M=co(function(){var A=st(i.resolve);hl(r,function(q){u(A,i,q).then(s.resolve,f)})});return M.error&&f(M.value),s.promise}}),Gn({target:"Promise",stat:!0,forced:Eo.CONSTRUCTOR},{reject:function(r){var i=ha.f(this);return u(i.reject,void 0,r),i.promise}});var uo=Eo.CONSTRUCTOR;ge("Promise"),Gn({target:"Promise",stat:!0,forced:uo},{resolve:function(r){return function(i,s){if(ct(i),Ie(s)&&s.constructor===i)return s;var f=ha.f(i);return(0,f.resolve)(s),f.promise}(this,r)}});var au=Me.f,su=function(r,i,s){s in r||au(r,s,{configurable:!0,get:function(){return i[s]},set:function(f){i[s]=f}})},cu=function(r,i,s){var f,M;return $i&&Et(f=i.constructor)&&f!==s&&Ie(M=f.prototype)&&M!==s.prototype&&$i(r,M),r},dd=String,Ei=function(r){if(Ga(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return dd(r)},Wi=function(r,i){return r===void 0?arguments.length<2?"":i:Ei(r)},zh=function(r,i){Ie(i)&&"cause"in i&&Ge(r,"cause",i.cause)},Yn=Error,bi=me("".replace),qn=String(Yn("zxcasd").stack),xe=/\n\s*at [^:]*:[^\n]*/,Un=xe.test(qn),Uh=function(r,i){if(Un&&typeof r=="string"&&!Yn.prepareStackTrace)for(;i--;)r=bi(r,xe,"");return r},$a=!m(function(){var r=Error("a");return!("stack"in r)||(Object.defineProperty(r,"stack",Y(1,7)),r.stack!==7)}),ml=function(r,i,s,f){var M="stackTraceLimit",A=f?2:1,q=r.split("."),te=q[q.length-1],Q=ge.apply(null,q);if(Q){var re=Q.prototype;if(qe(re,"cause")&&delete re.cause,!s)return Q;var se=ge("Error"),ce=i(function(ve,We){var ze=Wi(f?We:ve,void 0),_e=f?new Q(ve):new Q;return ze!==void 0&&Ge(_e,"message",ze),$a&&Ge(_e,"stack",Uh(_e.stack,2)),this&&Ce(re,this)&&cu(_e,this,ce),arguments.length>A&&zh(_e,arguments[A]),_e});ce.prototype=re,te!=="Error"?$i?$i(ce,se):Ws(ce,se,{name:!0}):b&&M in Q&&(su(ce,Q,M),su(ce,Q,"prepareStackTrace")),Ws(ce,Q);try{re.name!==te&&Ge(re,"name",te),re.constructor=ce}catch{}return ce}},ld="WebAssembly",hd=W[ld],pd=Error("e",{cause:7}).cause!==7,ma=function(r,i){var s={};s[r]=ml(r,i,pd),Gn({global:!0,constructor:!0,arity:1,forced:pd},s)},lc=function(r,i){if(hd&&hd[r]){var s={};s[r]=ml(ld+"."+r,i,pd),Gn({target:ld,stat:!0,constructor:!0,arity:1,forced:pd},s)}};ma("Error",function(r){return function(i){return nr(r,this,arguments)}}),ma("EvalError",function(r){return function(i){return nr(r,this,arguments)}}),ma("RangeError",function(r){return function(i){return nr(r,this,arguments)}}),ma("ReferenceError",function(r){return function(i){return nr(r,this,arguments)}}),ma("SyntaxError",function(r){return function(i){return nr(r,this,arguments)}}),ma("TypeError",function(r){return function(i){return nr(r,this,arguments)}}),ma("URIError",function(r){return function(i){return nr(r,this,arguments)}}),lc("CompileError",function(r){return function(i){return nr(r,this,arguments)}}),lc("LinkError",function(r){return function(i){return nr(r,this,arguments)}}),lc("RuntimeError",function(r){return function(i){return nr(r,this,arguments)}});var fl=h("match"),Ki=function(r){var i;return Ie(r)&&((i=r[fl])!==void 0?!!i:Pe(r)=="RegExp")},gl=function(){var r=ct(this),i="";return r.hasIndices&&(i+="d"),r.global&&(i+="g"),r.ignoreCase&&(i+="i"),r.multiline&&(i+="m"),r.dotAll&&(i+="s"),r.unicode&&(i+="u"),r.unicodeSets&&(i+="v"),r.sticky&&(i+="y"),i},hc=RegExp.prototype,uu=function(r){var i=r.flags;return i!==void 0||"flags"in hc||qe(r,"flags")||!Ce(hc,r)?i:u(gl,r)},md=W.RegExp,fd=m(function(){var r=md("a","y");return r.lastIndex=2,r.exec("abcd")!=null}),_h=fd||m(function(){return!md("a","y").sticky}),Cs={BROKEN_CARET:fd||m(function(){var r=md("^r","gy");return r.lastIndex=2,r.exec("str")!=null}),MISSED_STICKY:_h,UNSUPPORTED_Y:fd},vl=W.RegExp,gd=m(function(){var r=vl(".","s");return!(r.dotAll&&r.exec(`
`)&&r.flags==="s")}),yl=W.RegExp,du=m(function(){var r=yl("(?<a>b)","g");return r.exec("b").groups.a!=="b"||"b".replace(r,"$<a>c")!=="bc"}),vd=Bs.f,lu=qt.enforce,pc=h("match"),Fr=W.RegExp,Xa=Fr.prototype,Th=W.SyntaxError,Es=me(Xa.exec),Ro=me("".charAt),mc=me("".replace),Vn=me("".indexOf),Xt=me("".slice),kl=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,fc=/a/g,yd=/a/g,fa=new Fr(fc)!==fc,gc=Cs.MISSED_STICKY,hu=Cs.UNSUPPORTED_Y,bl=b&&(!fa||gc||gd||du||m(function(){return yd[pc]=!1,Fr(fc)!=fc||Fr(yd)==yd||Fr(fc,"i")!="/a/i"}));if(Vc("RegExp",bl)){for(var ga=function(r,i){var s,f,M,A,q,te,Q=Ce(Xa,this),re=Ki(r),se=i===void 0,ce=[],ve=r;if(!Q&&re&&se&&r.constructor===ga)return r;if((re||Ce(Xa,r))&&(r=r.source,se&&(i=uu(ve))),r=r===void 0?"":Ei(r),i=i===void 0?"":Ei(i),ve=r,gd&&"dotAll"in fc&&(f=!!i&&Vn(i,"s")>-1)&&(i=mc(i,/s/g,"")),s=i,gc&&"sticky"in fc&&(M=!!i&&Vn(i,"y")>-1)&&hu&&(i=mc(i,/y/g,"")),du&&(A=function(We){for(var ze,_e=We.length,be=0,Ne="",Xe=[],tt={},gt=!1,Vt=!1,xn=0,Mn="";be<=_e;be++){if((ze=Ro(We,be))==="\\")ze+=Ro(We,++be);else if(ze==="]")gt=!1;else if(!gt)switch(!0){case ze==="[":gt=!0;break;case ze==="(":Es(kl,Xt(We,be+1))&&(be+=2,Vt=!0),Ne+=ze,xn++;continue;case(ze===">"&&Vt):if(Mn===""||qe(tt,Mn))throw new Th("Invalid capture group name");tt[Mn]=!0,Xe[Xe.length]=[Mn,xn],Vt=!1,Mn="";continue}Vt?Mn+=ze:Ne+=ze}return[Ne,Xe]}(r),r=A[0],ce=A[1]),q=cu(Fr(r,i),Q?this:Xa,ga),(f||M||ce.length)&&(te=lu(q),f&&(te.dotAll=!0,te.raw=ga(function(We){for(var ze,_e=We.length,be=0,Ne="",Xe=!1;be<=_e;be++)(ze=Ro(We,be))!=="\\"?Xe||ze!=="."?(ze==="["?Xe=!0:ze==="]"&&(Xe=!1),Ne+=ze):Ne+="[\\s\\S]":Ne+=ze+Ro(We,++be);return Ne}(r),s)),M&&(te.sticky=!0),ce.length&&(te.groups=ce)),r!==ve)try{Ge(q,"source",ve===""?"(?:)":ve)}catch{}return q},kd=vd(Fr),va=0;kd.length>va;)su(ga,Fr,kd[va++]);Xa.constructor=ga,ga.prototype=Xa,Mi(W,"RegExp",ga,{constructor:!0})}ph("RegExp");var Ja,ya,ka,Sr=qt.get,ii=RegExp.prototype,Kl=TypeError;b&&gd&&(Ja=ii,ya="dotAll",(ka={configurable:!0,get:function(){if(this!==ii){if(Pe(this)==="RegExp")return!!Sr(this).dotAll;throw Kl("Incompatible receiver, RegExp required")}}}).get&&ln(ka.get,ya,{getter:!0}),ka.set&&ln(ka.set,ya,{setter:!0}),Me.f(Ja,ya,ka));var Ao=qt.get,xs=xi("native-string-replace",String.prototype.replace),On=RegExp.prototype.exec,bd=On,sr=me("".charAt),jh=me("".indexOf),oi=me("".replace),wl=me("".slice),vc=function(){var r=/a/,i=/b*/g;return u(On,r,"a"),u(On,i,"a"),r.lastIndex!==0||i.lastIndex!==0}(),Zl=Cs.BROKEN_CARET,yc=/()??/.exec("")[1]!==void 0;(vc||yc||Zl||gd||du)&&(bd=function(r){var i,s,f,M,A,q,te,Q=this,re=Ao(Q),se=Ei(r),ce=re.raw;if(ce)return ce.lastIndex=Q.lastIndex,i=u(bd,ce,se),Q.lastIndex=ce.lastIndex,i;var ve=re.groups,We=Zl&&Q.sticky,ze=u(gl,Q),_e=Q.source,be=0,Ne=se;if(We&&(ze=oi(ze,"y",""),jh(ze,"g")===-1&&(ze+="g"),Ne=wl(se,Q.lastIndex),Q.lastIndex>0&&(!Q.multiline||Q.multiline&&sr(se,Q.lastIndex-1)!==`
`)&&(_e="(?: "+_e+")",Ne=" "+Ne,be++),s=new RegExp("^(?:"+_e+")",ze)),yc&&(s=new RegExp("^"+_e+"$(?!\\s)",ze)),vc&&(f=Q.lastIndex),M=u(On,We?s:Q,Ne),We?M?(M.input=wl(M.input,be),M[0]=wl(M[0],be),M.index=Q.lastIndex,Q.lastIndex+=M[0].length):Q.lastIndex=0:vc&&M&&(Q.lastIndex=Q.global?M.index+M[0].length:f),yc&&M&&M.length>1&&u(xs,M[0],s,function(){for(A=1;A<arguments.length-2;A++)arguments[A]===void 0&&(M[A]=void 0)}),M&&ve)for(M.groups=q=Gc(null),A=0;A<ve.length;A++)q[(te=ve[A])[0]]=M[te[1]];return M});var wd=bd;Gn({target:"RegExp",proto:!0,forced:/./.exec!==wd},{exec:wd});var Sd=Zr.includes,Vh=m(function(){return!Array(1).includes()});Gn({target:"Array",proto:!0,forced:Vh},{includes:function(r){return Sd(this,r,arguments.length>1?arguments[1]:void 0)}}),ci("includes");var pu,ba=typeof Reflect=="object"?Reflect:null,Sl=ba&&typeof ba.apply=="function"?ba.apply:function(r,i,s){return Function.prototype.apply.call(r,i,s)};pu=ba&&typeof ba.ownKeys=="function"?ba.ownKeys:Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:function(r){return Object.getOwnPropertyNames(r)};var Ql=Number.isNaN||function(r){return r!=r};function zn(){zn.init.call(this)}var wa=zn;zn.EventEmitter=zn,zn.prototype._events=void 0,zn.prototype._eventsCount=0,zn.prototype._maxListeners=void 0;var _d=10;function Ka(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}function Td(r){return r._maxListeners===void 0?zn.defaultMaxListeners:r._maxListeners}function _l(r,i,s,f){var M,A,q,te;if(Ka(s),(A=r._events)===void 0?(A=r._events=Object.create(null),r._eventsCount=0):(A.newListener!==void 0&&(r.emit("newListener",i,s.listener?s.listener:s),A=r._events),q=A[i]),q===void 0)q=A[i]=s,++r._eventsCount;else if(typeof q=="function"?q=A[i]=f?[s,q]:[q,s]:f?q.unshift(s):q.push(s),(M=Td(r))>0&&q.length>M&&!q.warned){q.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=r,Q.type=i,Q.count=q.length,te=Q,console&&console.warn&&console.warn(te)}return r}function Za(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Tl(r,i,s){var f={fired:!1,wrapFn:void 0,target:r,type:i,listener:s},M=Za.bind(f);return M.listener=s,f.wrapFn=M,M}function jl(r,i,s){var f=r._events;if(f===void 0)return[];var M=f[i];return M===void 0?[]:typeof M=="function"?s?[M.listener||M]:[M]:s?function(A){for(var q=new Array(A.length),te=0;te<q.length;++te)q[te]=A[te].listener||A[te];return q}(M):Ch(M,M.length)}function _r(r){var i=this._events;if(i!==void 0){var s=i[r];if(typeof s=="function")return 1;if(s!==void 0)return s.length}return 0}function Ch(r,i){for(var s=new Array(i),f=0;f<i;++f)s[f]=r[f];return s}function Eh(r,i,s,f){if(typeof r.on=="function")f.once?r.once(i,s):r.on(i,s);else{if(typeof r.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r);r.addEventListener(i,function M(A){f.once&&r.removeEventListener(i,M),s(A)})}}Object.defineProperty(zn,"defaultMaxListeners",{enumerable:!0,get:function(){return _d},set:function(r){if(typeof r!="number"||r<0||Ql(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");_d=r}}),zn.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},zn.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||Ql(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this},zn.prototype.getMaxListeners=function(){return Td(this)},zn.prototype.emit=function(r){for(var i=[],s=1;s<arguments.length;s++)i.push(arguments[s]);var f=r==="error",M=this._events;if(M!==void 0)f=f&&M.error===void 0;else if(!f)return!1;if(f){var A;if(i.length>0&&(A=i[0]),A instanceof Error)throw A;var q=new Error("Unhandled error."+(A?" ("+A.message+")":""));throw q.context=A,q}var te=M[r];if(te===void 0)return!1;if(typeof te=="function")Sl(te,this,i);else{var Q=te.length,re=Ch(te,Q);for(s=0;s<Q;++s)Sl(re[s],this,i)}return!0},zn.prototype.addListener=function(r,i){return _l(this,r,i,!1)},zn.prototype.on=zn.prototype.addListener,zn.prototype.prependListener=function(r,i){return _l(this,r,i,!0)},zn.prototype.once=function(r,i){return Ka(i),this.on(r,Tl(this,r,i)),this},zn.prototype.prependOnceListener=function(r,i){return Ka(i),this.prependListener(r,Tl(this,r,i)),this},zn.prototype.removeListener=function(r,i){var s,f,M,A,q;if(Ka(i),(f=this._events)===void 0)return this;if((s=f[r])===void 0)return this;if(s===i||s.listener===i)--this._eventsCount==0?this._events=Object.create(null):(delete f[r],f.removeListener&&this.emit("removeListener",r,s.listener||i));else if(typeof s!="function"){for(M=-1,A=s.length-1;A>=0;A--)if(s[A]===i||s[A].listener===i){q=s[A].listener,M=A;break}if(M<0)return this;M===0?s.shift():function(te,Q){for(;Q+1<te.length;Q++)te[Q]=te[Q+1];te.pop()}(s,M),s.length===1&&(f[r]=s[0]),f.removeListener!==void 0&&this.emit("removeListener",r,q||i)}return this},zn.prototype.off=zn.prototype.removeListener,zn.prototype.removeAllListeners=function(r){var i,s,f;if((s=this._events)===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete s[r]),this;if(arguments.length===0){var M,A=Object.keys(s);for(f=0;f<A.length;++f)(M=A[f])!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(i=s[r])=="function")this.removeListener(r,i);else if(i!==void 0)for(f=i.length-1;f>=0;f--)this.removeListener(r,i[f]);return this},zn.prototype.listeners=function(r){return jl(this,r,!0)},zn.prototype.rawListeners=function(r){return jl(this,r,!1)},zn.listenerCount=function(r,i){return typeof r.listenerCount=="function"?r.listenerCount(i):_r.call(r,i)},zn.prototype.listenerCount=_r,zn.prototype.eventNames=function(){return this._eventsCount>0?pu(this._events):[]},wa.once=function(r,i){return new Promise(function(s,f){function M(q){r.removeListener(i,A),f(q)}function A(){typeof r.removeListener=="function"&&r.removeListener("error",M),s([].slice.call(arguments))}Eh(r,i,A,{once:!0}),i!=="error"&&function(q,te,Q){typeof q.on=="function"&&Eh(q,"error",te,{once:!0})}(r,M)})};var mu=xh,Bh=wa.EventEmitter;function xh(r,i,s){Array.isArray(s)||(s=[s]);var f=[];return s.forEach(function(M){var A=function(){var q=[].slice.call(arguments);q.unshift(M),i.emit.apply(i,q)};f.push(A),r.on(M,A)}),function(){s.forEach(function(M,A){r.removeListener(M,f[A])})}}function Mh(r,i){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);i&&(f=f.filter(function(M){return Object.getOwnPropertyDescriptor(r,M).enumerable})),s.push.apply(s,f)}return s}function Cl(r){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?Mh(Object(s),!0).forEach(function(f){g(r,f,s[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Mh(Object(s)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(s,f))})}return r}mu.filter=function(r,i){var s=new Bh;return xh(r,s,i),s};const kc=Xi.get("PeerConnectionStats"),Qa="stats";class es extends wa{constructor(i){super(),this.peer=i,this.stats=null,this.emitInterval=null,this.previousStats=null}init(){kc.info("Initializing peer connection stats"),this.emitInterval=setInterval(async()=>{const i=await this.peer.getStats();this.parseStats(i),this.emit(Qa,this.stats)},1e3)}parseStats(i){this.previousStats=this.stats;const s={audio:{inbounds:[],outbounds:[]},video:{inbounds:[],outbounds:[]},raw:i};for(const f of i.values())switch(f.type){case"outbound-rtp":jd(f,this.previousStats,s);break;case"inbound-rtp":eh(f,this.previousStats,s);break;case"candidate-pair":f.nominated&&Wh(f,s)}this.stats=s}stop(){kc.info("Stopping peer connection stats"),clearInterval(this.emitInterval)}}const jd=(r,i,s)=>{var f,M;const A=ts(r),q=Ih(r.codecId,s.raw),te=fu(r,A);te.totalBytesSent=r.bytesSent,te.id=r.id,te.mid=r.mid;const Q=i?(f=(M=i[A].outbounds.find(re=>re.id===te.id))===null||M===void 0?void 0:M.totalBytesSent)!==null&&f!==void 0?f:0:null;te.bitrate=Q?8*(r.bytesSent-Q):0,A==="video"&&(te.qualityLimitationReason=r.qualityLimitationReason),s[A].outbounds.push(Cl(Cl({},q),te))},eh=(r,i,s)=>{let f=ts(r);const M=Ih(r.codecId,s.raw);["audio","video"].includes(f)||(f=r.id.includes("Video")?"video":"audio");const A=fu(r,f);if(A.totalBytesReceived=r.bytesReceived,A.totalPacketsReceived=r.packetsReceived,A.totalPacketsLost=r.packetsLost,A.jitter=r.jitter,A.id=r.id,A.mid=r.mid,A.bitrate=0,A.packetsLostRatioPerSecond=0,A.packetsLostDeltaPerSecond=0,i){const q=i[f].inbounds.find(te=>te.id===A.id);if(q){const te=q.totalBytesReceived;A.bitrate=8*(r.bytesReceived-te),A.packetsLostRatioPerSecond=El(A,q),A.packetsLostDeltaPerSecond=th(A,q)}}s[f].inbounds.push(Cl(Cl({},M),A))},Wh=(r,i)=>{i.totalRoundTripTime=r.totalRoundTripTime,i.currentRoundTripTime=r.currentRoundTripTime,i.availableOutgoingBitrate=r.availableOutgoingBitrate,i.candidateType=i.raw.get(r.localCandidateId).candidateType},ts=r=>r.mediaType||r.kind,Ih=(r,i)=>{var s;const{mimeType:f}=r&&(s=i.get(r))!==null&&s!==void 0?s:{};return{mimeType:f}},fu=(r,i)=>{const s={};return i==="video"&&(s.framesPerSecond=r.framesPerSecond,s.frameHeight=r.frameHeight,s.frameWidth=r.frameWidth),s.timestamp=r.timestamp,s},El=(r,i)=>th(r,i)/(r.totalPacketsReceived-i.totalPacketsReceived),th=(r,i)=>r.totalPacketsLost-i.totalPacketsLost;h("species");var xl=RegExp.prototype,Gh=me("".charAt),gu=me("".charCodeAt),Cd=me("".slice),nh=function(r){return function(i,s){var f,M,A=Ei(Rt(i)),q=Yi(s),te=A.length;return q<0||q>=te?r?"":void 0:(f=gu(A,q))<55296||f>56319||q+1===te||(M=gu(A,q+1))<56320||M>57343?r?Gh(A,q):f:r?Cd(A,q,q+2):M-56320+(f-55296<<10)+65536}},bc=nh(!0),Sa=function(r,i,s){return i+(s?bc(r,i).length:1)},vu=Math.floor,Oo=me("".charAt),wc=me("".replace),Ms=me("".slice),Ed=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Is=/\$([$&'`]|\d{1,2})/g,ns=function(r,i,s,f,M,A){var q=s+r.length,te=f.length,Q=Is;return M!==void 0&&(M=ki(M),Q=Ed),wc(A,Q,function(re,se){var ce;switch(Oo(se,0)){case"$":return"$";case"&":return r;case"`":return Ms(i,0,s);case"'":return Ms(i,q);case"<":ce=M[Ms(se,1,-1)];break;default:var ve=+se;if(ve===0)return re;if(ve>te){var We=vu(ve/10);return We===0?re:We<=te?f[We-1]===void 0?Oo(se,1):f[We-1]+Oo(se,1):re}ce=f[ve-1]}return ce===void 0?"":ce})},Sc=TypeError,xd=function(r,i){var s=r.exec;if(Et(s)){var f=u(s,r,i);return f!==null&&ct(f),f}if(Pe(r)==="RegExp")return u(wd,r,i);throw Sc("RegExp#exec called on incompatible receiver")},Tr=h("replace"),Ri=Math.max,an=Math.min,Hh=me([].concat),Ml=me([].push),Il=me("".indexOf),yu=me("".slice),Pl="a".replace(/./,"$0")==="$0",_a=!!/./[Tr]&&/./[Tr]("a","$0")==="";(function(r,i,s,f){var M=h(r),A=!m(function(){var re={};return re[M]=function(){return 7},""[r](re)!=7}),q=A&&!m(function(){var re=!1,se=/a/;return se.exec=function(){return re=!0,null},se[M](""),!re});if(!A||!q||s){var te=or(/./[M]),Q=function(re,se,ce){var ve=_a?"$":"$0";return[function(We,ze){var _e=Rt(this),be=Mt(We)?void 0:Ln(We,Tr);return be?u(be,We,_e,ze):u(se,Ei(_e),We,ze)},function(We,ze){var _e=ct(this),be=Ei(We);if(typeof ze=="string"&&Il(ze,ve)===-1&&Il(ze,"$<")===-1){var Ne=ce(se,_e,be,ze);if(Ne.done)return Ne.value}var Xe=Et(ze);Xe||(ze=Ei(ze));var tt=_e.global;if(tt){var gt=_e.unicode;_e.lastIndex=0}for(var Vt=[];;){var xn=xd(_e,be);if(xn===null||(Ml(Vt,xn),!tt))break;Ei(xn[0])===""&&(_e.lastIndex=Sa(be,zi(_e.lastIndex),gt))}for(var Mn,Dn="",si=0,mr=0;mr<Vt.length;mr++){for(var dr=Ei((xn=Vt[mr])[0]),Yo=Ri(an(Yi(xn.index),be.length),0),Zn=[],$n=1;$n<xn.length;$n++)Ml(Zn,(Mn=xn[$n])===void 0?Mn:String(Mn));var qo=xn.groups;if(Xe){var Qi=Hh([dr],Zn,Yo,be);qo!==void 0&&Ml(Qi,qo);var $o=Ei(nr(ze,void 0,Qi))}else $o=ns(dr,be,Yo,Zn,qo,ze);Yo>=si&&(Dn+=yu(be,si,Yo)+$o,si=Yo+dr.length)}return Dn+yu(be,si)}]}(0,""[r],function(re,se,ce,ve,We){var ze=or(re),_e=se.exec;return _e===wd||_e===xl.exec?A&&!We?{done:!0,value:te(se,ce,ve)}:{done:!0,value:ze(ce,se,ve)}:{done:!1}});Mi(String.prototype,r,Q[0]),Mi(xl,M,Q[1])}})("replace",0,!!m(function(){var r=/./;return r.exec=function(){var i=[];return i.groups={a:"7"},i},"".replace(r,"$<a>")!=="7"})||!Pl||_a);var ku,Md=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Ph=me("".replace),bu="["+Md+"]",Rl=RegExp("^"+bu+bu+"*"),Do=RegExp(bu+bu+"*$"),Lo=function(r){return function(i){var s=Ei(Rt(i));return 1&r&&(s=Ph(s,Rl,"")),2&r&&(s=Ph(s,Do,"")),s}},wu={start:Lo(1),end:Lo(2),trim:Lo(3)},Ta=vt.PROPER,is=wu.trim;Gn({target:"String",proto:!0,forced:(ku="trim",m(function(){return!!Md[ku]()||"\u200B\x85\u180E"[ku]()!=="\u200B\x85\u180E"||Ta&&Md[ku].name!==ku}))},{trim:function(){return is(this)}});var ai=h("matchAll"),Al="RegExp String",Id=Al+" Iterator",Ol=qt.set,_c=qt.getterFor(Id),Pd=RegExp.prototype,Rd=TypeError,Fo=or("".indexOf),rs=or("".matchAll),Su=!!rs&&!m(function(){rs("a",/./)}),Rh=Vu(function(r,i,s,f){Ol(this,{type:Id,regexp:r,string:i,global:s,unicode:f,done:!1})},Al,function(){var r=_c(this);if(r.done)return ne(void 0,!0);var i=r.regexp,s=r.string,f=xd(i,s);return f===null?(r.done=!0,ne(void 0,!0)):r.global?(Ei(f[0])===""&&(i.lastIndex=Sa(s,zi(i.lastIndex),r.unicode)),ne(f,!1)):(r.done=!0,ne(f,!1))});Gn({target:"String",proto:!0,forced:Su},{matchAll:function(r){var i,s,f,M=Rt(this);if(Mt(r)){if(Su)return rs(M,r)}else{if(Ki(r)&&(i=Ei(Rt(uu(r))),!~Fo(i,"g")))throw Rd("`.matchAll` does not allow non-global regexes");if(Su)return rs(M,r);if(f=Ln(r,ai))return u(f,r,M)}return s=Ei(M),new RegExp(r,"g")[ai](s)}}),ai in Pd||Mi(Pd,ai,function(r){var i,s,f,M=ct(this),A=Ei(r),q=cn(M,RegExp),te=Ei(uu(M));return i=new q(q===RegExp?M.source:M,te),s=!!~Fo(te,"g"),f=!!~Fo(te,"u"),i.lastIndex=zi(M.lastIndex),new Rh(i,A,s,f)});var Dl=me([].reverse),Ah=[1,2];Gn({target:"Array",proto:!0,forced:String(Ah)===String(Ah.reverse())},{reverse:function(){return Hs(this)&&(this.length=this.length),Dl(this)}});var Ps=w(function(r){var i=r.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(s){return s.encoding?"rtpmap:%d %s/%s/%s":s.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(s){return s.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(s){return s.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(s){return"extmap:%d"+(s.direction?"/%s":"%v")+(s["encrypt-uri"]?" %s":"%v")+" %s"+(s.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(s){return s.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(s){var f="candidate:%s %d %s %d %s %d typ %s";return f+=s.raddr!=null?" raddr %s rport %d":"%v%v",f+=s.tcptype!=null?" tcptype %s":"%v",s.generation!=null&&(f+=" generation %d"),(f+=s["network-id"]!=null?" network-id %d":"%v")+(s["network-cost"]!=null?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(s){var f="ssrc:%d";return s.attribute!=null&&(f+=" %s",s.value!=null&&(f+=":%s")),f}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(s){return s.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(s){return s.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(s){return"imageattr:%s %s %s"+(s.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(s){return"simulcast:%s %s"+(s.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(s){return"ts-refclk:%s"+(s.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(s){var f="mediaclk:";return f+=s.id!=null?"id=%s %s":"%v%s",f+=s.mediaClockValue!=null?"=%s":"",(f+=s.rateNumerator!=null?" rate=%s":"")+(s.rateDenominator!=null?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(i).forEach(function(s){i[s].forEach(function(f){f.reg||(f.reg=/(.*)/),f.format||(f.format="%s")})})}),ja=w(function(r,i){var s=function(q){return String(Number(q))===q?Number(q):q},f=function(q,te,Q){var re=q.name&&q.names;q.push&&!te[q.push]?te[q.push]=[]:re&&!te[q.name]&&(te[q.name]={});var se=q.push?{}:re?te[q.name]:te;(function(ce,ve,We,ze){if(ze&&!We)ve[ze]=s(ce[1]);else for(var _e=0;_e<We.length;_e+=1)ce[_e+1]!=null&&(ve[We[_e]]=s(ce[_e+1]))})(Q.match(q.reg),se,q.names,q.name),q.push&&te[q.push].push(se)},M=RegExp.prototype.test.bind(/^([a-z])=(.*)/);i.parse=function(q){var te={},Q=[],re=te;return q.split(/(\r\n|\r|\n)/).filter(M).forEach(function(se){var ce=se[0],ve=se.slice(2);ce==="m"&&(Q.push({rtp:[],fmtp:[]}),re=Q[Q.length-1]);for(var We=0;We<(Ps[ce]||[]).length;We+=1){var ze=Ps[ce][We];if(ze.reg.test(ve))return f(ze,re,ve)}}),te.media=Q,te};var A=function(q,te){var Q=te.split(/=(.+)/,2);return Q.length===2?q[Q[0]]=s(Q[1]):Q.length===1&&te.length>1&&(q[Q[0]]=void 0),q};i.parseParams=function(q){return q.split(/;\s?/).reduce(A,{})},i.parseFmtpConfig=i.parseParams,i.parsePayloads=function(q){return q.toString().split(" ").map(Number)},i.parseRemoteCandidates=function(q){for(var te=[],Q=q.split(" ").map(s),re=0;re<Q.length;re+=3)te.push({component:Q[re],ip:Q[re+1],port:Q[re+2]});return te},i.parseImageAttributes=function(q){return q.split(" ").map(function(te){return te.substring(1,te.length-1).split(",").reduce(A,{})})},i.parseSimulcastStreamList=function(q){return q.split(";").map(function(te){return te.split(",").map(function(Q){var re,se=!1;return Q[0]!=="~"?re=s(Q):(re=s(Q.substring(1,Q.length)),se=!0),{scid:re,paused:se}})})}}),Oh=/%[sdv%]/g,Dh=function(r){var i=1,s=arguments,f=s.length;return r.replace(Oh,function(M){if(i>=f)return M;var A=s[i];switch(i+=1,M){case"%%":return"%";case"%s":return String(A);case"%d":return Number(A);case"%v":return""}})},Ad=function(r,i,s){var f=[r+"="+(i.format instanceof Function?i.format(i.push?s:s[i.name]):i.format)];if(i.names)for(var M=0;M<i.names.length;M+=1){var A=i.names[M];i.name?f.push(s[i.name][A]):f.push(s[i.names[M]])}else f.push(s[i.name]);return Dh.apply(null,f)},Ll=["v","o","s","i","u","e","p","c","b","t","r","z","a"],Fl=["i","c","b","a"],Tc={write:function(r,i){i=i||{},r.version==null&&(r.version=0),r.name==null&&(r.name=" "),r.media.forEach(function(A){A.payloads==null&&(A.payloads="")});var s=i.outerOrder||Ll,f=i.innerOrder||Fl,M=[];return s.forEach(function(A){Ps[A].forEach(function(q){q.name in r&&r[q.name]!=null?M.push(Ad(A,q,r)):q.push in r&&r[q.push]!=null&&r[q.push].forEach(function(te){M.push(Ad(A,q,te))})})}),r.media.forEach(function(A){M.push(Ad("m",Ps.m[0],A)),f.forEach(function(q){Ps[q].forEach(function(te){te.name in A&&A[te.name]!=null?M.push(Ad(q,te,A)):te.push in A&&A[te.push]!=null&&A[te.push].forEach(function(Q){M.push(Ad(q,te,Q))})})})}),M.join(`\r
`)+`\r
`},parse:ja.parse,parseParams:ja.parseParams,parseFmtpConfig:ja.parseFmtpConfig,parsePayloads:ja.parsePayloads,parseRemoteCandidates:ja.parseRemoteCandidates,parseImageAttributes:ja.parseImageAttributes,parseSimulcastStreamList:ja.parseSimulcastStreamList};class _u{constructor(i,s,f,M,A,q,te,Q,re){this.foundation=i,this.componentId=s,this.transport=f,this.priority=M,this.address=A,this.port=q,this.type=te,this.relAddr=Q,this.relPort=re}equals(i){return i.foundation===this.foundation&&i.componentId===this.componentId&&i.transport===this.transport&&i.priority===this.priority&&i.address===this.address&&i.port===this.port&&i.type===this.type&&i.relAddr===this.relAddr&&i.relPort===this.relPort}clone(){return new _u(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)}plain(){const i={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(i.relAddr=this.relAddr),this.relPort&&(i.relPort=this.relPort),i}getFoundation(){return this.foundation}getComponentId(){return this.componentId}getTransport(){return this.transport}getPriority(){return this.priority}getAddress(){return this.address}getPort(){return this.port}getType(){return this.type}getRelAddr(){return this.relAddr}getRelPort(){return this.relPort}}_u.expand=function(r){return new _u(r.foundation,r.componentId,r.transport,r.priority,r.address,r.port,r.type,r.relAddr,r.relPort)};var jc=_u;class No{constructor(i,s){this.id=i,this.params=s||[]}clone(){return new No(this.id,this.params)}plain(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}}getId(){return this.id}getParams(){return this.params}}No.expand=function(r){return new No(r.id,r.params)};var lo=No;class Nr{constructor(i,s,f){this.codec=i,this.type=s,this.params={},this.rtcpfbs=new Set,f&&this.addParams(f)}clone(){const i=new Nr(this.codec,this.type,this.params);this.hasRTX()&&i.setRTX(this.getRTX());for(const s of this.rtcpfbs)i.addRTCPFeedback(s.clone());return this.hasChannels()&&i.setChannels(this.getChannels()),i}plain(){const i={codec:this.codec,type:this.type};this.rtx&&(i.rtx=this.rtx),this.channels&&(i.channels=this.channels),Object.keys(this.params).length&&(i.params=this.params);for(const s of this.rtcpfbs)i.rtcpfbs||(i.rtcpfbs=[]),i.rtcpfbs.push(s.plain());return i}setRTX(i){this.rtx=i}getType(){return this.type}setType(i){this.type=i}getCodec(){return this.codec}getParams(){return this.params}addParams(i){for(const s in i)this.params[s]=i[s]}addParam(i,s){this.params[i]=s}hasParam(i){return this.params.hasOwnProperty(i)}getParam(i,s){return this.hasParam(i)?this.params[i]:""+s}hasRTX(){return this.rtx}getRTX(){return this.rtx}hasChannels(){return this.channels}getChannels(){return this.channels}setChannels(i){this.channels=i}addRTCPFeedback(i){this.rtcpfbs.add(i)}getRTCPFeedbacks(){return this.rtcpfbs}}Nr.expand=function(r){const i=new Nr(r.codec,r.type,r.params);r.rtx&&i.setRTX(r.rtx),r.channels&&i.setChannels(r.channels);for(let s=0;r.rtcpfbs&&s<r.rtcpfbs.length;++s){const f=lo.expand(r.rtcpfbs[s]);i.addRTCPFeedback(f)}return i},Nr.MapFromNames=function(r,i,s){const f=new Map;let M=96;for(let A=0;A<r.length;++A){let q;const te=r[A].split(";"),Q=te[0].toLowerCase().trim();q=Q==="pcmu"?0:Q==="pcma"?8:++M;const re=new Nr(Q,q);Q==="opus"?re.setChannels(2):Q==="multiopus"&&re.setChannels(6),i&&Q!=="ulpfec"&&Q!=="flexfec-03"&&Q!=="red"&&re.setRTX(++M);for(let se=0;s&&se<s.length;++se)re.addRTCPFeedback(new lo(s[se].id,s[se].params));for(let se=1;se<te.length;++se){let ce=te[se].split("=");re.addParam(ce[0].trim(),ce[1].trim())}f.set(re.getCodec().toLowerCase(),re)}return f};var ho=Nr,zo=function r(){var i=this;if(!(this instanceof r))return new(Function.prototype.bind.apply(r,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach(function(s){i[s]=Symbol.for("MEDOOZE_SEMANTIC_SDP_"+s)})};const fn=zo("ACTIVE","PASSIVE","ACTPASS","INACTIVE");fn.byValue=function(r){switch(r){case fn.ACTIVE:case fn.PASSIVE:case fn.ACTPASS:case fn.INACTIVE:return r}return fn[r.toUpperCase()]},fn.toString=function(r){switch(r){case fn.ACTIVE:return"active";case fn.PASSIVE:return"passive";case fn.ACTPASS:return"actpass";case fn.INACTIVE:return"inactive"}},fn.reverse=function(r){switch(r){case fn.ACTIVE:return fn.PASSIVE;case fn.PASSIVE:return fn.ACTIVE;case fn.ACTPASS:return fn.PASSIVE;case fn.INACTIVE:return fn.INACTIVE}};var Ai=fn;class Tu{constructor(i,s,f){this.setup=i,this.hash=s,this.fingerprint=f}clone(){return new Tu(this.setup,this.hash,this.fingerprint)}plain(){return{setup:Ai.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}}getFingerprint(){return this.fingerprint}getHash(){return this.hash}getSetup(){return this.setup}setSetup(i){this.setup=i}}Tu.expand=function(r){return new Tu(r.setup?Ai.byValue(r.setup):Ai.ACTPASS,r.hash,r.fingerprint)};var Rs=Tu;class Ca{constructor(i,s,f,M){this.tag=i,this.suite=s,this.keyParams=f,this.sessionParams=M}clone(){return new Ca(this.tag,this.suite,this.keyParams,this.sessionParams)}plain(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}}getSessionParams(){return this.sessionParams}getKeyParams(){return this.keyParams}getSuite(){return this.suite}getTag(){return this.tag}}Ca.expand=function(r){return new Ca(r.tag,r.suite,r.keyParams,r.sessionParams)};for(var Uo=Ca,jr=[],Oi=[],ju=typeof Uint8Array!="undefined"?Uint8Array:Array,As="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",po=0,Os=As.length;po<Os;++po)jr[po]=As[po],Oi[As.charCodeAt(po)]=po;function Cc(r){var i=r.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=r.indexOf("=");return s===-1&&(s=i),[s,s===i?0:4-s%4]}function Od(r,i,s){for(var f,M,A=[],q=i;q<s;q+=3)f=(r[q]<<16&16711680)+(r[q+1]<<8&65280)+(255&r[q+2]),A.push(jr[(M=f)>>18&63]+jr[M>>12&63]+jr[M>>6&63]+jr[63&M]);return A.join("")}Oi["-".charCodeAt(0)]=62,Oi["_".charCodeAt(0)]=63;var Cu=function(r){var i,s,f=Cc(r),M=f[0],A=f[1],q=new ju(function(re,se,ce){return 3*(se+ce)/4-ce}(0,M,A)),te=0,Q=A>0?M-4:M;for(s=0;s<Q;s+=4)i=Oi[r.charCodeAt(s)]<<18|Oi[r.charCodeAt(s+1)]<<12|Oi[r.charCodeAt(s+2)]<<6|Oi[r.charCodeAt(s+3)],q[te++]=i>>16&255,q[te++]=i>>8&255,q[te++]=255&i;return A===2&&(i=Oi[r.charCodeAt(s)]<<2|Oi[r.charCodeAt(s+1)]>>4,q[te++]=255&i),A===1&&(i=Oi[r.charCodeAt(s)]<<10|Oi[r.charCodeAt(s+1)]<<4|Oi[r.charCodeAt(s+2)]>>2,q[te++]=i>>8&255,q[te++]=255&i),q},Eu=function(r){for(var i,s=r.length,f=s%3,M=[],A=16383,q=0,te=s-f;q<te;q+=A)M.push(Od(r,q,q+A>te?te:q+A));return f===1?(i=r[s-1],M.push(jr[i>>2]+jr[i<<4&63]+"==")):f===2&&(i=(r[s-2]<<8)+r[s-1],M.push(jr[i>>10]+jr[i>>4&63]+jr[i<<2&63]+"=")),M.join("")},Ea=function(r,i,s,f,M){var A,q,te=8*M-f-1,Q=(1<<te)-1,re=Q>>1,se=-7,ce=s?M-1:0,ve=s?-1:1,We=r[i+ce];for(ce+=ve,A=We&(1<<-se)-1,We>>=-se,se+=te;se>0;A=256*A+r[i+ce],ce+=ve,se-=8);for(q=A&(1<<-se)-1,A>>=-se,se+=f;se>0;q=256*q+r[i+ce],ce+=ve,se-=8);if(A===0)A=1-re;else{if(A===Q)return q?NaN:1/0*(We?-1:1);q+=Math.pow(2,f),A-=re}return(We?-1:1)*q*Math.pow(2,A-f)},os=function(r,i,s,f,M,A){var q,te,Q,re=8*A-M-1,se=(1<<re)-1,ce=se>>1,ve=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,We=f?0:A-1,ze=f?1:-1,_e=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(te=isNaN(i)?1:0,q=se):(q=Math.floor(Math.log(i)/Math.LN2),i*(Q=Math.pow(2,-q))<1&&(q--,Q*=2),(i+=q+ce>=1?ve/Q:ve*Math.pow(2,1-ce))*Q>=2&&(q++,Q/=2),q+ce>=se?(te=0,q=se):q+ce>=1?(te=(i*Q-1)*Math.pow(2,M),q+=ce):(te=i*Math.pow(2,ce-1)*Math.pow(2,M),q=0));M>=8;r[s+We]=255&te,We+=ze,te/=256,M-=8);for(q=q<<M|te,re+=M;re>0;r[s+We]=255&q,We+=ze,q/=256,re-=8);r[s+We-ze]|=128*_e},as=w(function(r,i){const s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=A,i.SlowBuffer=function(T){return+T!=T&&(T=0),A.alloc(+T)},i.INSPECT_MAX_BYTES=50;const f=2147483647;function M(T){if(T>f)throw new RangeError('The value "'+T+'" is invalid for option "size"');const N=new Uint8Array(T);return Object.setPrototypeOf(N,A.prototype),N}function A(T,N,G){if(typeof T=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Q(T)}return q(T,N,G)}function q(T,N,G){if(typeof T=="string")return function(e,n){if(typeof n=="string"&&n!==""||(n="utf8"),!A.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const o=0|ve(e,n);let c=M(o);const v=c.write(e,n);return v!==o&&(c=c.slice(0,v)),c}(T,N);if(ArrayBuffer.isView(T))return function(e){if(xr(e,Uint8Array)){const n=new Uint8Array(e);return se(n.buffer,n.byteOffset,n.byteLength)}return re(e)}(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(xr(T,ArrayBuffer)||T&&xr(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(xr(T,SharedArrayBuffer)||T&&xr(T.buffer,SharedArrayBuffer)))return se(T,N,G);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=T.valueOf&&T.valueOf();if(ee!=null&&ee!==T)return A.from(ee,N,G);const t=function(e){if(A.isBuffer(e)){const n=0|ce(e.length),o=M(n);return o.length===0||e.copy(o,0,0,n),o}return e.length!==void 0?typeof e.length!="number"||lr(e.length)?M(0):re(e):e.type==="Buffer"&&Array.isArray(e.data)?re(e.data):void 0}(T);if(t)return t;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return A.from(T[Symbol.toPrimitive]("string"),N,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}function te(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function Q(T){return te(T),M(T<0?0:0|ce(T))}function re(T){const N=T.length<0?0:0|ce(T.length),G=M(N);for(let ee=0;ee<N;ee+=1)G[ee]=255&T[ee];return G}function se(T,N,G){if(N<0||T.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<N+(G||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return ee=N===void 0&&G===void 0?new Uint8Array(T):G===void 0?new Uint8Array(T,N):new Uint8Array(T,N,G),Object.setPrototypeOf(ee,A.prototype),ee}function ce(T){if(T>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|T}function ve(T,N){if(A.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||xr(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const G=T.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&G===0)return 0;let t=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return Jo(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return Vs(T).length;default:if(t)return ee?-1:Jo(T).length;N=(""+N).toLowerCase(),t=!0}}function We(T,N,G){let ee=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=(N>>>=0))return"";for(T||(T="utf8");;)switch(T){case"hex":return dr(this,N,G);case"utf8":case"utf-8":return Mn(this,N,G);case"ascii":return si(this,N,G);case"latin1":case"binary":return mr(this,N,G);case"base64":return xn(this,N,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yo(this,N,G);default:if(ee)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),ee=!0}}function ze(T,N,G){const ee=T[N];T[N]=T[G],T[G]=ee}function _e(T,N,G,ee,t){if(T.length===0)return-1;if(typeof G=="string"?(ee=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),lr(G=+G)&&(G=t?0:T.length-1),G<0&&(G=T.length+G),G>=T.length){if(t)return-1;G=T.length-1}else if(G<0){if(!t)return-1;G=0}if(typeof N=="string"&&(N=A.from(N,ee)),A.isBuffer(N))return N.length===0?-1:be(T,N,G,ee,t);if(typeof N=="number")return N&=255,typeof Uint8Array.prototype.indexOf=="function"?t?Uint8Array.prototype.indexOf.call(T,N,G):Uint8Array.prototype.lastIndexOf.call(T,N,G):be(T,[N],G,ee,t);throw new TypeError("val must be string, number or Buffer")}function be(T,N,G,ee,t){let e,n=1,o=T.length,c=N.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(T.length<2||N.length<2)return-1;n=2,o/=2,c/=2,G/=2}function v(j,X){return n===1?j[X]:j.readUInt16BE(X*n)}if(t){let j=-1;for(e=G;e<o;e++)if(v(T,e)===v(N,j===-1?0:e-j)){if(j===-1&&(j=e),e-j+1===c)return j*n}else j!==-1&&(e-=e-j),j=-1}else for(G+c>o&&(G=o-c),e=G;e>=0;e--){let j=!0;for(let X=0;X<c;X++)if(v(T,e+X)!==v(N,X)){j=!1;break}if(j)return e}return-1}function Ne(T,N,G,ee){G=Number(G)||0;const t=T.length-G;ee?(ee=Number(ee))>t&&(ee=t):ee=t;const e=N.length;let n;for(ee>e/2&&(ee=e/2),n=0;n<ee;++n){const o=parseInt(N.substr(2*n,2),16);if(lr(o))return n;T[G+n]=o}return n}function Xe(T,N,G,ee){return fs(Jo(N,T.length-G),T,G,ee)}function tt(T,N,G,ee){return fs(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(N),T,G,ee)}function gt(T,N,G,ee){return fs(Vs(N),T,G,ee)}function Vt(T,N,G,ee){return fs(function(t,e){let n,o,c;const v=[];for(let j=0;j<t.length&&!((e-=2)<0);++j)n=t.charCodeAt(j),o=n>>8,c=n%256,v.push(c),v.push(o);return v}(N,T.length-G),T,G,ee)}function xn(T,N,G){return N===0&&G===T.length?Eu(T):Eu(T.slice(N,G))}function Mn(T,N,G){G=Math.min(T.length,G);const ee=[];let t=N;for(;t<G;){const e=T[t];let n=null,o=e>239?4:e>223?3:e>191?2:1;if(t+o<=G){let c,v,j,X;switch(o){case 1:e<128&&(n=e);break;case 2:c=T[t+1],(192&c)==128&&(X=(31&e)<<6|63&c,X>127&&(n=X));break;case 3:c=T[t+1],v=T[t+2],(192&c)==128&&(192&v)==128&&(X=(15&e)<<12|(63&c)<<6|63&v,X>2047&&(X<55296||X>57343)&&(n=X));break;case 4:c=T[t+1],v=T[t+2],j=T[t+3],(192&c)==128&&(192&v)==128&&(192&j)==128&&(X=(15&e)<<18|(63&c)<<12|(63&v)<<6|63&j,X>65535&&X<1114112&&(n=X))}}n===null?(n=65533,o=1):n>65535&&(n-=65536,ee.push(n>>>10&1023|55296),n=56320|1023&n),ee.push(n),t+=o}return function(e){const n=e.length;if(n<=Dn)return String.fromCharCode.apply(String,e);let o="",c=0;for(;c<n;)o+=String.fromCharCode.apply(String,e.slice(c,c+=Dn));return o}(ee)}i.kMaxLength=f,A.TYPED_ARRAY_SUPPORT=function(){try{const T=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(T,N),T.foo()===42}catch{return!1}}(),A.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(T,N,G){return q(T,N,G)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(T,N,G){return function(ee,t,e){return te(ee),ee<=0?M(ee):t!==void 0?typeof e=="string"?M(ee).fill(t,e):M(ee).fill(t):M(ee)}(T,N,G)},A.allocUnsafe=function(T){return Q(T)},A.allocUnsafeSlow=function(T){return Q(T)},A.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==A.prototype},A.compare=function(T,N){if(xr(T,Uint8Array)&&(T=A.from(T,T.offset,T.byteLength)),xr(N,Uint8Array)&&(N=A.from(N,N.offset,N.byteLength)),!A.isBuffer(T)||!A.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===N)return 0;let G=T.length,ee=N.length;for(let t=0,e=Math.min(G,ee);t<e;++t)if(T[t]!==N[t]){G=T[t],ee=N[t];break}return G<ee?-1:ee<G?1:0},A.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(T,N){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return A.alloc(0);let G;if(N===void 0)for(N=0,G=0;G<T.length;++G)N+=T[G].length;const ee=A.allocUnsafe(N);let t=0;for(G=0;G<T.length;++G){let e=T[G];if(xr(e,Uint8Array))t+e.length>ee.length?(A.isBuffer(e)||(e=A.from(e)),e.copy(ee,t)):Uint8Array.prototype.set.call(ee,e,t);else{if(!A.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(ee,t)}t+=e.length}return ee},A.byteLength=ve,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<T;N+=2)ze(this,N,N+1);return this},A.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<T;N+=4)ze(this,N,N+3),ze(this,N+1,N+2);return this},A.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<T;N+=8)ze(this,N,N+7),ze(this,N+1,N+6),ze(this,N+2,N+5),ze(this,N+3,N+4);return this},A.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?Mn(this,0,T):We.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(T){if(!A.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||A.compare(this,T)===0},A.prototype.inspect=function(){let T="";const N=i.INSPECT_MAX_BYTES;return T=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(T+=" ... "),"<Buffer "+T+">"},s&&(A.prototype[s]=A.prototype.inspect),A.prototype.compare=function(T,N,G,ee,t){if(xr(T,Uint8Array)&&(T=A.from(T,T.offset,T.byteLength)),!A.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(N===void 0&&(N=0),G===void 0&&(G=T?T.length:0),ee===void 0&&(ee=0),t===void 0&&(t=this.length),N<0||G>T.length||ee<0||t>this.length)throw new RangeError("out of range index");if(ee>=t&&N>=G)return 0;if(ee>=t)return-1;if(N>=G)return 1;if(this===T)return 0;let e=(t>>>=0)-(ee>>>=0),n=(G>>>=0)-(N>>>=0);const o=Math.min(e,n),c=this.slice(ee,t),v=T.slice(N,G);for(let j=0;j<o;++j)if(c[j]!==v[j]){e=c[j],n=v[j];break}return e<n?-1:n<e?1:0},A.prototype.includes=function(T,N,G){return this.indexOf(T,N,G)!==-1},A.prototype.indexOf=function(T,N,G){return _e(this,T,N,G,!0)},A.prototype.lastIndexOf=function(T,N,G){return _e(this,T,N,G,!1)},A.prototype.write=function(T,N,G,ee){if(N===void 0)ee="utf8",G=this.length,N=0;else if(G===void 0&&typeof N=="string")ee=N,G=this.length,N=0;else{if(!isFinite(N))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");N>>>=0,isFinite(G)?(G>>>=0,ee===void 0&&(ee="utf8")):(ee=G,G=void 0)}const t=this.length-N;if((G===void 0||G>t)&&(G=t),T.length>0&&(G<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let e=!1;for(;;)switch(ee){case"hex":return Ne(this,T,N,G);case"utf8":case"utf-8":return Xe(this,T,N,G);case"ascii":case"latin1":case"binary":return tt(this,T,N,G);case"base64":return gt(this,T,N,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vt(this,T,N,G);default:if(e)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),e=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Dn=4096;function si(T,N,G){let ee="";G=Math.min(T.length,G);for(let t=N;t<G;++t)ee+=String.fromCharCode(127&T[t]);return ee}function mr(T,N,G){let ee="";G=Math.min(T.length,G);for(let t=N;t<G;++t)ee+=String.fromCharCode(T[t]);return ee}function dr(T,N,G){const ee=T.length;(!N||N<0)&&(N=0),(!G||G<0||G>ee)&&(G=ee);let t="";for(let e=N;e<G;++e)t+=La[T[e]];return t}function Yo(T,N,G){const ee=T.slice(N,G);let t="";for(let e=0;e<ee.length-1;e+=2)t+=String.fromCharCode(ee[e]+256*ee[e+1]);return t}function Zn(T,N,G){if(T%1!=0||T<0)throw new RangeError("offset is not uint");if(T+N>G)throw new RangeError("Trying to access beyond buffer length")}function $n(T,N,G,ee,t,e){if(!A.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>t||N<e)throw new RangeError('"value" argument is out of bounds');if(G+ee>T.length)throw new RangeError("Index out of range")}function qo(T,N,G,ee,t){Xo(N,ee,t,T,G,7);let e=Number(N&BigInt(4294967295));T[G++]=e,e>>=8,T[G++]=e,e>>=8,T[G++]=e,e>>=8,T[G++]=e;let n=Number(N>>BigInt(32)&BigInt(4294967295));return T[G++]=n,n>>=8,T[G++]=n,n>>=8,T[G++]=n,n>>=8,T[G++]=n,G}function Qi(T,N,G,ee,t){Xo(N,ee,t,T,G,7);let e=Number(N&BigInt(4294967295));T[G+7]=e,e>>=8,T[G+6]=e,e>>=8,T[G+5]=e,e>>=8,T[G+4]=e;let n=Number(N>>BigInt(32)&BigInt(4294967295));return T[G+3]=n,n>>=8,T[G+2]=n,n>>=8,T[G+1]=n,n>>=8,T[G]=n,G+8}function $o(T,N,G,ee,t,e){if(G+ee>T.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function Da(T,N,G,ee,t){return N=+N,G>>>=0,t||$o(T,0,G,4),os(T,N,G,ee,23,4),G+4}function ps(T,N,G,ee,t){return N=+N,G>>>=0,t||$o(T,0,G,8),os(T,N,G,ee,52,8),G+8}A.prototype.slice=function(T,N){const G=this.length;(T=~~T)<0?(T+=G)<0&&(T=0):T>G&&(T=G),(N=N===void 0?G:~~N)<0?(N+=G)<0&&(N=0):N>G&&(N=G),N<T&&(N=T);const ee=this.subarray(T,N);return Object.setPrototypeOf(ee,A.prototype),ee},A.prototype.readUintLE=A.prototype.readUIntLE=function(T,N,G){T>>>=0,N>>>=0,G||Zn(T,N,this.length);let ee=this[T],t=1,e=0;for(;++e<N&&(t*=256);)ee+=this[T+e]*t;return ee},A.prototype.readUintBE=A.prototype.readUIntBE=function(T,N,G){T>>>=0,N>>>=0,G||Zn(T,N,this.length);let ee=this[T+--N],t=1;for(;N>0&&(t*=256);)ee+=this[T+--N]*t;return ee},A.prototype.readUint8=A.prototype.readUInt8=function(T,N){return T>>>=0,N||Zn(T,1,this.length),this[T]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(T,N){return T>>>=0,N||Zn(T,2,this.length),this[T]|this[T+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(T,N){return T>>>=0,N||Zn(T,2,this.length),this[T]<<8|this[T+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(T,N){return T>>>=0,N||Zn(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(T,N){return T>>>=0,N||Zn(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},A.prototype.readBigUInt64LE=Mr(function(T){yo(T>>>=0,"offset");const N=this[T],G=this[T+7];N!==void 0&&G!==void 0||Li(T,this.length-8);const ee=N+256*this[++T]+65536*this[++T]+this[++T]*2**24,t=this[++T]+256*this[++T]+65536*this[++T]+G*2**24;return BigInt(ee)+(BigInt(t)<<BigInt(32))}),A.prototype.readBigUInt64BE=Mr(function(T){yo(T>>>=0,"offset");const N=this[T],G=this[T+7];N!==void 0&&G!==void 0||Li(T,this.length-8);const ee=N*2**24+65536*this[++T]+256*this[++T]+this[++T],t=this[++T]*2**24+65536*this[++T]+256*this[++T]+G;return(BigInt(ee)<<BigInt(32))+BigInt(t)}),A.prototype.readIntLE=function(T,N,G){T>>>=0,N>>>=0,G||Zn(T,N,this.length);let ee=this[T],t=1,e=0;for(;++e<N&&(t*=256);)ee+=this[T+e]*t;return t*=128,ee>=t&&(ee-=Math.pow(2,8*N)),ee},A.prototype.readIntBE=function(T,N,G){T>>>=0,N>>>=0,G||Zn(T,N,this.length);let ee=N,t=1,e=this[T+--ee];for(;ee>0&&(t*=256);)e+=this[T+--ee]*t;return t*=128,e>=t&&(e-=Math.pow(2,8*N)),e},A.prototype.readInt8=function(T,N){return T>>>=0,N||Zn(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},A.prototype.readInt16LE=function(T,N){T>>>=0,N||Zn(T,2,this.length);const G=this[T]|this[T+1]<<8;return 32768&G?4294901760|G:G},A.prototype.readInt16BE=function(T,N){T>>>=0,N||Zn(T,2,this.length);const G=this[T+1]|this[T]<<8;return 32768&G?4294901760|G:G},A.prototype.readInt32LE=function(T,N){return T>>>=0,N||Zn(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},A.prototype.readInt32BE=function(T,N){return T>>>=0,N||Zn(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},A.prototype.readBigInt64LE=Mr(function(T){yo(T>>>=0,"offset");const N=this[T],G=this[T+7];N!==void 0&&G!==void 0||Li(T,this.length-8);const ee=this[T+4]+256*this[T+5]+65536*this[T+6]+(G<<24);return(BigInt(ee)<<BigInt(32))+BigInt(N+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),A.prototype.readBigInt64BE=Mr(function(T){yo(T>>>=0,"offset");const N=this[T],G=this[T+7];N!==void 0&&G!==void 0||Li(T,this.length-8);const ee=(N<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(ee)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+G)}),A.prototype.readFloatLE=function(T,N){return T>>>=0,N||Zn(T,4,this.length),Ea(this,T,!0,23,4)},A.prototype.readFloatBE=function(T,N){return T>>>=0,N||Zn(T,4,this.length),Ea(this,T,!1,23,4)},A.prototype.readDoubleLE=function(T,N){return T>>>=0,N||Zn(T,8,this.length),Ea(this,T,!0,52,8)},A.prototype.readDoubleBE=function(T,N){return T>>>=0,N||Zn(T,8,this.length),Ea(this,T,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(T,N,G,ee){T=+T,N>>>=0,G>>>=0,ee||$n(this,T,N,G,Math.pow(2,8*G)-1,0);let t=1,e=0;for(this[N]=255&T;++e<G&&(t*=256);)this[N+e]=T/t&255;return N+G},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(T,N,G,ee){T=+T,N>>>=0,G>>>=0,ee||$n(this,T,N,G,Math.pow(2,8*G)-1,0);let t=G-1,e=1;for(this[N+t]=255&T;--t>=0&&(e*=256);)this[N+t]=T/e&255;return N+G},A.prototype.writeUint8=A.prototype.writeUInt8=function(T,N,G){return T=+T,N>>>=0,G||$n(this,T,N,1,255,0),this[N]=255&T,N+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(T,N,G){return T=+T,N>>>=0,G||$n(this,T,N,2,65535,0),this[N]=255&T,this[N+1]=T>>>8,N+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(T,N,G){return T=+T,N>>>=0,G||$n(this,T,N,2,65535,0),this[N]=T>>>8,this[N+1]=255&T,N+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(T,N,G){return T=+T,N>>>=0,G||$n(this,T,N,4,4294967295,0),this[N+3]=T>>>24,this[N+2]=T>>>16,this[N+1]=T>>>8,this[N]=255&T,N+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(T,N,G){return T=+T,N>>>=0,G||$n(this,T,N,4,4294967295,0),this[N]=T>>>24,this[N+1]=T>>>16,this[N+2]=T>>>8,this[N+3]=255&T,N+4},A.prototype.writeBigUInt64LE=Mr(function(T,N=0){return qo(this,T,N,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Mr(function(T,N=0){return Qi(this,T,N,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(T,N,G,ee){if(T=+T,N>>>=0,!ee){const o=Math.pow(2,8*G-1);$n(this,T,N,G,o-1,-o)}let t=0,e=1,n=0;for(this[N]=255&T;++t<G&&(e*=256);)T<0&&n===0&&this[N+t-1]!==0&&(n=1),this[N+t]=(T/e>>0)-n&255;return N+G},A.prototype.writeIntBE=function(T,N,G,ee){if(T=+T,N>>>=0,!ee){const o=Math.pow(2,8*G-1);$n(this,T,N,G,o-1,-o)}let t=G-1,e=1,n=0;for(this[N+t]=255&T;--t>=0&&(e*=256);)T<0&&n===0&&this[N+t+1]!==0&&(n=1),this[N+t]=(T/e>>0)-n&255;return N+G},A.prototype.writeInt8=function(T,N,G){return T=+T,N>>>=0,G||$n(this,T,N,1,127,-128),T<0&&(T=255+T+1),this[N]=255&T,N+1},A.prototype.writeInt16LE=function(T,N,G){return T=+T,N>>>=0,G||$n(this,T,N,2,32767,-32768),this[N]=255&T,this[N+1]=T>>>8,N+2},A.prototype.writeInt16BE=function(T,N,G){return T=+T,N>>>=0,G||$n(this,T,N,2,32767,-32768),this[N]=T>>>8,this[N+1]=255&T,N+2},A.prototype.writeInt32LE=function(T,N,G){return T=+T,N>>>=0,G||$n(this,T,N,4,2147483647,-2147483648),this[N]=255&T,this[N+1]=T>>>8,this[N+2]=T>>>16,this[N+3]=T>>>24,N+4},A.prototype.writeInt32BE=function(T,N,G){return T=+T,N>>>=0,G||$n(this,T,N,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[N]=T>>>24,this[N+1]=T>>>16,this[N+2]=T>>>8,this[N+3]=255&T,N+4},A.prototype.writeBigInt64LE=Mr(function(T,N=0){return qo(this,T,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Mr(function(T,N=0){return Qi(this,T,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(T,N,G){return Da(this,T,N,!0,G)},A.prototype.writeFloatBE=function(T,N,G){return Da(this,T,N,!1,G)},A.prototype.writeDoubleLE=function(T,N,G){return ps(this,T,N,!0,G)},A.prototype.writeDoubleBE=function(T,N,G){return ps(this,T,N,!1,G)},A.prototype.copy=function(T,N,G,ee){if(!A.isBuffer(T))throw new TypeError("argument should be a Buffer");if(G||(G=0),ee||ee===0||(ee=this.length),N>=T.length&&(N=T.length),N||(N=0),ee>0&&ee<G&&(ee=G),ee===G||T.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),T.length-N<ee-G&&(ee=T.length-N+G);const t=ee-G;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,G,ee):Uint8Array.prototype.set.call(T,this.subarray(G,ee),N),t},A.prototype.fill=function(T,N,G,ee){if(typeof T=="string"){if(typeof N=="string"?(ee=N,N=0,G=this.length):typeof G=="string"&&(ee=G,G=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!A.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(T.length===1){const e=T.charCodeAt(0);(ee==="utf8"&&e<128||ee==="latin1")&&(T=e)}}else typeof T=="number"?T&=255:typeof T=="boolean"&&(T=Number(T));if(N<0||this.length<N||this.length<G)throw new RangeError("Out of range index");if(G<=N)return this;let t;if(N>>>=0,G=G===void 0?this.length:G>>>0,T||(T=0),typeof T=="number")for(t=N;t<G;++t)this[t]=T;else{const e=A.isBuffer(T)?T:A.from(T,ee),n=e.length;if(n===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(t=0;t<G-N;++t)this[t+N]=e[t%n]}return this};const Xr={};function ms(T,N,G){Xr[T]=class extends G{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}function Us(T){let N="",G=T.length;const ee=T[0]==="-"?1:0;for(;G>=ee+4;G-=3)N=`_${T.slice(G-3,G)}${N}`;return`${T.slice(0,G)}${N}`}function Xo(T,N,G,ee,t,e){if(T>G||T<N){const n=typeof N=="bigint"?"n":"";let o;throw o=e>3?N===0||N===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(e+1)}${n}`:`>= -(2${n} ** ${8*(e+1)-1}${n}) and < 2 ** ${8*(e+1)-1}${n}`:`>= ${N}${n} and <= ${G}${n}`,new Xr.ERR_OUT_OF_RANGE("value",o,T)}(function(n,o,c){yo(o,"offset"),n[o]!==void 0&&n[o+c]!==void 0||Li(o,n.length-(c+1))})(ee,t,e)}function yo(T,N){if(typeof T!="number")throw new Xr.ERR_INVALID_ARG_TYPE(N,"number",T)}function Li(T,N,G){throw Math.floor(T)!==T?(yo(T,G),new Xr.ERR_OUT_OF_RANGE(G||"offset","an integer",T)):N<0?new Xr.ERR_BUFFER_OUT_OF_BOUNDS:new Xr.ERR_OUT_OF_RANGE(G||"offset",`>= ${G?1:0} and <= ${N}`,T)}ms("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ms("ERR_INVALID_ARG_TYPE",function(T,N){return`The "${T}" argument must be of type number. Received type ${typeof N}`},TypeError),ms("ERR_OUT_OF_RANGE",function(T,N,G){let ee=`The value of "${T}" is out of range.`,t=G;return Number.isInteger(G)&&Math.abs(G)>2**32?t=Us(String(G)):typeof G=="bigint"&&(t=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(t=Us(t)),t+="n"),ee+=` It must be ${N}. Received ${t}`,ee},RangeError);const Nc=/[^+/0-9A-Za-z-_]/g;function Jo(T,N){let G;N=N||1/0;const ee=T.length;let t=null;const e=[];for(let n=0;n<ee;++n){if(G=T.charCodeAt(n),G>55295&&G<57344){if(!t){if(G>56319){(N-=3)>-1&&e.push(239,191,189);continue}if(n+1===ee){(N-=3)>-1&&e.push(239,191,189);continue}t=G;continue}if(G<56320){(N-=3)>-1&&e.push(239,191,189),t=G;continue}G=65536+(t-55296<<10|G-56320)}else t&&(N-=3)>-1&&e.push(239,191,189);if(t=null,G<128){if((N-=1)<0)break;e.push(G)}else if(G<2048){if((N-=2)<0)break;e.push(G>>6|192,63&G|128)}else if(G<65536){if((N-=3)<0)break;e.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((N-=4)<0)break;e.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return e}function Vs(T){return Cu(function(N){if((N=(N=N.split("=")[0]).trim().replace(Nc,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(T))}function fs(T,N,G,ee){let t;for(t=0;t<ee&&!(t+G>=N.length||t>=T.length);++t)N[t+G]=T[t];return t}function xr(T,N){return T instanceof N||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===N.name}function lr(T){return T!=T}const La=function(){const T="0123456789abcdef",N=new Array(256);for(let G=0;G<16;++G){const ee=16*G;for(let t=0;t<16;++t)N[ee+t]=T[G]+T[t]}return N}();function Mr(T){return typeof BigInt=="undefined"?In:T}function In(){throw new Error("BigInt not supported")}}),xu=w(function(r,i){var s=as.Buffer;function f(A,q){for(var te in A)q[te]=A[te]}function M(A,q,te){return s(A,q,te)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?r.exports=as:(f(as,i),i.Buffer=M),f(s,M),M.from=function(A,q,te){if(typeof A=="number")throw new TypeError("Argument must not be a number");return s(A,q,te)},M.alloc=function(A,q,te){if(typeof A!="number")throw new TypeError("Argument must be a number");var Q=s(A);return q!==void 0?typeof te=="string"?Q.fill(q,te):Q.fill(q):Q.fill(0),Q},M.allocUnsafe=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return s(A)},M.allocUnsafeSlow=function(A){if(typeof A!="number")throw new TypeError("Argument must be a number");return as.SlowBuffer(A)}}),Ec=w(function(r){var i=65536,s=xu.Buffer,f=y.crypto||y.msCrypto;f&&f.getRandomValues?r.exports=function(M,A){if(M>4294967295)throw new RangeError("requested too many random bytes");var q=s.allocUnsafe(M);if(M>0)if(M>i)for(var te=0;te<M;te+=i)f.getRandomValues(q.slice(te,te+i));else f.getRandomValues(q);return typeof A=="function"?process.nextTick(function(){A(null,q)}):q}:r.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}});class mo{constructor(i,s){this.ufrag=i,this.pwd=s,this.lite=!1,this.endOfCandidates=!1}clone(){const i=new mo(this.ufrag,this.pwd);return i.setLite(this.lite),i.setEndOfCandidates(this.endOfCandidates),i}plain(){const i={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(i.lite=this.lite),this.endOfCandidates&&(i.endOfCandidates=this.endOfCandidates),i}getUfrag(){return this.ufrag}getPwd(){return this.pwd}isLite(){return this.lite}setLite(i){this.lite=i}isEndOfCandidates(){return this.endOfCandidates}setEndOfCandidates(i){this.endOfCandidates=i}}mo.generate=function(r){const i=new mo,s=Ec(8),f=Ec(24);return i.ufrag=s.toString("hex"),i.pwd=f.toString("hex"),i.lite=r,i},mo.expand=function(r){const i=new mo(r.ufrag,r.pwd);return i.setLite(r.lite),i.setEndOfCandidates(r.endOfCandidates),i};var qr=mo;const Cr=zo("SEND","RECV");Cr.byValue=function(r){return Cr[r.toUpperCase()]},Cr.toString=function(r){switch(r){case Cr.SEND:return"send";case Cr.RECV:return"recv"}},Cr.reverse=function(r){switch(r){case Cr.SEND:return Cr.RECV;case Cr.RECV:return Cr.SEND}};var Dt=Cr;class At{constructor(i,s){this.id=i,this.direction=s,this.formats=[],this.params=new Map}clone(){var i=new At(this.id,this.direction);return i.setFormats(this.formats),i.setParams(this.params),i}plain(){var i={id:this.id,direction:Dt.toString(this.direction)};for(var[s,f]of(this.formats&&(i.formats=this.formats),this.params.entries()))i.params||(i.params={}),i.params[s]=f;return i}getId(){return this.id}getDirection(){return this.direction}setDirection(i){this.direction=i}getFormats(){return this.formats}setFormats(i){this.formats=[];for(let s=0;s<i.length;++s)this.formats.push(parseInt(i[s]))}getParams(){return this.params}setParams(i){this.params=new Map(i)}addParam(i,s){this.params.set(i,s)}getDirection(){return this.direction}setDirection(i){this.direction=i}}At.expand=function(r){const i=new At(r.id,Dt.byValue(r.direction));for(let s in r.params)i.addParam(s,r.params[s]);return r.formats&&i.setFormats(r.formats),i};var xc=At;class Mc{constructor(i,s){this.paused=s,this.id=i}clone(){return new Mc(this.id,this.paused)}plain(){return{id:this.id,paused:this.paused}}isPaused(){return this.paused}getId(){return this.id}}Mc.expand=function(r){return new Mc(r.id,r.paused)};var Nl=Mc;class Vo{constructor(){this.send=[],this.recv=[]}clone(){const i=new Vo;for(let s=0;s<this.send.length;++s){let f=[];for(let M=0;s<this.send[M].length;++s)f.push(this.send[s][M].clone());i.addSimulcastAlternativeStreams(Dt.SEND,f)}for(let s=0;s<this.recv.length;++s){let f=[];for(let M=0;s<this.recv[M].length;++s)f.push(this.recv[s][M].clone());i.addSimulcastAlternativeStreams(Dt.RECV,f)}return i}plain(){const i={send:[],recv:[]};for(let s=0;s<this.send.length;++s){let f=[];for(let M=0;M<this.send[s].length;++M)f.push(this.send[s][M].plain());i.send.push(f)}for(let s=0;s<this.recv.length;++s){let f=[];for(let M=0;M<this.recv[s].length;++M)f.push(this.recv[s][M].plain());i.recv.push(f)}return i}addSimulcastAlternativeStreams(i,s){return i===Dt.SEND?this.send.push(s):this.recv.push(s)}addSimulcastStream(i,s){return i===Dt.SEND?this.send.push([s]):this.recv.push([s])}getSimulcastStreams(i){return i===Dt.SEND?this.send:this.recv}}Vo.expand=function(r){const i=new Vo;for(let s=0;s<r.send.length;++s){let f=[];for(let M=0;M<r.send[s].length;++M)f.push(Nl.expand(r.send[s][M]));i.addSimulcastAlternativeStreams(Dt.SEND,f)}for(let s=0;s<r.recv.length;++s){let f=[];for(let M=0;M<r.recv[s].length;++M)f.push(Nl.expand(r.recv[s][M]));i.addSimulcastAlternativeStreams(Dt.RECV,f)}return i};var Ic=Vo;const Zi=zo("SENDRECV","SENDONLY","RECVONLY","INACTIVE");Zi.byValue=function(r){return Zi[r.toUpperCase()]},Zi.toString=function(r){switch(r){case Zi.SENDRECV:return"sendrecv";case Zi.SENDONLY:return"sendonly";case Zi.RECVONLY:return"recvonly";case Zi.INACTIVE:return"inactive"}},Zi.reverse=function(r){switch(r){case Zi.SENDRECV:return Zi.SENDRECV;case Zi.SENDONLY:return Zi.RECVONLY;case Zi.RECVONLY:return Zi.SENDONLY;case Zi.INACTIVE:return Zi.INACTIVE}};var Bo=Zi;class xa{constructor(i,s){this.port=i,this.maxMessageSize=s}clone(){return new xa(this.port,this.maxMessageSize)}plain(){return{port:this.port,maxMessageSize:this.maxMessageSize}}getPort(){return this.port}getMaxMessageSize(){return this.maxMessageSize}}xa.expand=function(r){return new xa(r.port,r.maxMessageSize)};var ih=xa;class ss{constructor(i,s){this.id=i,this.type=s,this.direction=Bo.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}clone(){const i=new ss(this.id,this.type);i.setDirection(this.direction),i.setBitrate(this.bitrate);for(const s of this.codecs.values())i.addCodec(s.clone());for(const[s,f]of this.extensions.entries())i.addExtension(s,f);for(const s of this.rids.values())i.addRID(s.clone());return this.simulcast&&i.setSimulcast(this.simulcast.clone()),this.control&&i.setControl(this.control),this.dataChannel&&i.setDatachannel(this.dataChannel.clone()),i}plain(){const i={id:this.id,type:this.type,direction:Bo.toString(this.direction),codecs:[]};this.dataChannel&&(i.dataChannel=this.dataChannel.plain()),this.bitrate&&(i.bitrate=this.bitrate);for(const s of this.codecs.values())i.codecs.push(s.plain());for(const[s,f]of this.extensions.entries())i.extensions||(i.extensions={}),i.extensions[s]=f;for(const s of this.rids.values())i.rids||(i.rids=[]),i.rids.push(s.plain());return this.simulcast&&(i.simulcast=this.simulcast.plain()),this.control&&(i.control=this.control),i}getType(){return this.type}getId(){return this.id}setId(i){this.id=i}addExtension(i,s){this.extensions.set(i,s)}addRID(i){this.rids.set(i.getId(),i)}addCodec(i){this.codecs.set(i.getType(),i)}setCodecs(i){this.codecs=i}getCodecForType(i){return this.codecs.get(i)}getCodec(i){for(const s of this.codecs.values())if(s.getCodec().toLowerCase()===i.toLowerCase())return s;return null}hasCodec(i){return this.getCodec(i)!==null}getCodecs(){return this.codecs}hasRTX(){for(const i of this.codecs.values())if(i.hasRTX())return!0;return!1}getExtensions(){return this.extensions}getRIDs(){return this.rids}getRID(i){return this.rids.get(i)}getBitrate(){return this.bitrate}setBitrate(i){this.bitrate=i}getDirection(){return this.direction}setDirection(i){this.direction=i}hasControl(){return!!this.control}getControl(){return this.control}setControl(i){this.control=i}hasDataChannel(){return!!this.dataChannel}getDataChannel(){return this.dataChannel}setDataChannel(i){this.dataChannel=i}answer(i){const s=new ss(this.id,this.type);if(i){if(s.setDirection(Bo.reverse(this.direction)),i.codecs){let A;A=Array.isArray(i.codecs)?ho.MapFromNames(i.codecs,i.rtx,i.rtcpfbs):i.codecs;for(let q of this.codecs.values())if(A.has(q.getCodec().toLowerCase())){const te=A.get(q.getCodec().toLowerCase());if(te.getCodec()==="h264"&&te.hasParam("packetization-mode")&&te.getParam("packetization-mode")!=q.getParam("packetization-mode","0")||te.getCodec()==="h264"&&te.hasParam("profile-level-id")&&q.hasParam("profile-level-id")&&te.getParam("profile-level-id")!=q.getParam("profile-level-id")||te.getCodec()==="multiopus"&&te.hasParam("num_streams")&&q.hasParam("num_streams")&&te.getParam("num_streams")!=q.getParam("num_streams"))continue;const Q=te.clone();Q.setType(q.getType()),Q.hasRTX()&&Q.setRTX(q.getRTX()),q.hasChannels()&&Q.setChannels(q.getChannels()),Q.addParams(q.getParams()),s.addCodec(Q)}}const M=new Set(i.extensions);for(let[A,q]of this.extensions)M.has(q)&&s.addExtension(A,q);if(i.simulcast&&this.simulcast){const A=new Ic,q=this.simulcast.getSimulcastStreams(Dt.SEND);if(q)for(let Q=0;Q<q.length;++Q){var f=[];for(let re=0;re<q[Q].length;++re)f.push(q[Q][re].clone());A.addSimulcastAlternativeStreams(Dt.RECV,f)}const te=this.simulcast.getSimulcastStreams(Dt.RECV);if(te)for(let Q=0;Q<te.length;++Q){f=[];for(let re=0;re<te[Q].length;++re)f.push(te[Q][re].clone());A.addSimulcastAlternativeStreams(Dt.SEND,f)}for(const Q of this.rids.values()){const re=Q.clone();re.setDirection(Dt.reverse(Q.getDirection())),s.addRID(re)}s.setSimulcast(A)}if(i.dataChannel&&this.dataChannel){const A=new ih(this.dataChannel.getPort(),i.dataChannel.maxMessageSize?i.dataChannel.maxMessageSize:this.dataChannel.getMaxMessageSize());s.setDataChannel(A)}}else s.setDirection(Bo.INACTIVE);return s}getSimulcast(){return this.simulcast}setSimulcast(i){this.simulcast=i}}ss.create=function(r,i){const s=new ss(r,r);return i?i.codecs&&(Array.isArray(i.codecs)?s.setCodecs(ho.MapFromNames(i.codecs,i.rtx,i.rtcpfbs)):s.setCodecs(i.codecs)):s.setDirection(Bo.INACTIVE),s},ss.expand=function(r){const i=new ss(r.id,r.type);if(r.direction&&i.setDirection(Bo.byValue(r.direction)),i.setBitrate(r.bitrate),r.dataChannel){const s=ih.expand(r.dataChannel);s&&i.setDataChannel(s)}for(let s in r.extensions)i.addExtension(s,r.extensions[s]);for(let s=0;r.codecs&&s<r.codecs.length;++s){const f=ho.expand(r.codecs[s]);f&&i.addCodec(f)}for(let s=0;r.rids&&s<r.rids.length;++s){const f=xc.expand(r.rids[s]);i.addRID(f)}return r.simulcast&&i.setSimulcast(Ic.expand(r.simulcast)),r.control&&i.setControl(r.control),i};var Mu=ss;class Ma{constructor(i,s){this.semantics=i,this.ssrcs=[];for(let f=0;f<s.length;++f)this.ssrcs.push(parseInt(s[f]))}clone(){return new Ma(this.semantics,this.ssrcs)}plain(){const i={semantics:this.semantics,ssrcs:[]};for(let s=0;s<this.ssrcs.length;++s)i.ssrcs.push(this.ssrcs[s]);return i}getSemantics(){return this.semantics}getSSRCs(){return this.ssrcs}}Ma.expand=function(r){return new Ma(r.semantics,r.ssrcs)};var Dd=Ma;class Iu{constructor(i){this.ssrc=i}clone(){const i=new Iu(this.ssrc);i.setCName(this.cname),i.setStreamId(this.streamId),i.setTrackId(this.trackId)}plain(){const i={ssrc:this.ssrc};return this.cname&&(i.cname=this.cname),this.streamId&&(i.streamId=this.streamId),this.trackId&&(i.trackid=this.trackId),i}getCName(){return this.cname}setCName(i){this.cname=i}getStreamId(){return this.streamId}setStreamId(i){this.streamId=i}getTrackId(){return this.trackId}setTrackId(i){this.trackId=i}getSSRC(){return this.ssrc}}Iu.expand=function(r){const i=new Iu(r.ssrc);return i.setCName(r.cname),i.setStreamId(r.streamId),i.setTrackId(r.trackId),i};var rh=Iu;class cs{constructor(i,s){this.id=i,this.paused=s,this.codecs=new Map,this.params=new Map}clone(){var i=new cs(this.id,this.paused);for(let s of this.codecs.values())i.addCodec(s.clone());return i.setParams(this.params),i}plain(){var i={id:this.id,paused:this.paused,codecs:{},params:{}};for(var[s,f]of this.codecs.entries())i.codecs[s]=f.plain();for(var[s,M]of this.params.entries())i.params[s]=M;return i}getId(){return this.id}getCodecs(){return this.codecs}addCodec(i){this.codecs.set(i.getType(),i)}getParams(){return this.params}setParams(i){this.params=new Map(i)}addParam(i,s){this.params.set(i,s)}isPaused(){return this.paused}}cs.expand=function(r){const i=new cs(r.id,r.paused);for(let s in r.codecs)i.addCodec(ho.expand(r.codecs[s]));for(let s in r.params)i.addParam(s,r.params[s]);return i};var Pu=cs;class Ia{constructor(i,s){this.media=i,this.id=s,this.ssrcs=[],this.groups=[],this.encodings=[]}clone(){const i=new Ia(this.media,this.id);this.mediaId&&i.setMediaId(this.mediaId);for(let s=0;s<this.ssrcs.length;++s)i.addSSRC(this.ssrcs[s]);for(let s=0;s<this.groups.length;++s)i.addSourceGroup(this.groups[s].clone());for(let s=0;s<this.encodings.length;++s){const f=[];for(let M=0;M<this.encodings[s].length;++M)f.push(this.encodings[s][M].clone());i.addAlternativeEncodings(f)}return i}plain(){const i={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(i.mediaId=this.mediaId);for(let s=0;s<this.ssrcs.length;++s)i.ssrcs.push(this.ssrcs[s]);for(let s=0;s<this.groups.length;++s)i.groups||(i.groups=[]),i.groups.push(this.groups[s].plain());for(let s=0;s<this.encodings.length;++s){const f=[];for(let M=0;M<this.encodings[s].length;++M)f.push(this.encodings[s][M].plain());f.length&&(i.encodings||(i.encodings=[]),i.encodings.push(f))}return i}getMedia(){return this.media}setMediaId(i){this.mediaId=i}getMediaId(){return this.mediaId}getId(){return this.id}addSSRC(i){this.ssrcs.push(i)}getSSRCs(){return this.ssrcs}addSourceGroup(i){this.groups.push(i)}getSourceGroup(i){for(const s of this.groups)if(s.getSemantics().toLowerCase()===i.toLowerCase())return s;return null}getSourceGroups(){return this.groups}hasSourceGroup(i){for(const s of this.groups)if(s.getSemantics().toLowerCase()===i.toLowerCase())return!0;return!1}getEncodings(){return this.encodings}addEncoding(i){this.encodings.push([i])}addAlternativeEncodings(i){this.encodings.push(i)}setEncodings(i){this.encodings=i}}Ia.expand=function(r){const i=new Ia(r.media,r.id);r.mediaId&&i.setMediaId(r.mediaId);for(let s=0;r.ssrcs&&s<r.ssrcs.length;++s)i.addSSRC(r.ssrcs[s]);for(let s=0;r.groups&&s<r.groups.length;++s)i.addSourceGroup(Dd.expand(r.groups[s]));for(let s=0;r.encodings&&s<r.encodings.length;++s){const f=[];for(let M=0;M<r.encodings[s].length;++M)f.push(Pu.expand(r.encodings[s][M]));i.addAlternativeEncodings(f)}return i};var Ds=Ia;class Ru{constructor(i){this.id=i,this.tracks=new Map}clone(){const i=new Ru(this.id);for(const s of this.tracks.values())i.addTrack(s.clone());return i}plain(){const i={id:this.id,tracks:[]};for(const s of this.tracks.values())i.tracks.push(s.plain());return i}getId(){return this.id}addTrack(i){this.tracks.set(i.getId(),i)}removeTrack(i){return this.tracks.delete(i.getId())}removeTrackById(i){return this.tracks.delete(i)}getFirstTrack(i){for(let s of this.tracks.values())if(s.getMedia().toLowerCase()===i.toLowerCase())return s;return null}getTracks(){return this.tracks}removeAllTracks(){this.tracks.clear()}getTrack(i){return this.tracks.get(i)}}Ru.expand=function(r){const i=new Ru(r.id,r.paused);for(let s=0;s<r.tracks.length;++s){const f=Ds.expand(r.tracks[s]);f&&i.addTrack(f)}return i};var Ls=Ru;class $r{constructor(i){this.version=i||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}clone(){const i=new $r(this.version);for(let s=0;s<this.medias.length;++s)i.addMedia(this.medias[s].clone());for(const s of this.streams.values())i.addStream(s.clone());for(let s=0;s<this.candidates.length;++s)i.addCandidate(this.candidates[s].clone());return i.setICE(this.ice.clone()),this.dtls&&i.setDTLS(this.dtls.clone()),this.crypto&&i.setCrypto(this.crypto.clone()),i.setExmapAllowMixed(this.extmapAllowMixed),i}plain(){const i={version:this.version,streams:[],medias:[],candidates:[]};for(let s=0;s<this.medias.length;++s)i.medias.push(this.medias[s].plain());for(const s of this.streams.values())i.streams.push(s.plain());for(let s=0;s<this.candidates.length;++s)i.candidates.push(this.candidates[s].plain());return this.ice&&(i.ice=this.ice.plain()),this.dtls&&(i.dtls=this.dtls.plain()),this.crypto&&(i.crypto=this.crypto.plain()),this.extmapAllowMixed||(i.extmapAllowMixedNotSupported=!this.extmapAllowMixed),i}unify(){const i=new $r(this.version);for(let f=0;f<this.medias.length;++f)i.addMedia(this.medias[f].clone());const s={audio:i.getMediasByType("audio"),video:i.getMediasByType("video")};for(const f of this.streams.values()){const M=f.clone();for(const A of M.getTracks().values()){let q=s[A.getMedia()].pop();q||(q=this.getMedia(A.getMedia()).clone(),q.setId(A.getId()),i.addMedia(q)),A.setMediaId(q.getId())}i.addStream(M)}for(let f=0;f<this.candidates.length;++f)i.addCandidate(this.candidates[f].clone());return this.ice&&i.setICE(this.ice.clone()),this.dtls&&i.setDTLS(this.dtls.clone()),this.crypto&&i.setCrypto(this.crypto.clone()),i}setVersion(i){this.version=i}addMedia(i){this.medias.push(i)}getMedia(i){for(let s in this.medias){let f=this.medias[s];if(f.getType().toLowerCase()===i.toLowerCase())return f}return null}getMediasByType(i){var s=[];for(let f in this.medias){let M=this.medias[f];M.getType().toLowerCase()===i.toLowerCase()&&s.push(M)}return s}getMediaById(i){for(let s in this.medias){let f=this.medias[s];if(f.getId().toLowerCase()===i.toLowerCase())return f}return null}replaceMedia(i){for(let s in this.medias)if(this.medias[s].getId()==i.getId())return this.medias[s]=i,!0;return!1}getMedias(){return this.medias}getVersion(){return this.version}getDTLS(){return this.dtls}setDTLS(i){this.dtls=i}hasCrypto(){return!!this.crypto}getCrypto(){return this.crypto}setCrypto(i){this.crypto=i}hasICE(){return!!this.ice}getICE(){return this.ice}setICE(i){this.ice=i}addCandidate(i){for(let s=0;s<this.candidates.length;++s)if(this.candidates[s].equals(i))return;this.candidates.push(i)}addCandidates(i){for(let s=0;s<i.length;++s)this.addCandidate(i[s])}getCandidates(){return this.candidates}getStream(i){return this.streams.get(i)}getStreams(){return this.streams}getFirstStream(){for(let i of this.streams.values())return i;return null}addStream(i){this.streams.set(i.getId(),i)}removeStream(i){return this.streams.delete(i.getId())}removeAllStreams(){this.streams.clear()}getTrackByMediaId(i){for(let s of this.streams.values())for(let[f,M]of s.getTracks())if(M.getMediaId()==i)return M;return null}getStreamByMediaId(i){for(let s of this.streams.values())for(let[f,M]of s.getTracks())if(M.getMediaId()==i)return s;return null}getExtmapAllowMixed(){return this.extmapAllowMixed}setExtmapAllowMixed(i){this.extmapAllowMixed=i}answer(i){const s=new $r;i.ice&&(i.ice instanceof qr?s.setICE(i.ice.clone()):s.setICE(qr.expand(i.ice))),i.dtls&&(i.dtls instanceof Rs?s.setDTLS(i.dtls):s.setDTLS(Rs.expand(i.dtls))),i.crypto&&(i.crypto instanceof Uo?s.setCrypto(i.crypto):s.setCrypto(Uo.expand(i.crypto)));for(let f=0;i.candidates&&f<i.candidates.length;++f)i.candidates[f]instanceof jc?s.addCandidate(i.candidates[f].clone()):s.addCandidate(jc.expand(i.candidates[f]));for(const f of this.medias){const M=i&&i.capabilities&&i.capabilities[f.getType()];s.addMedia(f.answer(M))}return s.setExtmapAllowMixed(this.extmapAllowMixed),s}toString(){let i={version:0,media:[]};i.version=0,i.origin={username:"-",sessionId:new Date().getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},i.name="semantic-sdp",i.connection={version:4,ip:"0.0.0.0"},i.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(i.icelite="ice-lite"),i.msidSemantic={semantic:"WMS",token:"*"},i.groups=[],this.extmapAllowMixed&&(i.extmapAllowMixed="extmap-allow-mixed");let s={type:"BUNDLE",mids:[]};for(let f in this.medias){let M=this.medias[f],A={type:M.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};A.direction=Bo.toString(M.getDirection()),this.extmapAllowMixed&&(A.extmapAllowMixed="extmap-allow-mixed"),A.mid=M.getId(),s.mids.push(M.getId()),M.hasControl()&&(A.control=M.getControl()),M.getBitrate()>0&&(A.bandwidth.push({type:"AS",limit:M.getBitrate()}),A.bandwidth.push({type:"TIAS",limit:1e3*M.getBitrate()}));let q=this.getCandidates();for(let te=0;te<q.length;++te){let Q=q[te];A.candidates.push({foundation:Q.getFoundation(),component:Q.getComponentId(),transport:Q.getTransport(),priority:Q.getPriority(),ip:Q.getAddress(),port:Q.getPort(),type:Q.getType(),raddr:Q.getRelAddr(),rport:Q.getRelPort()})}if(this.getICE()&&(A.iceUfrag=this.getICE().getUfrag(),A.icePwd=this.getICE().getPwd()),["audio","video"].includes(M.getType().toLowerCase())){A.rtcpMux="rtcp-mux",A.rtcpRsize="rtcp-rsize",this.getDTLS()?(A.protocol="UDP/TLS/RTP/SAVPF",A.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},A.setup=Ai.toString(this.getDTLS().getSetup())):this.getCrypto()?(A.protocol="RTP/SAVPF",A.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):A.protocol="RTP/AVP";for(let re of M.getCodecs().values()){M.getType().toLowerCase()==="video"?A.rtp.push({payload:re.getType(),codec:re.getCodec().toUpperCase(),rate:9e4}):re.getCodec().toLowerCase()==="opus"||re.getCodec().toLowerCase()==="multiopus"?A.rtp.push({payload:re.getType(),codec:re.getCodec(),rate:48e3,encoding:re.getChannels()}):A.rtp.push({payload:re.getType(),codec:re.getCodec(),rate:8e3});for(const ce of re.getRTCPFeedbacks())A.rtcpFb.push({payload:re.getType(),type:ce.getId(),subtype:ce.getParams().join(" ")});re.hasRTX()&&(A.rtp.push({payload:re.getRTX(),codec:"rtx",rate:9e4}),A.fmtp.push({payload:re.getRTX(),config:"apt="+re.getType()}));const se=re.getParams();if(Object.keys(se).length){const ce={payload:re.getType(),config:""};for(const ve in se)ce.config.length&&(ce.config+=";"),se.hasOwnProperty(ve)?ce.config+=ve+"="+se[ve]:ce.config+=ve;A.fmtp.push(ce)}}const te=[];for(let re=0;re<A.rtp.length;++re)te.push(A.rtp[re].payload);A.payloads=te.join(" ");for(let[re,se]of M.getExtensions().entries())A.ext.push({value:re,uri:se});for(let re of M.getRIDs().values()){let se={id:re.getId(),direction:Dt.toString(re.getDirection()),params:""};re.getFormats().length&&(se.params="pt="+re.getFormats().join(","));for(let[ce,ve]of re.getParams().entries())se.params+=(se.params.length?";":"")+ce+"="+ve;A.rids.push(se)}const Q=M.getSimulcast();if(Q){let re=1;A.simulcast={};const se=Q.getSimulcastStreams(Dt.SEND),ce=Q.getSimulcastStreams(Dt.RECV);if(se&&se.length){let ve="";for(let We=0;We<se.length;++We){let ze="";for(let _e=0;_e<se[We].length;++_e)ze+=(ze.length?",":"")+(se[We][_e].isPaused()?"~":"")+se[We][_e].getId();ve+=(ve.length?";":"")+ze}A.simulcast["dir"+re]="send",A.simulcast["list"+re]=ve,re++}if(ce&&ce.length){let ve=[];for(let We=0;We<ce.length;++We){let ze="";for(let _e=0;_e<ce[We].length;++_e)ze+=(ze.length?",":"")+(ce[We][_e].isPaused()?"~":"")+ce[We][_e].getId();ve+=(ve.length?";":"")+ze}A.simulcast["dir"+re]="recv",A.simulcast["list"+re]=ve,re++}}}else if(M.hasDataChannel()){A.protocol="UDP/DTLS/SCTP",A.payloads="webrtc-datachannel";const te=M.getDataChannel();A.sctpPort=te.getPort(),A.maxMessageSize=te.getMaxMessageSize()}i.media.push(A)}for(let f of this.streams.values())for(let M of f.getTracks().values())for(let A in i.media){let q=i.media[A];if(M.getMediaId()){if(M.getMediaId()==q.mid){let te=M.getSourceGroups();for(let re in te){let se=te[re];q.ssrcGroups.push({semantics:se.getSemantics(),ssrcs:se.getSSRCs().join(" ")})}let Q=M.getSSRCs();for(let re in Q)q.ssrcs.push({id:Q[re],attribute:"cname",value:f.getId()}),q.ssrcs.push({id:Q[re],attribute:"msid",value:f.getId()+" "+M.getId()});q.msid=f.getId()+" "+M.getId();break}}else if(q.type.toLowerCase()===M.getMedia().toLowerCase()){let te=M.getSourceGroups();for(let re in te){let se=te[re];q.ssrcGroups.push({semantics:se.getSemantics(),ssrcs:se.getSSRCs().join(" ")})}let Q=M.getSSRCs();for(let re in Q)q.ssrcs.push({id:Q[re],attribute:"cname",value:f.getId()}),q.ssrcs.push({id:Q[re],attribute:"msid",value:f.getId()+" "+M.getId()});break}}return s.mids=s.mids.join(" "),i.groups.push(s),Tc.write(i)}toIceFragmentString(){let i={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(i.icelite="ice-lite"),this.getICE()&&(i.iceUfrag=this.getICE().getUfrag(),i.icePwd=this.getICE().getPwd());for(const s of this.getCandidates())i.candidates.push({foundation:s.getFoundation(),component:s.getComponentId(),transport:s.getTransport(),priority:s.getPriority(),ip:s.getAddress(),port:s.getPort(),type:s.getType(),raddr:s.getRelAddr(),rport:s.getRelPort()});return Tc.write(i).slice(10)}}$r.create=function(r){const i=new $r;r.ice&&(r.ice instanceof qr?i.setICE(r.ice.clone()):i.setICE(qr.expand(r.ice))),r.dtls&&(r.dtls instanceof Rs?i.setDTLS(r.dtls):i.setDTLS(Rs.expand(r.dtls))),r.crypto&&(r.crypto instanceof Uo?i.setCrypto(r.crypto):i.setCrypto(Uo.expand(r.crypto)));for(let M=0;r.candidates&&M<r.candidates.length;++M)r.candidates[M]instanceof jc?i.addCandidate(r.candidates[M].clone()):i.addCandidate(jc.expand(r.candidates[M]));let s=96,f=1;for(let M in r.capabilities){const A=Mu.create(M,r.capabilities[M]);for(const[q,te]of A.getCodecs())te.getType()>=96&&te.setType(s++),te.getRTX()&&te.setRTX(s++);if(r.capabilities[M].extensions)for(let q of r.capabilities[M].extensions)f===15&&f++,A.addExtension(f++,q);i.addMedia(A)}return i},$r.expand=function(r){const i=new $r(r.version);for(let s=0;r.medias&&s<r.medias.length;++s){const f=Mu.expand(r.medias[s]);f&&i.addMedia(f)}for(let s=0;r.streams&&s<r.streams.length;++s){const f=Ls.expand(r.streams[s]);f&&i.addStream(f)}for(let s=0;r.candidates&&s<r.candidates.length;++s){const f=jc.expand(r.candidates[s]);f&&i.addCandidate(f)}return r.ice&&i.setICE(qr.expand(r.ice)),r.dtls&&i.setDTLS(Rs.expand(r.dtls)),r.crypto&&i.setCrypto(Rs.expand(r.crypto)),r.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!r.extmapAllowMixedNotSupported),i},$r.process=function(r){return $r.parse(r)},$r.parse=function(r){const i=Tc.parse(r),s=new $r;if(s.setVersion(i.version),i.iceUfrag&&i.icePwd){const f=String(i.iceUfrag),M=String(i.icePwd),A=new qr(f,M);A.setLite(i.icelite=="ice-lite"),A.setEndOfCandidates(i.endOfCandidates=="end-of-candidates"),s.setICE(A)}for(let f in i.media){const M=i.media[f],A=M.type,q=M.mid?M.mid.toString():f,te=new Mu(q,A);if(M.iceUfrag&&M.icePwd){const _e=String(M.iceUfrag),be=String(M.icePwd),Ne=new qr(_e,be);Ne.setLite(i.icelite=="ice-lite"),Ne.setEndOfCandidates(M.endOfCandidates=="end-of-candidates"),s.setICE(Ne)}for(let _e=0;M.candidates&&_e<M.candidates.length;++_e){const be=M.candidates[_e],Ne=new jc(be.foundation,be.component,be.transport,be.priority,be.ip,be.port,be.type,be.raddr,be.rport);s.addCandidate(Ne)}const Q=M.fingerprint||i.fingerprint;if(Q){const _e=Q.type,be=Q.hash;let Ne=Ai.ACTPASS;M.setup&&(Ne=Ai.byValue(M.setup)),s.setDTLS(new Rs(Ne,_e,be))}if(M.crypto){const _e=M.crypto[0];s.setCrypto(new Uo(_e.id,_e.suite,_e.config,_e.sessionConfig))}let re=Bo.SENDRECV;M.direction&&(re=Bo.byValue(M.direction),te.setDirection(re)),M.control&&te.setControl(M.control),s.setExtmapAllowMixed(M.extmapAllowMixed=="extmap-allow-mixed"||i.extmapAllowMixed=="extmap-allow-mixed");const se=new Map;for(let _e in M.rtp){const be=M.rtp[_e],Ne=be.payload,Xe=be.codec;if(Xe.toUpperCase()==="RED"||Xe.toUpperCase()==="ULPFEC")continue;let tt={};for(let gt in M.fmtp){const Vt=M.fmtp[gt];if(Vt.payload===Ne){const xn=Vt.config.split(";");for(let Mn in xn){const Dn=xn[Mn].split("="),si=Dn[0].trim(),mr=Dn.splice(1).join("=").trim();tt[si]=mr}}}if(Xe.toUpperCase()==="RTX")se.set(parseInt(tt.apt),Ne);else{const gt=new ho(Xe,Ne,tt);be.encoding>1&&gt.setChannels(be.encoding),te.addCodec(gt)}}for(let _e of se.entries()){const be=te.getCodecForType(_e[0]);be&&be.setRTX(_e[1])}for(let _e=0;M.rtcpFb&&_e<M.rtcpFb.length;++_e){const be=te.getCodecForType(M.rtcpFb[_e].payload);if(be){const Ne=M.rtcpFb[_e].type,Xe=M.rtcpFb[_e].subtype?M.rtcpFb[_e].subtype.split(" "):null;be.addRTCPFeedback(new lo(Ne,Xe))}}const ce=M.ext;for(let _e in ce){const be=ce[_e];te.addExtension(be.value,be.uri)}const ve=M.rids;for(let _e in ve){const be=ve[_e],Ne=new xc(be.id,Dt.byValue(be.direction));let Xe=[];const tt=new Map;if(be.params){const gt=Tc.parseParams(be.params);for(let Vt in gt)Vt==="pt"?Xe=gt[Vt].split(","):tt.set(Vt,gt[Vt]);Ne.setFormats(Xe),Ne.setParams(tt)}te.addRID(Ne)}const We=[];if(M.simulcast){const _e=new Ic;if(M.simulcast.dir1){const be=Dt.byValue(M.simulcast.dir1),Ne=Tc.parseSimulcastStreamList(M.simulcast.list1);for(let Xe=0;Xe<Ne.length;++Xe){const tt=[];for(let gt=0;gt<Ne[Xe].length;++gt)tt.push(new Nl(Ne[Xe][gt].scid,Ne[Xe][gt].paused));_e.addSimulcastAlternativeStreams(be,tt)}}if(M.simulcast.dir2){const be=Dt.byValue(M.simulcast.dir2),Ne=Tc.parseSimulcastStreamList(M.simulcast.list2);for(let Xe=0;Xe<Ne.length;++Xe){const tt=[];for(let gt=0;gt<Ne[Xe].length;++gt)tt.push(new Nl(Ne[Xe][gt].scid,Ne[Xe][gt].paused));_e.addSimulcastAlternativeStreams(be,tt)}}for(let be of _e.getSimulcastStreams(Dt.SEND)){const Ne=[];for(let Xe=0;Xe<be.length;Xe++){const tt=new Pu(be[Xe].getId(),be[Xe].isPaused()),gt=te.getRID(tt.getId());if(gt){const Vt=gt.getFormats();for(let xn=0;Vt&&xn<Vt.length;++xn){const Mn=te.getCodecForType(Vt[xn]);Mn&&tt.addCodec(Mn)}tt.setParams(gt.getParams()),Ne.push(tt)}}Ne.length&&We.push(Ne)}te.setSimulcast(_e)}const ze=new Map;if(M.ssrcs)for(let _e in M.ssrcs){let be=M.ssrcs[_e],Ne=be.id,Xe=be.attribute,tt=be.value,gt=ze.get(Ne);if(gt||(gt=new rh(Ne),ze.set(gt.getSSRC(),gt)),Xe.toLowerCase()==="cname")gt.setCName(tt);else if(Xe.toLowerCase()==="msid"){let Vt=tt.split(" "),xn=Vt[0],Mn=Vt[1];gt.setStreamId(xn),gt.setTrackId(Mn);let Dn=s.getStream(xn);Dn||(Dn=new Ls(xn),s.addStream(Dn));let si=Dn.getTrack(Mn);si||(si=new Ds(A,Mn),si.setMediaId(q),si.setEncodings(We),Dn.addTrack(si)),si.addSSRC(Ne)}}if(M.msid){let _e=M.msid.split(" "),be=_e[0],Ne=_e[1],Xe=s.getStream(be);Xe||(Xe=new Ls(be),s.addStream(Xe));let tt=Xe.getTrack(Ne);tt||(tt=new Ds(A,Ne),tt.setMediaId(q),tt.setEncodings(We),Xe.addTrack(tt));for(let[gt,Vt]of ze.entries())Vt.getStreamId()||(Vt.setStreamId(be),Vt.setTrackId(Ne),tt.addSSRC(gt))}for(let[_e,be]of ze.entries())if(!be.getStreamId()){let Ne=be.getCName(),Xe=q;be.setStreamId(Ne),be.setTrackId(Xe);let tt=s.getStream(Ne);tt||(tt=new Ls(Ne),s.addStream(tt));let gt=tt.getTrack(Xe);gt||(gt=new Ds(A,Xe),gt.setMediaId(q),gt.setEncodings(We),tt.addTrack(gt)),gt.addSSRC(_e)}if(M.ssrcGroups)for(let _e in M.ssrcGroups){let be=M.ssrcGroups[_e],Ne=be.ssrcs.split(" "),Xe=new Dd(be.semantics,Ne),tt=ze.get(parseInt(Ne[0]));tt&&s.getStream(tt.getStreamId()).getTrack(tt.getTrackId()).addSourceGroup(Xe)}if(M.type=="application"&&M.payloads=="webrtc-datachannel"){const _e=new ih(M.sctpPort,M.maxMessageSize);te.setDataChannel(_e)}s.addMedia(te)}return s};var fo={SDPInfo:$r,CandidateInfo:jc,CodecInfo:ho,DTLSInfo:Rs,CryptoInfo:Uo,ICEInfo:qr,MediaInfo:Mu,Setup:Ai,SourceGroupInfo:Dd,SourceInfo:rh,StreamInfo:Ls,TrackInfo:Ds,RTCPFeedbackInfo:lo,TrackEncodingInfo:Pu,Direction:Bo},Ld=w(function(r,i){(function(s,f){var M="function",A="undefined",q="object",te="string",Q="model",re="name",se="type",ce="vendor",ve="version",We="architecture",ze="console",_e="mobile",be="tablet",Ne="smarttv",Xe="wearable",tt="embedded",gt="Amazon",Vt="Apple",xn="ASUS",Mn="BlackBerry",Dn="Browser",si="Chrome",mr="Firefox",dr="Google",Yo="Huawei",Zn="LG",$n="Microsoft",qo="Motorola",Qi="Opera",$o="Samsung",Da="Sharp",ps="Sony",Xr="Xiaomi",ms="Zebra",Us="Facebook",Xo=function(In){for(var T={},N=0;N<In.length;N++)T[In[N].toUpperCase()]=In[N];return T},yo=function(In,T){return typeof In===te&&Li(T).indexOf(Li(In))!==-1},Li=function(In){return In.toLowerCase()},Nc=function(In,T){if(typeof In===te)return In=In.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof T===A?In:In.substring(0,350)},Jo=function(In,T){for(var N,G,ee,t,e,n,o=0;o<T.length&&!e;){var c=T[o],v=T[o+1];for(N=G=0;N<c.length&&!e;)if(e=c[N++].exec(In))for(ee=0;ee<v.length;ee++)n=e[++G],typeof(t=v[ee])===q&&t.length>0?t.length===2?typeof t[1]==M?this[t[0]]=t[1].call(this,n):this[t[0]]=t[1]:t.length===3?typeof t[1]!==M||t[1].exec&&t[1].test?this[t[0]]=n?n.replace(t[1],t[2]):f:this[t[0]]=n?t[1].call(this,n,t[2]):f:t.length===4&&(this[t[0]]=n?t[3].call(this,n.replace(t[1],t[2])):f):this[t]=n||f;o+=2}},Vs=function(In,T){for(var N in T)if(typeof T[N]===q&&T[N].length>0){for(var G=0;G<T[N].length;G++)if(yo(T[N][G],In))return N==="?"?f:N}else if(yo(T[N],In))return N==="?"?f:N;return In},fs={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},xr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[ve,[re,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[ve,[re,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[re,ve],[/opios[\/ ]+([\w\.]+)/i],[ve,[re,Qi+" Mini"]],[/\bopr\/([\w\.]+)/i],[ve,[re,Qi]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[re,ve],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[ve,[re,"UC"+Dn]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[ve,[re,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[ve,[re,"WeChat"]],[/konqueror\/([\w\.]+)/i],[ve,[re,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[ve,[re,"IE"]],[/yabrowser\/([\w\.]+)/i],[ve,[re,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[re,/(.+)/,"$1 Secure "+Dn],ve],[/\bfocus\/([\w\.]+)/i],[ve,[re,mr+" Focus"]],[/\bopt\/([\w\.]+)/i],[ve,[re,Qi+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[ve,[re,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[ve,[re,"Dolphin"]],[/coast\/([\w\.]+)/i],[ve,[re,Qi+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[ve,[re,"MIUI "+Dn]],[/fxios\/([-\w\.]+)/i],[ve,[re,mr]],[/\bqihu|(qi?ho?o?|360)browser/i],[[re,"360 "+Dn]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[re,/(.+)/,"$1 "+Dn],ve],[/(comodo_dragon)\/([\w\.]+)/i],[[re,/_/g," "],ve],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[re,ve],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[re],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[re,Us],ve],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[re,ve],[/\bgsa\/([\w\.]+) .*safari\//i],[ve,[re,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[ve,[re,si+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[re,si+" WebView"],ve],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[ve,[re,"Android "+Dn]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[re,ve],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[ve,[re,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[ve,re],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[re,[ve,Vs,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[re,ve],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[re,"Netscape"],ve],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[ve,[re,mr+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[re,ve]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[We,"amd64"]],[/(ia32(?=;))/i],[[We,Li]],[/((?:i[346]|x)86)[;\)]/i],[[We,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[We,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[We,"armhf"]],[/windows (ce|mobile); ppc;/i],[[We,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[We,/ower/,"",Li]],[/(sun4\w)[;\)]/i],[[We,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[We,Li]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[Q,[ce,$o],[se,be]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[Q,[ce,$o],[se,_e]],[/\((ip(?:hone|od)[\w ]*);/i],[Q,[ce,Vt],[se,_e]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[Q,[ce,Vt],[se,be]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[Q,[ce,Yo],[se,be]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[Q,[ce,Yo],[se,_e]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[Q,/_/g," "],[ce,Xr],[se,_e]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[Q,/_/g," "],[ce,Xr],[se,be]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[Q,[ce,"OPPO"],[se,_e]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[Q,[ce,"Vivo"],[se,_e]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[Q,[ce,"Realme"],[se,_e]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[Q,[ce,qo],[se,_e]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[Q,[ce,qo],[se,be]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[Q,[ce,Zn],[se,be]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[Q,[ce,Zn],[se,_e]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[Q,[ce,"Lenovo"],[se,be]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[Q,/_/g," "],[ce,"Nokia"],[se,_e]],[/(pixel c)\b/i],[Q,[ce,dr],[se,be]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[Q,[ce,dr],[se,_e]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Q,[ce,ps],[se,_e]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[Q,"Xperia Tablet"],[ce,ps],[se,be]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[Q,[ce,"OnePlus"],[se,_e]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[Q,[ce,gt],[se,be]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[Q,/(.+)/g,"Fire Phone $1"],[ce,gt],[se,_e]],[/(playbook);[-\w\),; ]+(rim)/i],[Q,ce,[se,be]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[Q,[ce,Mn],[se,_e]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[Q,[ce,xn],[se,be]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[Q,[ce,xn],[se,_e]],[/(nexus 9)/i],[Q,[ce,"HTC"],[se,be]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[ce,[Q,/_/g," "],[se,_e]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[Q,[ce,"Acer"],[se,be]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[Q,[ce,"Meizu"],[se,_e]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[Q,[ce,Da],[se,_e]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[ce,Q,[se,_e]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[ce,Q,[se,be]],[/(surface duo)/i],[Q,[ce,$n],[se,be]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[Q,[ce,"Fairphone"],[se,_e]],[/(u304aa)/i],[Q,[ce,"AT&T"],[se,_e]],[/\bsie-(\w*)/i],[Q,[ce,"Siemens"],[se,_e]],[/\b(rct\w+) b/i],[Q,[ce,"RCA"],[se,be]],[/\b(venue[\d ]{2,7}) b/i],[Q,[ce,"Dell"],[se,be]],[/\b(q(?:mv|ta)\w+) b/i],[Q,[ce,"Verizon"],[se,be]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[Q,[ce,"Barnes & Noble"],[se,be]],[/\b(tm\d{3}\w+) b/i],[Q,[ce,"NuVision"],[se,be]],[/\b(k88) b/i],[Q,[ce,"ZTE"],[se,be]],[/\b(nx\d{3}j) b/i],[Q,[ce,"ZTE"],[se,_e]],[/\b(gen\d{3}) b.+49h/i],[Q,[ce,"Swiss"],[se,_e]],[/\b(zur\d{3}) b/i],[Q,[ce,"Swiss"],[se,be]],[/\b((zeki)?tb.*\b) b/i],[Q,[ce,"Zeki"],[se,be]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[ce,"Dragon Touch"],Q,[se,be]],[/\b(ns-?\w{0,9}) b/i],[Q,[ce,"Insignia"],[se,be]],[/\b((nxa|next)-?\w{0,9}) b/i],[Q,[ce,"NextBook"],[se,be]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[ce,"Voice"],Q,[se,_e]],[/\b(lvtel\-)?(v1[12]) b/i],[[ce,"LvTel"],Q,[se,_e]],[/\b(ph-1) /i],[Q,[ce,"Essential"],[se,_e]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[Q,[ce,"Envizen"],[se,be]],[/\b(trio[-\w\. ]+) b/i],[Q,[ce,"MachSpeed"],[se,be]],[/\btu_(1491) b/i],[Q,[ce,"Rotor"],[se,be]],[/(shield[\w ]+) b/i],[Q,[ce,"Nvidia"],[se,be]],[/(sprint) (\w+)/i],[ce,Q,[se,_e]],[/(kin\.[onetw]{3})/i],[[Q,/\./g," "],[ce,$n],[se,_e]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[Q,[ce,ms],[se,be]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[Q,[ce,ms],[se,_e]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[ce,Q,[se,ze]],[/droid.+; (shield) bui/i],[Q,[ce,"Nvidia"],[se,ze]],[/(playstation [345portablevi]+)/i],[Q,[ce,ps],[se,ze]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[Q,[ce,$n],[se,ze]],[/smart-tv.+(samsung)/i],[ce,[se,Ne]],[/hbbtv.+maple;(\d+)/i],[[Q,/^/,"SmartTV"],[ce,$o],[se,Ne]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[ce,Zn],[se,Ne]],[/(apple) ?tv/i],[ce,[Q,Vt+" TV"],[se,Ne]],[/crkey/i],[[Q,si+"cast"],[ce,dr],[se,Ne]],[/droid.+aft(\w)( bui|\))/i],[Q,[ce,gt],[se,Ne]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[Q,[ce,Da],[se,Ne]],[/(bravia[\w ]+)( bui|\))/i],[Q,[ce,ps],[se,Ne]],[/(mitv-\w{5}) bui/i],[Q,[ce,Xr],[se,Ne]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[ce,Nc],[Q,Nc],[se,Ne]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[se,Ne]],[/((pebble))app/i],[ce,Q,[se,Xe]],[/droid.+; (glass) \d/i],[Q,[ce,dr],[se,Xe]],[/droid.+; (wt63?0{2,3})\)/i],[Q,[ce,ms],[se,Xe]],[/(quest( 2)?)/i],[Q,[ce,Us],[se,Xe]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[ce,[se,tt]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[Q,[se,_e]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[Q,[se,be]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[se,be]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[se,_e]],[/(android[-\w\. ]{0,9});.+buil/i],[Q,[ce,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[ve,[re,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[ve,[re,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[re,ve],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[ve,re]],os:[[/microsoft (windows) (vista|xp)/i],[re,ve],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[re,[ve,Vs,fs]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[re,"Windows"],[ve,Vs,fs]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[ve,/_/g,"."],[re,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[re,"Mac OS"],[ve,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[ve,re],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[re,ve],[/\(bb(10);/i],[ve,[re,Mn]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[ve,[re,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[ve,[re,mr+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[ve,[re,"webOS"]],[/crkey\/([\d\.]+)/i],[ve,[re,si+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[re,"Chromium OS"],ve],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[re,ve],[/(sunos) ?([\w\.\d]*)/i],[[re,"Solaris"],ve],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[re,ve]]},lr=function(In,T){if(typeof In===q&&(T=In,In=f),!(this instanceof lr))return new lr(In,T).getResult();var N=In||(typeof s!==A&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:""),G=T?function(ee,t){var e={};for(var n in ee)t[n]&&t[n].length%2==0?e[n]=t[n].concat(ee[n]):e[n]=ee[n];return e}(xr,T):xr;return this.getBrowser=function(){var ee={};return ee[re]=f,ee[ve]=f,Jo.call(ee,N,G.browser),ee.major=function(t){return typeof t===te?t.replace(/[^\d\.]/g,"").split(".")[0]:f}(ee.version),ee},this.getCPU=function(){var ee={};return ee[We]=f,Jo.call(ee,N,G.cpu),ee},this.getDevice=function(){var ee={};return ee[ce]=f,ee[Q]=f,ee[se]=f,Jo.call(ee,N,G.device),ee},this.getEngine=function(){var ee={};return ee[re]=f,ee[ve]=f,Jo.call(ee,N,G.engine),ee},this.getOS=function(){var ee={};return ee[re]=f,ee[ve]=f,Jo.call(ee,N,G.os),ee},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return N},this.setUA=function(ee){return N=typeof ee===te&&ee.length>350?Nc(ee,350):ee,this},this.setUA(N),this};lr.VERSION="0.7.32",lr.BROWSER=Xo([re,ve,"major"]),lr.CPU=Xo([We]),lr.DEVICE=Xo([Q,ce,se,ze,_e,Ne,be,Xe,tt]),lr.ENGINE=lr.OS=Xo([re,ve]),r.exports&&(i=r.exports=lr),i.UAParser=lr;var La=typeof s!==A&&(s.jQuery||s.Zepto);if(La&&!La.ua){var Mr=new lr;La.ua=Mr.getResult(),La.ua.get=function(){return Mr.getUA()},La.ua.set=function(In){Mr.setUA(In);var T=Mr.getResult();for(var N in T)La.ua[N]=T[N]}}})(typeof window=="object"?window:y)});const zl=["iOS"];class Fs extends Ld{constructor(){super(window.navigator.userAgent)}isChrome(){const i=this.getBrowser();if(!i.name)return!1;const s=this.getOS();let f=!0;return f=!new RegExp(zl.join("|"),"i").test(s.name),i.name.match(/Chrome/i)&&f}isFirefox(){const i=this.getBrowser();return!!i.name&&i.name.match(/Firefox/i)}isOpera(){const i=this.getBrowser();return!!i.name&&i.name.match(/Opera/i)}}const Bn=Xi.get("SdpParser"),Fd=Array.from({length:31},(r,i)=>i+35),Au=Array.from({length:32},(r,i)=>i+96),Ul=Array.from({length:14},(r,i)=>i+1),Yh=Array.from({length:240},(r,i)=>i+16);class cr{static setSimulcast(i,s){if(Bn.info("Setting simulcast. Codec: ",s),!new Fs().isChrome())return Bn.warn("Simulcast is only available in Google Chrome browser"),i;if(s!=="h264"&&s!=="vp8")return Bn.warn("Simulcast is only available in h264 and vp8 codecs"),i;try{const f=/m=video[\s\S]*?a=ssrc:(\d*) msid:([\s\S]+?)\r\n/,M=/m=video[\s\S]*?a=ssrc:(\d*) cname:([\s\S]+?)\r\n/.exec(i),A=M[1],q=M[2],te=f.exec(i)[2],Q=2,re=[A];for(let se=0;se<Q;++se){const ce=100+2*se,ve=ce+1;re.push(ce),i+="a=ssrc-group:FID "+ce+" "+ve+`\r
a=ssrc:`+ce+" cname:"+q+`\r
a=ssrc:`+ce+" msid:"+te+`\r
a=ssrc:`+ve+" cname:"+q+`\r
a=ssrc:`+ve+" msid:"+te+`\r
`}return i+="a=ssrc-group:SIM "+re.join(" ")+`\r
`,Bn.info("Simulcast setted"),Bn.debug("Simulcast SDP: ",i),i}catch(f){throw Bn.error("Error setting SDP for simulcast: ",f),f}}static setStereo(i){return Bn.info("Replacing SDP response for support stereo"),i=i.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),Bn.info("Replaced SDP response for support stereo"),Bn.debug("New SDP value: ",i),i}static setDTX(i){return Bn.info("Replacing SDP response for support dtx"),i=i.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),Bn.info("Replaced SDP response for support dtx"),Bn.debug("New SDP value: ",i),i}static setAbsoluteCaptureTime(i){const s="a=extmap:"+cr.getAvailableHeaderExtensionIdRange(i)[0]+` http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r
`;return i=i.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(f,M,A)=>M+s+A),Bn.info("Replaced SDP response for setting absolute capture time"),Bn.debug("New SDP value: ",i),i}static setDependencyDescriptor(i){const s="a=extmap:"+cr.getAvailableHeaderExtensionIdRange(i)[0]+` https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r
`;return i=i.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(f,M,A)=>M+s+A),Bn.info("Replaced SDP response for setting depency descriptor"),Bn.debug("New SDP value: ",i),i}static setVideoBitrate(i,s){if(s<1)Bn.info("Remove bitrate restrictions"),i=i.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{const f=fo.SDPInfo.parse(i),M=f.getMedia("video");Bn.info("Setting video bitrate"),M.setBitrate(s),i=f.toString()}return i}static removeSdpLine(i,s){return Bn.debug("SDP before trimming: ",i),i=i.split(`
`).filter(f=>f.trim()!==s).join(`
`),Bn.debug("SDP trimmed result: ",i),i}static adaptCodecName(i,s,f){if(!i)return i;const M=new RegExp("".concat(s),"i");return i.replace(M,f)}static setMultiopus(i,s){if(!new Fs().isFirefox()&&(!s||Gi(s)))if(i.includes("multiopus/48000/6"))Bn.info("Multiopus already setted");else{Bn.info("Setting multiopus");const f=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(i)[0],M=cr.getAvailablePayloadTypeRange(i)[0],A=f.replace(`\r
`," ")+M+`\r
a=rtpmap:`+M+` multiopus/48000/6\r
a=fmtp:`+M+` channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r
`;i=i.replace(f,A),Bn.info("Multiopus offer created"),Bn.debug("SDP parsed for multioups: ",i)}return i}static getAvailablePayloadTypeRange(i){const s=i.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm);let f=Au.concat(Fd);for(const M of s){const A=M[1].split(" ").map(q=>parseInt(q));f=f.filter(q=>!A.includes(q))}return f}static getAvailableHeaderExtensionIdRange(i){const s=i.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm);let f=Ul.concat(Yh);for(const M of s){const A=M[1].split(" ").map(q=>parseInt(q));f=f.filter(q=>!A.includes(q))}return f}static renegotiate(i,s){const f=fo.SDPInfo.parse(i),M=fo.SDPInfo.parse(s);for(const A of f.getMedias()){let q=M.getMediaById(A.getId());if(!q){q=new fo.MediaInfo(A.getId(),A.getType()),q.setDirection(fo.Direction.reverse(A.getDirection()));const te=M.getMedia(A.getType());if(te){q.setCodecs(te.getCodecs());for(const[Q,re]of te.getExtensions())q.addExtension(Q,re)}M.addMedia(q)}}return M.toString()}static updateMissingVideoExtensions(i,s){var f;const M=fo.SDPInfo.parse(i),A=(f=fo.SDPInfo.parse(s).getMediasByType("video")[0])===null||f===void 0?void 0:f.getExtensions();if(A||A.length){for(const q of M.getMediasByType("video")){const te=q.getExtensions();A.forEach((Q,re)=>{if(!te.get(re)){const se=q.getId(),ce="a=extmap:"+re+" "+Q+`\r
`,ve=new RegExp("(a=mid:"+se+`\r
(?:.*\r
)*?)`,"g");i=i.replace(ve,(We,ze,_e)=>ze+ce)}})}return i}}}const Gi=r=>r.getAudioTracks().some(i=>i.getSettings().channelCount>2);class Nd extends wa{constructor(i,s){super(),this.namespace=i,this.tm=s}cmd(i,s){return this.tm.cmd(i,s,this.namespace)}event(i,s){return this.tm.event(i,s,this.namespace)}close(){return this.tm.namespaces.delete(this.namespace)}}var pr=class extends wa{constructor(r){super(),this.maxId=0,this.namespaces=new Map,this.transactions=new Map,this.transport=r,this.listener=i=>{let s;try{s=JSON.parse(i.utf8Data||i.data||i)}catch{return}switch(s.type){case"cmd":const M={name:s.name,data:s.data,namespace:s.namespace,accept:q=>{r.send(JSON.stringify({type:"response",transId:s.transId,data:q}))},reject:q=>{r.send(JSON.stringify({type:"error",transId:s.transId,data:q}))}};if(M.namespace){const q=this.namespaces.get(M.namespace);q?q.emit("cmd",M):this.emit("cmd",M)}else this.emit("cmd",M);break;case"response":{const q=this.transactions.get(s.transId);if(!q)return;this.transactions.delete(s.transId),q.resolve(s.data);break}case"error":{const q=this.transactions.get(s.transId);if(!q)return;this.transactions.delete(s.transId),q.reject(s.data);break}case"event":const A={name:s.name,data:s.data,namespace:s.namespace};if(A.namespace){var f=this.namespaces.get(A.namespace);f?f.emit("event",A):this.emit("event",A)}else this.emit("event",A)}},this.transport.addListener?this.transport.addListener("message",this.listener):this.transport.addEventListener("message",this.listener)}cmd(r,i,s){return new Promise((f,M)=>{if(!r||r.length===0)throw new Error("Bad command name");const A={type:"cmd",transId:this.maxId++,name:r,data:i};s&&(A.namespace=s);const q=JSON.stringify(A);A.resolve=f,A.reject=M,this.transactions.set(A.transId,A);try{this.transport.send(q)}catch(te){throw this.transactions.delete(A.transId),te}})}event(r,i,s){if(!r||r.length===0)throw new Error("Bad event name");const f={type:"event",name:r,data:i};s&&(f.namespace=s);const M=JSON.stringify(f);this.transport.send(M)}namespace(r){let i=this.namespaces.get(r);return i||(i=new Nd(r,this),this.namespaces.set(r,i),i)}close(){for(const r of this.namespaces.values())r.close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)}};const gi=Xi.get("Signaling"),Vl="wsConnectionSuccess",Pc="wsConnectionError",Wo="broadcastEvent",hi={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1"},Bl={OPUS:"opus",MULTIOPUS:"multiopus"};class Wl extends wa{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{streamName:null,url:"ws://localhost:8080/"};super(),this.streamName=i.streamName,this.wsUrl=i.url,this.webSocket=null,this.transactionManager=null,this.serverId=null,this.clusterId=null}async connect(){var i;return gi.info("Connecting to Signaling Server"),this.transactionManager&&((i=this.webSocket)===null||i===void 0?void 0:i.readyState)===WebSocket.OPEN?(gi.info("Connected to server: ",this.webSocket.url),gi.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(Vl,{ws:this.webSocket,tm:this.transactionManager}),this.webSocket):new Promise((s,f)=>{this.webSocket=new WebSocket(this.wsUrl),this.transactionManager=new pr(this.webSocket),this.webSocket.onopen=()=>{gi.info("WebSocket opened"),this.transactionManager.on("event",M=>{this.emit(Wo,M)}),gi.info("Connected to server: ",this.webSocket.url),gi.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(Vl,{ws:this.webSocket,tm:this.transactionManager}),s(this.webSocket)},this.webSocket.onerror=()=>{gi.error("WebSocket not connected: ",this.webSocket.url),this.emit(Pc,this.webSocket.url),f(this.webSocket.url)},this.webSocket.onclose=()=>{this.webSocket=null,this.transactionManager=null,gi.info("Connection closed with Signaling Server."),this.emit("wsConnectionClose")}})}close(){var i;gi.info("Closing connection with Signaling Server."),(i=this.webSocket)===null||i===void 0||i.close()}async subscribe(i,s){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;gi.info("Starting subscription to streamName: ",this.streamName),gi.debug("Subcription local description: ",i);const A=us(s,f,M),q={sdp:i=cr.adaptCodecName(i,"AV1X",hi.AV1),streamId:this.streamName,pinnedSourceId:A.pinnedSourceId,excludedSourceIds:A.excludedSourceIds};A.vad&&(q.vad=!0),Array.isArray(A.events)&&(q.events=A.events);try{var te,Q,re,se,ce;await this.connect(),gi.info("Sending view command");const ve=await this.transactionManager.cmd("view",q),We=(te=(Q=RTCRtpReceiver).getCapabilities)===null||te===void 0||(re=te.call(Q,"video"))===null||re===void 0||(se=re.codecs)===null||se===void 0||(ce=se.find)===null||ce===void 0?void 0:ce.call(se,ze=>ze.mimeType==="video/AV1X");return ve.sdp=We?cr.adaptCodecName(ve.sdp,hi.AV1,"AV1X"):ve.sdp,gi.info("Command sent, subscriberId: ",ve.subscriberId),gi.debug("Command result: ",ve),this.serverId=ve.subscriberId,this.clusterId=ve.clusterId,ve.sdp}catch(ve){throw gi.error("Error sending view command, error: ",ve),ve}}async publish(i,s){const f=Lh(s,arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,arguments.length>3&&arguments[3]!==void 0?arguments[3]:null);gi.info("Starting publishing to streamName: ".concat(this.streamName,", codec: ").concat(f.codec)),gi.debug("Publishing local description: ",i);const M=Object.values(hi);if(M.indexOf(f.codec)===-1)throw gi.error("Invalid codec. Possible values are: ",M),new Error("Invalid codec. Possible values are: ".concat(M));f.codec===hi.AV1&&(i=cr.adaptCodecName(i,"AV1X",hi.AV1));const A={name:this.streamName,sdp:i,codec:f.codec,sourceId:f.sourceId};f.record!==null&&(A.record=f.record),Array.isArray(f.events)&&(A.events=f.events);try{await this.connect(),gi.info("Sending publish command");const ce=await this.transactionManager.cmd("publish",A);if(f.codec===hi.AV1){var q,te,Q,re,se;const ve=(q=(te=RTCRtpSender).getCapabilities)===null||q===void 0||(Q=q.call(te,"video"))===null||Q===void 0||(re=Q.codecs)===null||re===void 0||(se=re.find)===null||se===void 0?void 0:se.call(re,We=>We.mimeType==="video/AV1X");ce.sdp=ve?cr.adaptCodecName(ce.sdp,hi.AV1,"AV1X"):ce.sdp}return gi.info("Command sent, publisherId: ",ce.publisherId),gi.debug("Command result: ",ce),this.serverId=ce.publisherId,this.clusterId=ce.clusterId,ce.sdp}catch(ce){throw gi.error("Error sending publish command, error: ",ce),ce}}async cmd(i,s){return gi.info("Sending cmd: ".concat(i)),this.transactionManager.cmd(i,s)}}const us=(r,i,s)=>{let f=typeof r=="object"?r:{};return Object.keys(f).length===0&&(f={vad:r,pinnedSourceId:i,excludedSourceIds:s}),f},Lh=(r,i,s)=>{let f=typeof r=="object"?r:{};return Object.keys(f).length===0&&(f={codec:r!=null?r:hi.H264,record:i,sourceId:s}),f};function zr(r,i){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);i&&(f=f.filter(function(M){return Object.getOwnPropertyDescriptor(r,M).enumerable})),s.push.apply(s,f)}return s}function Rc(r){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?zr(Object(s),!0).forEach(function(f){g(r,f,s[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):zr(Object(s)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(s,f))})}return r}const Ut=Xi.get("PeerConnection"),Ur={track:"track",connectionStateChange:"connectionStateChange"},Ou={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0};class Pa extends wa{constructor(){super(),this.sessionDescription=null,this.peer=null,this.peerConnectionStats=null}async createRTCPeer(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Ut.info("Creating new RTCPeerConnection"),Ut.debug("RTC configuration provided by user: ",i),this.peer=oh(this,i)}getRTCPeer(){return Ut.info("Getting RTC Peer"),this.peer}async closeRTCPeer(){var i;Ut.info("Closing RTCPeerConnection"),(i=this.peer)===null||i===void 0||i.close(),this.peer=null,this.stopStats(),this.emit(Ur.connectionStateChange,"closed")}async setRTCRemoteSDP(i){Ut.info("Setting RTC Remote SDP");const s={type:"answer",sdp:i};try{await this.peer.setRemoteDescription(s),Ut.info("RTC Remote SDP was set successfully."),Ut.debug("RTC Remote SDP new value: ",i)}catch(f){throw Ut.error("Error while setting RTC Remote SDP: ",f),f}}async getRTCLocalSDP(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ou;Ut.info("Getting RTC Local SDP"),i=Rc(Rc({},Ou),i),Ut.debug("Options: ",i);const s=Ra(i.mediaStream);s?ah(this.peer,s,i):ds(this.peer,i),Ut.info("Creating peer offer");const f=await this.peer.createOffer();return Ut.info("Peer offer created"),Ut.debug("Peer offer response: ",f.sdp),this.sessionDescription=f,i.disableAudio||(i.stereo&&(this.sessionDescription.sdp=cr.setStereo(this.sessionDescription.sdp)),i.dtx&&(this.sessionDescription.sdp=cr.setDTX(this.sessionDescription.sdp)),this.sessionDescription.sdp=cr.setMultiopus(this.sessionDescription.sdp,s)),!i.disableVideo&&i.simulcast&&(this.sessionDescription.sdp=cr.setSimulcast(this.sessionDescription.sdp,i.codec)),i.absCaptureTime&&(this.sessionDescription.sdp=cr.setAbsoluteCaptureTime(this.sessionDescription.sdp)),i.dependencyDescriptor&&(this.sessionDescription.sdp=cr.setDependencyDescriptor(this.sessionDescription.sdp)),i.setSDPToPeer&&(await this.peer.setLocalDescription(this.sessionDescription),Ut.info("Peer local description set")),this.sessionDescription.sdp}async addRemoteTrack(i,s){const f=await new Promise((M,A)=>{try{const q=this.peer.addTransceiver(i,{direction:"recvonly"});q.resolve=M,q.streams=s}catch(q){A(q)}});for(const M of s)M.addTrack(f.receiver.track);return f}updateBandwidthRestriction(i,s){return Ut.info("Updating bandwidth restriction, bitrate value: ",s),Ut.debug("SDP value: ",i),cr.setVideoBitrate(i,s)}async updateBitrate(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!this.peer)throw Ut.error("Cannot update bitrate. No peer found."),new Error("Cannot update bitrate. No peer found.");Ut.info("Updating bitrate to value: ",i),this.sessionDescription=await this.peer.createOffer(),await this.peer.setLocalDescription(this.sessionDescription);const s=this.updateBandwidthRestriction(this.peer.remoteDescription.sdp,i);await this.setRTCRemoteSDP(s),Ut.info("Bitrate restirctions updated: ","".concat(i>0?i:"unlimited"," kbps"))}getRTCPeerStatus(){if(Ut.info("Getting RTC peer status"),!this.peer)return null;const i=Ud(this.peer);return Ut.info("RTC peer status getted, value: ",i),i}replaceTrack(i){if(!this.peer)return void Ut.error("Could not change track if there is not an active connection.");const s=this.peer.getSenders().find(f=>f.track.kind===i.kind);s?s.replaceTrack(i):Ut.error("There is no ".concat(i.kind," track in active broadcast."))}static getCapabilities(i){const s=new Fs;if(s.isFirefox())return(M=>M==="video"?{codecs:[{codec:"vp8",mimeType:"video/VP8"},{codec:"vp9",mimeType:"video/VP9"},{codec:"h264",mimeType:"video/H264"}],headerExtensions:[]}:M==="audio"?{codecs:[{codec:"opus",mimeType:"audio/opus",channels:2}],headerExtensions:[]}:null)(i);const f=RTCRtpSender.getCapabilities(i);if(f){const M={};let A=new RegExp("^video/(".concat(Object.values(hi).join("|"),")x?$"),"i");i==="audio"&&(A=new RegExp("^audio/(".concat(Object.values(Bl).join("|"),")$"),"i"),s.isChrome()&&(M.multiopus={mimeType:"audio/multiopus",channels:6}));for(const q of f.codecs){const te=q.mimeType.match(A);if(te){const Q=te[1].toLowerCase();if(M[Q]=Rc(Rc({},M[Q]),{},{mimeType:q.mimeType}),q.scalabilityModes){let re=M[Q].scalabilityModes||[];re=[...re,...q.scalabilityModes],M[Q].scalabilityModes=[...new Set(re)]}q.channels&&(M[Q].channels=q.channels)}}f.codecs=Object.keys(M).map(q=>Rc({codec:q},M[q]))}return f}getTracks(){var i,s;return(i=this.peer)===null||i===void 0||(s=i.getSenders())===null||s===void 0?void 0:s.map(f=>f.track)}initStats(){this.peerConnectionStats?Ut.warn("Cannot init peer stats: Already initialized"):this.peer?(this.peerConnectionStats=new es(this.peer),this.peerConnectionStats.init(),mu(this.peerConnectionStats,this,[Qa])):Ut.warn("Cannot init peer stats: RTCPeerConnection not initialized")}stopStats(){var i;(i=this.peerConnectionStats)===null||i===void 0||i.stop(),this.peerConnectionStats=null}}const zd=r=>(r==null?void 0:r.getAudioTracks().length)<=1&&(r==null?void 0:r.getVideoTracks().length)<=1,Ra=r=>{if(!r)return null;if(r instanceof MediaStream&&zd(r))return r;if(!(r instanceof MediaStream)){Ut.info("Creating MediaStream to add received tracks.");const i=new MediaStream;for(const s of r)i.addTrack(s);if(zd(i))return i}throw Ut.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new Error("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},oh=(r,i)=>{const s=new RTCPeerConnection(i);return qh(r,s),s},qh=(r,i)=>{i.ontrack=s=>{var f;if(Ut.info("New track from peer."),Ut.debug("Track event value: ",s),s!=null&&(f=s.transceiver)!==null&&f!==void 0&&f.resolve){const M=s.transceiver.resolve;delete s.transceiver.resolve,M(s.transceiver)}r.emit(Ur.track,s)},i.connectionState?i.onconnectionstatechange=s=>{Ut.info("Peer connection state change: ",i.connectionState),r.emit(Ur.connectionStateChange,i.connectionState)}:i.oniceconnectionstatechange=s=>{Ut.info("Peer ICE connection state change: ",i.iceConnectionState),r.emit(Ur.connectionStateChange,i.iceConnectionState)},i.onnegotiationneeded=async s=>{if(!i.remoteDescription)return;Ut.info("Peer onnegotiationneeded, updating local description");const f=await i.createOffer();Ut.info("Peer onnegotiationneeded, got local offer",f.sdp),f.sdp=cr.updateMissingVideoExtensions(f.sdp,i.remoteDescription.sdp),await i.setLocalDescription(f);const M=cr.renegotiate(f.sdp,i.remoteDescription.sdp);Ut.info("Peer onnegotiationneeded, updating remote description",M),await i.setRemoteDescription({type:"answer",sdp:M}),Ut.info("Peer onnegotiationneeded, renegotiation done")}},ah=(r,i,s)=>{Ut.info("Adding mediaStream tracks to RTCPeerConnection");for(const f of i.getTracks()){const M={streams:[i]};f.kind==="audio"&&(M.direction=s.disableAudio?"inactive":"sendonly"),f.kind==="video"&&(M.direction=s.disableVideo?"inactive":"sendonly",s.scalabilityMode&&new Fs().isChrome()?(Ut.debug("Video track with scalability mode: ".concat(s.scalabilityMode,".")),M.sendEncodings=[{scalabilityMode:s.scalabilityMode}]):s.scalabilityMode&&Ut.warn("SVC is only supported in Google Chrome")),r.addTransceiver(f,M),Ut.info("Track '".concat(f.label,"' added: "),"id: ".concat(f.id),"kind: ".concat(f.kind))}},ds=(r,i)=>{const s=new Fs;if(!i.disableVideo){const f=r.addTransceiver("video",{direction:"recvonly"});s.isOpera()&&f.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter(M=>M.mimeType!=="video/H264"||M.sdpFmtpLine.includes("profile-level-id=4")))}i.disableAudio||r.addTransceiver("audio",{direction:"recvonly"});for(let f=0;f<i.multiplexedAudioTracks;f++)r.addTransceiver("audio",{direction:"recvonly"})},Ud=r=>{var i;const s=(i=r.connectionState)!==null&&i!==void 0?i:r.iceConnectionState;switch(s){case"checking":return"connecting";case"completed":return"connected";default:return s}};function Fh(r,i){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);i&&(f=f.filter(function(M){return Object.getOwnPropertyDescriptor(r,M).enumerable})),s.push.apply(s,f)}return s}function sh(r){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?Fh(Object(s),!0).forEach(function(f){g(r,f,s[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Fh(Object(s)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(s,f))})}return r}const ls=Xi.get("Director");let Vd="",Go="https://director.millicast.com";class go{static setEndpoint(i){Go=i.replace(/\/$/,"")}static getEndpoint(){return Go}static setLiveDomain(i){Vd=i.replace(/\/$/,"")}static getLiveDomain(){return Vd}static async getPublisher(i){const s=Ac(i,arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,arguments.length>2&&arguments[2]!==void 0?arguments[2]:"WebRtc");ls.info("Getting publisher connection path for stream name: ",s.streamName);const f={streamName:s.streamName,streamType:s.streamType},M={"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)},A="".concat(this.getEndpoint(),"/api/director/publish");try{let q=await fetch(A,{method:"POST",headers:M,body:JSON.stringify(f)});if(q=await q.json(),q.status==="fail")throw new Error(q.data.message);return q=Ns(q),ls.debug("Getting publisher response: ",q),q.data}catch(q){throw ls.error("Error while getting publisher connection path. ",q),q}}static async getSubscriber(i){const s=Oc(i,arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,arguments.length>2&&arguments[2]!==void 0?arguments[2]:null);ls.info("Getting subscriber connection data for stream name: ".concat(s.streamName," and account id: ").concat(s.streamAccountId));const f={streamAccountId:s.streamAccountId,streamName:s.streamName};let M={"Content-Type":"application/json"};s.subscriberToken&&(M=sh(sh({},M),{},{Authorization:"Bearer ".concat(s.subscriberToken)}));const A="".concat(this.getEndpoint(),"/api/director/subscribe");try{let q=await fetch(A,{method:"POST",headers:M,body:JSON.stringify(f)});if(q=await q.json(),q.status==="fail")throw new Error(q.data.message);return q=Ns(q),ls.debug("Getting subscriber response: ",q),q.data}catch(q){throw ls.error("Error while getting subscriber connection path. ",q),q}}}const Ac=(r,i,s)=>{let f=typeof r=="object"?r:{};return Object.keys(f).length===0&&(f={token:r,streamName:i,streamType:s}),f},Oc=(r,i,s)=>{let f=typeof r=="object"?r:{};return Object.keys(f).length===0&&(f={streamName:r,streamAccountId:i,subscriberToken:s}),f},Ns=r=>{if(go.getLiveDomain()){const i=/\/\/(.*?)\//,s=r.data.urls.map(f=>{const M=i.exec(f);return f.replace(M[1],go.getLiveDomain())});r.data.urls=s}return r};function Dc(r){this.message=r}Dc.prototype=new Error,Dc.prototype.name="InvalidCharacterError";var Du=typeof window!="undefined"&&window.atob&&window.atob.bind(window)||function(r){var i=String(r).replace(/=+$/,"");if(i.length%4==1)throw new Dc("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,f,M=0,A=0,q="";f=i.charAt(A++);~f&&(s=M%4?64*s+f:f,M++%4)?q+=String.fromCharCode(255&s>>(-2*M&6)):0)f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(f);return q};function zs(r){this.message=r}zs.prototype=new Error,zs.prototype.name="InvalidTokenError";var Bd=w(function(r,i){(function(s){if(i!=null&&typeof i.nodeType!="number")r.exports=s();else{var f=s(),M=typeof self!="undefined"?self:$.global;typeof M.btoa!="function"&&(M.btoa=f.btoa),typeof M.atob!="function"&&(M.atob=f.atob)}})(function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function f(M){this.message=M}return f.prototype=new Error,f.prototype.name="InvalidCharacterError",{btoa:function(M){for(var A,q,te=String(M),Q=0,re=s,se="";te.charAt(0|Q)||(re="=",Q%1);se+=re.charAt(63&A>>8-Q%1*8)){if((q=te.charCodeAt(Q+=3/4))>255)throw new f("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");A=A<<8|q}return se},atob:function(M){var A=String(M).replace(/[=]+$/,"");if(A.length%4==1)throw new f("'atob' failed: The string to be decoded is not correctly encoded.");for(var q,te,Q=0,re=0,se="";te=A.charAt(re++);~te&&(q=Q%4?64*q+te:te,Q++%4)?se+=String.fromCharCode(255&q>>(-2*Q&6)):0)te=s.indexOf(te);return se}}})});let Aa;class Ho extends wa{constructor(i,s,f,M){if(super(),Aa=f,!i)throw Aa.error("Stream Name is required to construct this module."),new Error("Stream Name is required to construct this module.");if(!s)throw Aa.error("Token generator is required to construct this module."),new Error("Token generator is required to construct this module.");this.webRTCPeer=new Pa,this.signaling=null,this.streamName=i,this.autoReconnect=M,this.reconnectionInterval=1e3,this.alreadyDisconnected=!1,this.firstReconnection=!0,this.stopReconnection=!1,this.tokenGenerator=s,this.options=null}getRTCPeerConnection(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null}stop(){var i;Aa.info("Stopping"),this.webRTCPeer.closeRTCPeer(),(i=this.signaling)===null||i===void 0||i.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Pa}isActive(){const i=this.webRTCPeer.getRTCPeerStatus();return Aa.info("Broadcast status: ",i||"not_established"),i==="connected"}setReconnect(){this.signaling.on("migrate",()=>this.replaceConnection()),this.autoReconnect&&(this.signaling.on(Pc,()=>{!this.firstReconnection&&this.alreadyDisconnected||(this.firstReconnection=!1,this.reconnect())}),this.webRTCPeer.on(Ur.connectionStateChange,i=>{(i==="failed"||i==="disconnected"&&this.alreadyDisconnected)&&this.firstReconnection?(this.firstReconnection=!1,this.reconnect()):i==="disconnected"?(this.alreadyDisconnected=!0,setTimeout(()=>this.reconnect(),1500)):this.alreadyDisconnected=!1}))}async reconnect(){try{this.isActive()||this.stopReconnection||(this.stop(),await this.connect(this.options),this.alreadyDisconnected=!1,this.reconnectionInterval=1e3,this.firstReconnection=!0)}catch(i){this.reconnectionInterval=vo(this.reconnectionInterval),Aa.error("Reconnection failed, retrying in ".concat(this.reconnectionInterval,"ms. "),i),this.emit("reconnect",{timeout:this.reconnectionInterval,error:i}),setTimeout(()=>this.reconnect(),this.reconnectionInterval)}}}const vo=r=>r<32e3?2*r:r;function Di(r,i){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);i&&(f=f.filter(function(M){return Object.getOwnPropertyDescriptor(r,M).enumerable})),s.push.apply(s,f)}return s}function Wn(r){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?Di(Object(s),!0).forEach(function(f){g(r,f,s[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Di(Object(s)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(s,f))})}return r}const Er=Xi.get("Publish"),Oa={mediaStream:null,bandwidth:0,disableVideo:!1,disableAudio:!1,codec:hi.H264,simulcast:!1,scalabilityMode:null,peerConfig:{}};function Lc(r,i){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);i&&(f=f.filter(function(M){return Object.getOwnPropertyDescriptor(r,M).enumerable})),s.push.apply(s,f)}return s}function hs(r){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?Lc(Object(s),!0).forEach(function(f){g(r,f,s[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Lc(Object(s)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(s,f))})}return r}const ur=Xi.get("View"),Fc={disableVideo:!1,disableAudio:!1,peerConfig:{}};P.Director=go,P.Logger=Xi,P.PeerConnection=Pa,P.Publish=class extends Ho{constructor(r,i){super(r,i,Er,!(arguments.length>2&&arguments[2]!==void 0)||arguments[2])}async connect(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oa;this.options=Wn(Wn(Wn({},Oa),r),{},{setSDPToPeer:!1}),await this.initConnection({migrate:!1})}async reconnect(){var r,i;this.options.mediaStream=(r=(i=this.webRTCPeer)===null||i===void 0?void 0:i.getTracks())!==null&&r!==void 0?r:this.options.mediaStream,super.reconnect()}async replaceConnection(){var r,i;Er.info("Migrating current connection"),this.options.mediaStream=(r=(i=this.webRTCPeer)===null||i===void 0?void 0:i.getTracks())!==null&&r!==void 0?r:this.options.mediaStream,await this.initConnection({migrate:!0})}async record(){var r;this.recordingAvailable?(this.options.record=!0,await((r=this.signaling)===null||r===void 0?void 0:r.cmd("record")),Er.info("Broadcaster start recording")):Er.error("Record not available")}async unrecord(){var r;this.recordingAvailable?(this.options.record=!1,await((r=this.signaling)===null||r===void 0?void 0:r.cmd("unrecord")),Er.info("Broadcaster stop recording")):Er.error("Unrecord not available")}async initConnection(r){var i,s;let f,M;if(Er.debug("Broadcast option values: ",this.options),this.stopReconnection=!1,!this.options.mediaStream)throw Er.error("Error while broadcasting. MediaStream required"),new Error("MediaStream required");if(!r.migrate&&this.isActive())throw Er.warn("Broadcast currently working"),new Error("Broadcast currently working");try{var A;M=await this.tokenGenerator(),this.options.peerConfig.iceServers=(A=M)===null||A===void 0?void 0:A.iceServers}catch(be){throw Er.error("Error generating token."),be}if(!M)throw Er.error("Error while broadcasting. Publisher data required"),new Error("Publisher data required");if(this.recordingAvailable=function(be,Ne){if(typeof be!="string")throw new zs("Invalid token specified");var Xe=(Ne=Ne||{}).header===!0?0:1;try{return JSON.parse(function(tt){var gt=tt.replace(/-/g,"+").replace(/_/g,"/");switch(gt.length%4){case 0:break;case 2:gt+="==";break;case 3:gt+="=";break;default:throw"Illegal base64url string!"}try{return function(Vt){return decodeURIComponent(Du(Vt).replace(/(.)/g,function(xn,Mn){var Dn=Mn.charCodeAt(0).toString(16).toUpperCase();return Dn.length<2&&(Dn="0"+Dn),"%"+Dn}))}(gt)}catch{return Du(gt)}}(be.split(".")[Xe]))}catch(tt){throw new zs("Invalid token specified: "+tt.message)}}(M.jwt)[Bd.atob("bWlsbGljYXN0")].record,this.options.record&&!this.recordingAvailable)throw Er.error("Error while broadcasting. Record option detected but recording is not available"),new Error("Record option detected but recording is not available");const q=new Wl({streamName:this.streamName,url:"".concat(M.urls[0],"?token=").concat(M.jwt)}),te=r.migrate?new Pa:this.webRTCPeer;await te.createRTCPeer(this.options.peerConfig),(i=this.stopReemitingWebRTCPeerInstanceEvents)===null||i===void 0||i.call(this),(s=this.stopReemitingSignalingInstanceEvents)===null||s===void 0||s.call(this),this.stopReemitingWebRTCPeerInstanceEvents=mu(te,this,[Ur.connectionStateChange]),this.stopReemitingSignalingInstanceEvents=mu(q,this,[Wo]);const Q=te.getRTCLocalSDP(this.options),re=q.connect();f=await Promise.all([Q,re]);const se=f[0];let ce=this.signaling;this.signaling=q;const ve=this.signaling.publish(se,this.options),We=te.peer.setLocalDescription(te.sessionDescription);f=await Promise.all([ve,We]);let ze=f[0];!this.options.disableVideo&&this.options.bandwidth>0&&(ze=te.updateBandwidthRestriction(ze,this.options.bandwidth)),await te.setRTCRemoteSDP(ze),Er.info("Broadcasting to streamName: ",this.streamName);let _e=this.webRTCPeer;this.webRTCPeer=te,this.setReconnect(),r.migrate&&this.webRTCPeer.on(Ur.connectionStateChange,be=>{var Ne,Xe,tt,gt;["connected","disconnected","failed","closed"].includes(be)&&((Ne=ce)===null||Ne===void 0||(Xe=Ne.close)===null||Xe===void 0||Xe.call(Ne),(tt=_e)===null||tt===void 0||(gt=tt.closeRTCPeer)===null||gt===void 0||gt.call(tt),ce=_e=null)})}},P.Signaling=Wl,P.View=class extends Ho{constructor(r,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;super(r,i,ur,!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]),s&&this.on(Ur.track,f=>{s.srcObject=f.streams[0]})}async connect(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fc;this.options=hs(hs(hs({},Fc),r),{},{setSDPToPeer:!1}),await this.initConnection({migrate:!1})}async select(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ur.debug("Viewer select layer values: ",r),await this.signaling.cmd("select",{layer:r}),ur.info("Connected to streamName: ",this.streamName)}async addRemoteTrack(r,i){return ur.info("Viewer adding remote % track",r),this.webRTCPeer.addRemoteTrack(r,i)}async project(r,i){for(const s of i){if(!s.trackId&&!s.media)throw ur.error("Error in projection mapping, trackId or mediaId must be set"),new Error("Error in projection mapping, trackId or mediaId must be set");const f=this.webRTCPeer.getRTCPeer();if(s.mediaId&&!f.getTransceivers().find(M=>M.mid===s.mediaId.toString()))throw ur.error("Error in projection mapping, ".concat(s.mediaId," mid not found in local transceivers")),new Error("Error in projection mapping, ".concat(s.mediaId," mid not found in local transceivers"))}ur.debug("Viewer project source: layer mappings: ",r,i),await this.signaling.cmd("project",{sourceId:r,mapping:i}),ur.info("Projection done")}async unproject(r){ur.debug("Viewer unproject mediaIds: ",r),await this.signaling.cmd("unproject",{mediaIds:r}),ur.info("Unprojection done")}async replaceConnection(){ur.info("Migrating current connection"),await this.initConnection({migrate:!0})}async initConnection(r){var i,s;let f,M;if(ur.debug("Viewer connect options values: ",this.options),this.stopReconnection=!1,!r.migrate&&this.isActive())throw ur.warn("Viewer currently subscribed"),new Error("Viewer currently subscribed");try{var A;M=await this.tokenGenerator(),this.options.peerConfig.iceServers=(A=M)===null||A===void 0?void 0:A.iceServers}catch(be){throw ur.error("Error generating token."),be}if(!M)throw ur.error("Error while subscribing. Subscriber data required"),new Error("Subscriber data required");const q=new Wl({streamName:this.streamName,url:"".concat(M.urls[0],"?token=").concat(M.jwt)}),te=r.migrate?new Pa:this.webRTCPeer;await te.createRTCPeer(this.options.peerConfig),(i=this.stopReemitingWebRTCPeerInstanceEvents)===null||i===void 0||i.call(this),(s=this.stopReemitingSignalingInstanceEvents)===null||s===void 0||s.call(this),this.stopReemitingWebRTCPeerInstanceEvents=mu(te,this,Object.values(Ur)),this.stopReemitingSignalingInstanceEvents=mu(q,this,[Wo]);const Q=te.getRTCLocalSDP(hs(hs({},this.options),{},{stereo:!0})),re=q.connect();f=await Promise.all([Q,re]);const se=f[0];let ce=this.signaling;this.signaling=q;const ve=this.signaling.subscribe(se,hs(hs({},this.options),{},{vad:this.options.multiplexedAudioTracks>0})),We=te.peer.setLocalDescription(te.sessionDescription);f=await Promise.all([ve,We]);const ze=f[0];await te.setRTCRemoteSDP(ze),ur.info("Connected to streamName: ",this.streamName);let _e=this.webRTCPeer;this.webRTCPeer=te,this.setReconnect(),r.migrate&&this.webRTCPeer.on(Ur.connectionStateChange,be=>{if(be==="connected")setTimeout(()=>{var Vt,xn,Mn,Dn;(Vt=ce)===null||Vt===void 0||(xn=Vt.close)===null||xn===void 0||xn.call(Vt),(Mn=_e)===null||Mn===void 0||(Dn=Mn.closeRTCPeer)===null||Dn===void 0||Dn.call(Mn),ce=_e=null,ur.info("Current connection migrated")},1e3);else if(["disconnected","failed","closed"].includes(be)){var Ne,Xe,tt,gt;(Ne=ce)===null||Ne===void 0||(Xe=Ne.close)===null||Xe===void 0||Xe.call(Ne),(tt=_e)===null||tt===void 0||(gt=tt.closeRTCPeer)===null||gt===void 0||gt.call(tt),ce=_e=null}})}},Object.defineProperty(P,"__esModule",{value:!0})})(Z)},9644:function(ye,Z,P){ye.exports=P(5644)},353:function(ye,Z,P){var x=P(3044),_=P(6955),g=P(2233),y=P(8030),w=P(7948),p=P(1875),l=P(842),C=P(8618),W=P(8560),m=P(6714);ye.exports=function(b){return new Promise(function(F,S){var u,k=b.data,R=b.headers,K=b.responseType;function ae(){b.cancelToken&&b.cancelToken.unsubscribe(u),b.signal&&b.signal.removeEventListener("abort",u)}x.isFormData(k)&&delete R["Content-Type"];var Y=new XMLHttpRequest;if(b.auth){var oe=b.auth.username||"",le=b.auth.password?unescape(encodeURIComponent(b.auth.password)):"";R.Authorization="Basic "+btoa(oe+":"+le)}var Ee=w(b.baseURL,b.url);function me(){if(Y){var Ke="getAllResponseHeaders"in Y?p(Y.getAllResponseHeaders()):null,Pe={data:K&&K!=="text"&&K!=="json"?Y.response:Y.responseText,status:Y.status,statusText:Y.statusText,headers:Ke,config:b,request:Y};_(function(we){F(we),ae()},function(we){S(we),ae()},Pe),Y=null}}if(Y.open(b.method.toUpperCase(),y(Ee,b.params,b.paramsSerializer),!0),Y.timeout=b.timeout,"onloadend"in Y?Y.onloadend=me:Y.onreadystatechange=function(){Y&&Y.readyState===4&&(Y.status!==0||Y.responseURL&&Y.responseURL.indexOf("file:")===0)&&setTimeout(me)},Y.onabort=function(){Y&&(S(C("Request aborted",b,"ECONNABORTED",Y)),Y=null)},Y.onerror=function(){S(C("Network Error",b,null,Y)),Y=null},Y.ontimeout=function(){var Ke=b.timeout?"timeout of "+b.timeout+"ms exceeded":"timeout exceeded",Pe=b.transitional||W;b.timeoutErrorMessage&&(Ke=b.timeoutErrorMessage),S(C(Ke,b,Pe.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Y)),Y=null},x.isStandardBrowserEnv()){var Oe=(b.withCredentials||l(Ee))&&b.xsrfCookieName?g.read(b.xsrfCookieName):void 0;Oe&&(R[b.xsrfHeaderName]=Oe)}"setRequestHeader"in Y&&x.forEach(R,function(Ke,Pe){k===void 0&&Pe.toLowerCase()==="content-type"?delete R[Pe]:Y.setRequestHeader(Pe,Ke)}),x.isUndefined(b.withCredentials)||(Y.withCredentials=!!b.withCredentials),K&&K!=="json"&&(Y.responseType=b.responseType),typeof b.onDownloadProgress=="function"&&Y.addEventListener("progress",b.onDownloadProgress),typeof b.onUploadProgress=="function"&&Y.upload&&Y.upload.addEventListener("progress",b.onUploadProgress),(b.cancelToken||b.signal)&&(u=function(Ke){Y&&(S(!Ke||Ke&&Ke.type?new m("canceled"):Ke),Y.abort(),Y=null)},b.cancelToken&&b.cancelToken.subscribe(u),b.signal&&(b.signal.aborted?u():b.signal.addEventListener("abort",u))),k||(k=null),Y.send(k)})}},5644:function(ye,Z,P){var x=P(3044),_=P(3644),g=P(2215),y=P(2937),w=function p(l){var C=new g(l),W=_(g.prototype.request,C);return x.extend(W,g.prototype,C),x.extend(W,C),W.create=function(m){return p(y(l,m))},W}(P(663));w.Axios=g,w.Cancel=P(6714),w.CancelToken=P(4089),w.isCancel=P(8041),w.VERSION=P(9241).version,w.all=function(p){return Promise.all(p)},w.spread=P(783),w.isAxiosError=P(5587),ye.exports=w,ye.exports.default=w},6714:function(ye){function Z(P){this.message=P}Z.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Z.prototype.__CANCEL__=!0,ye.exports=Z},4089:function(ye,Z,P){var x=P(6714);function _(g){if(typeof g!="function")throw new TypeError("executor must be a function.");var y;this.promise=new Promise(function(p){y=p});var w=this;this.promise.then(function(p){if(w._listeners){var l,C=w._listeners.length;for(l=0;l<C;l++)w._listeners[l](p);w._listeners=null}}),this.promise.then=function(p){var l,C=new Promise(function(W){w.subscribe(W),l=W}).then(p);return C.cancel=function(){w.unsubscribe(l)},C},g(function(p){w.reason||(w.reason=new x(p),y(w.reason))})}_.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},_.prototype.subscribe=function(g){this.reason?g(this.reason):this._listeners?this._listeners.push(g):this._listeners=[g]},_.prototype.unsubscribe=function(g){if(this._listeners){var y=this._listeners.indexOf(g);y!==-1&&this._listeners.splice(y,1)}},_.source=function(){var g;return{token:new _(function(y){g=y}),cancel:g}},ye.exports=_},8041:function(ye){ye.exports=function(Z){return!(!Z||!Z.__CANCEL__)}},2215:function(ye,Z,P){var x=P(3044),_=P(8030),g=P(946),y=P(6895),w=P(2937),p=P(7525),l=p.validators;function C(W){this.defaults=W,this.interceptors={request:new g,response:new g}}C.prototype.request=function(W,m){typeof W=="string"?(m=m||{}).url=W:m=W||{},(m=w(this.defaults,m)).method?m.method=m.method.toLowerCase():this.defaults.method?m.method=this.defaults.method.toLowerCase():m.method="get";var b=m.transitional;b!==void 0&&p.assertOptions(b,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var F=[],S=!0;this.interceptors.request.forEach(function(oe){typeof oe.runWhen=="function"&&oe.runWhen(m)===!1||(S=S&&oe.synchronous,F.unshift(oe.fulfilled,oe.rejected))});var u,k=[];if(this.interceptors.response.forEach(function(oe){k.push(oe.fulfilled,oe.rejected)}),!S){var R=[y,void 0];for(Array.prototype.unshift.apply(R,F),R=R.concat(k),u=Promise.resolve(m);R.length;)u=u.then(R.shift(),R.shift());return u}for(var K=m;F.length;){var ae=F.shift(),Y=F.shift();try{K=ae(K)}catch(oe){Y(oe);break}}try{u=y(K)}catch(oe){return Promise.reject(oe)}for(;k.length;)u=u.then(k.shift(),k.shift());return u},C.prototype.getUri=function(W){return W=w(this.defaults,W),_(W.url,W.params,W.paramsSerializer).replace(/^\?/,"")},x.forEach(["delete","get","head","options"],function(W){C.prototype[W]=function(m,b){return this.request(w(b||{},{method:W,url:m,data:(b||{}).data}))}}),x.forEach(["post","put","patch"],function(W){C.prototype[W]=function(m,b,F){return this.request(w(F||{},{method:W,url:m,data:b}))}}),ye.exports=C},946:function(ye,Z,P){var x=P(3044);function _(){this.handlers=[]}_.prototype.use=function(g,y,w){return this.handlers.push({fulfilled:g,rejected:y,synchronous:!!w&&w.synchronous,runWhen:w?w.runWhen:null}),this.handlers.length-1},_.prototype.eject=function(g){this.handlers[g]&&(this.handlers[g]=null)},_.prototype.forEach=function(g){x.forEach(this.handlers,function(y){y!==null&&g(y)})},ye.exports=_},7948:function(ye,Z,P){var x=P(9192),_=P(8762);ye.exports=function(g,y){return g&&!x(y)?_(g,y):y}},8618:function(ye,Z,P){var x=P(1935);ye.exports=function(_,g,y,w,p){var l=new Error(_);return x(l,g,y,w,p)}},6895:function(ye,Z,P){var x=P(3044),_=P(8556),g=P(8041),y=P(663),w=P(6714);function p(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new w("canceled")}ye.exports=function(l){return p(l),l.headers=l.headers||{},l.data=_.call(l,l.data,l.headers,l.transformRequest),l.headers=x.merge(l.headers.common||{},l.headers[l.method]||{},l.headers),x.forEach(["delete","get","head","post","put","patch","common"],function(C){delete l.headers[C]}),(l.adapter||y.adapter)(l).then(function(C){return p(l),C.data=_.call(l,C.data,C.headers,l.transformResponse),C},function(C){return g(C)||(p(l),C&&C.response&&(C.response.data=_.call(l,C.response.data,C.response.headers,l.transformResponse))),Promise.reject(C)})}},1935:function(ye){ye.exports=function(Z,P,x,_,g){return Z.config=P,x&&(Z.code=x),Z.request=_,Z.response=g,Z.isAxiosError=!0,Z.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},Z}},2937:function(ye,Z,P){var x=P(3044);ye.exports=function(_,g){g=g||{};var y={};function w(b,F){return x.isPlainObject(b)&&x.isPlainObject(F)?x.merge(b,F):x.isPlainObject(F)?x.merge({},F):x.isArray(F)?F.slice():F}function p(b){return x.isUndefined(g[b])?x.isUndefined(_[b])?void 0:w(void 0,_[b]):w(_[b],g[b])}function l(b){if(!x.isUndefined(g[b]))return w(void 0,g[b])}function C(b){return x.isUndefined(g[b])?x.isUndefined(_[b])?void 0:w(void 0,_[b]):w(void 0,g[b])}function W(b){return b in g?w(_[b],g[b]):b in _?w(void 0,_[b]):void 0}var m={url:l,method:l,data:l,baseURL:C,transformRequest:C,transformResponse:C,paramsSerializer:C,timeout:C,timeoutMessage:C,withCredentials:C,adapter:C,responseType:C,xsrfCookieName:C,xsrfHeaderName:C,onUploadProgress:C,onDownloadProgress:C,decompress:C,maxContentLength:C,maxBodyLength:C,transport:C,httpAgent:C,httpsAgent:C,cancelToken:C,socketPath:C,responseEncoding:C,validateStatus:W};return x.forEach(Object.keys(_).concat(Object.keys(g)),function(b){var F=m[b]||p,S=F(b);x.isUndefined(S)&&F!==W||(y[b]=S)}),y}},6955:function(ye,Z,P){var x=P(8618);ye.exports=function(_,g,y){var w=y.config.validateStatus;y.status&&w&&!w(y.status)?g(x("Request failed with status code "+y.status,y.config,null,y.request,y)):_(y)}},8556:function(ye,Z,P){var x=P(3044),_=P(663);ye.exports=function(g,y,w){var p=this||_;return x.forEach(w,function(l){g=l.call(p,g,y)}),g}},663:function(ye,Z,P){var x=P(3044),_=P(8868),g=P(1935),y=P(8560),w={"Content-Type":"application/x-www-form-urlencoded"};function p(W,m){!x.isUndefined(W)&&x.isUndefined(W["Content-Type"])&&(W["Content-Type"]=m)}var l,C={transitional:y,adapter:((typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(l=P(353)),l),transformRequest:[function(W,m){return _(m,"Accept"),_(m,"Content-Type"),x.isFormData(W)||x.isArrayBuffer(W)||x.isBuffer(W)||x.isStream(W)||x.isFile(W)||x.isBlob(W)?W:x.isArrayBufferView(W)?W.buffer:x.isURLSearchParams(W)?(p(m,"application/x-www-form-urlencoded;charset=utf-8"),W.toString()):x.isObject(W)||m&&m["Content-Type"]==="application/json"?(p(m,"application/json"),function(b,F,S){if(x.isString(b))try{return(0,JSON.parse)(b),x.trim(b)}catch(u){if(u.name!=="SyntaxError")throw u}return(0,JSON.stringify)(b)}(W)):W}],transformResponse:[function(W){var m=this.transitional||C.transitional,b=m&&m.silentJSONParsing,F=m&&m.forcedJSONParsing,S=!b&&this.responseType==="json";if(S||F&&x.isString(W)&&W.length)try{return JSON.parse(W)}catch(u){if(S)throw u.name==="SyntaxError"?g(u,this,"E_JSON_PARSE"):u}return W}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(W){return W>=200&&W<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};x.forEach(["delete","get","head"],function(W){C.headers[W]={}}),x.forEach(["post","put","patch"],function(W){C.headers[W]=x.merge(w)}),ye.exports=C},8560:function(ye){ye.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9241:function(ye){ye.exports={version:"0.26.1"}},3644:function(ye){ye.exports=function(Z,P){return function(){for(var x=new Array(arguments.length),_=0;_<x.length;_++)x[_]=arguments[_];return Z.apply(P,x)}}},8030:function(ye,Z,P){var x=P(3044);function _(g){return encodeURIComponent(g).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}ye.exports=function(g,y,w){if(!y)return g;var p;if(w)p=w(y);else if(x.isURLSearchParams(y))p=y.toString();else{var l=[];x.forEach(y,function(W,m){W!=null&&(x.isArray(W)?m+="[]":W=[W],x.forEach(W,function(b){x.isDate(b)?b=b.toISOString():x.isObject(b)&&(b=JSON.stringify(b)),l.push(_(m)+"="+_(b))}))}),p=l.join("&")}if(p){var C=g.indexOf("#");C!==-1&&(g=g.slice(0,C)),g+=(g.indexOf("?")===-1?"?":"&")+p}return g}},8762:function(ye){ye.exports=function(Z,P){return P?Z.replace(/\/+$/,"")+"/"+P.replace(/^\/+/,""):Z}},2233:function(ye,Z,P){var x=P(3044);ye.exports=x.isStandardBrowserEnv()?{write:function(_,g,y,w,p,l){var C=[];C.push(_+"="+encodeURIComponent(g)),x.isNumber(y)&&C.push("expires="+new Date(y).toGMTString()),x.isString(w)&&C.push("path="+w),x.isString(p)&&C.push("domain="+p),l===!0&&C.push("secure"),document.cookie=C.join("; ")},read:function(_){var g=document.cookie.match(new RegExp("(^|;\\s*)("+_+")=([^;]*)"));return g?decodeURIComponent(g[3]):null},remove:function(_){this.write(_,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9192:function(ye){ye.exports=function(Z){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Z)}},5587:function(ye,Z,P){var x=P(3044);ye.exports=function(_){return x.isObject(_)&&_.isAxiosError===!0}},842:function(ye,Z,P){var x=P(3044);ye.exports=x.isStandardBrowserEnv()?function(){var _,g=/(msie|trident)/i.test(navigator.userAgent),y=document.createElement("a");function w(p){var l=p;return g&&(y.setAttribute("href",l),l=y.href),y.setAttribute("href",l),{href:y.href,protocol:y.protocol?y.protocol.replace(/:$/,""):"",host:y.host,search:y.search?y.search.replace(/^\?/,""):"",hash:y.hash?y.hash.replace(/^#/,""):"",hostname:y.hostname,port:y.port,pathname:y.pathname.charAt(0)==="/"?y.pathname:"/"+y.pathname}}return _=w(window.location.href),function(p){var l=x.isString(p)?w(p):p;return l.protocol===_.protocol&&l.host===_.host}}():function(){return!0}},8868:function(ye,Z,P){var x=P(3044);ye.exports=function(_,g){x.forEach(_,function(y,w){w!==g&&w.toUpperCase()===g.toUpperCase()&&(_[g]=y,delete _[w])})}},1875:function(ye,Z,P){var x=P(3044),_=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];ye.exports=function(g){var y,w,p,l={};return g&&x.forEach(g.split(`
`),function(C){if(p=C.indexOf(":"),y=x.trim(C.substr(0,p)).toLowerCase(),w=x.trim(C.substr(p+1)),y){if(l[y]&&_.indexOf(y)>=0)return;l[y]=y==="set-cookie"?(l[y]?l[y]:[]).concat([w]):l[y]?l[y]+", "+w:w}}),l}},783:function(ye){ye.exports=function(Z){return function(P){return Z.apply(null,P)}}},7525:function(ye,Z,P){var x=P(9241).version,_={};["object","boolean","number","function","string","symbol"].forEach(function(y,w){_[y]=function(p){return typeof p===y||"a"+(w<1?"n ":" ")+y}});var g={};_.transitional=function(y,w,p){function l(C,W){return"[Axios v"+x+"] Transitional option '"+C+"'"+W+(p?". "+p:"")}return function(C,W,m){if(y===!1)throw new Error(l(W," has been removed"+(w?" in "+w:"")));return w&&!g[W]&&(g[W]=!0,console.warn(l(W," has been deprecated since v"+w+" and will be removed in the near future"))),!y||y(C,W,m)}},ye.exports={assertOptions:function(y,w,p){if(typeof y!="object")throw new TypeError("options must be an object");for(var l=Object.keys(y),C=l.length;C-- >0;){var W=l[C],m=w[W];if(m){var b=y[W],F=b===void 0||m(b,W,y);if(F!==!0)throw new TypeError("option "+W+" must be "+F)}else if(p!==!0)throw Error("Unknown option "+W)}},validators:_}},3044:function(ye,Z,P){var x=P(3644),_=Object.prototype.toString;function g(m){return Array.isArray(m)}function y(m){return m===void 0}function w(m){return _.call(m)==="[object ArrayBuffer]"}function p(m){return m!==null&&typeof m=="object"}function l(m){if(_.call(m)!=="[object Object]")return!1;var b=Object.getPrototypeOf(m);return b===null||b===Object.prototype}function C(m){return _.call(m)==="[object Function]"}function W(m,b){if(m!=null)if(typeof m!="object"&&(m=[m]),g(m))for(var F=0,S=m.length;F<S;F++)b.call(null,m[F],F,m);else for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&b.call(null,m[u],u,m)}ye.exports={isArray:g,isArrayBuffer:w,isBuffer:function(m){return m!==null&&!y(m)&&m.constructor!==null&&!y(m.constructor)&&typeof m.constructor.isBuffer=="function"&&m.constructor.isBuffer(m)},isFormData:function(m){return _.call(m)==="[object FormData]"},isArrayBufferView:function(m){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(m):m&&m.buffer&&w(m.buffer)},isString:function(m){return typeof m=="string"},isNumber:function(m){return typeof m=="number"},isObject:p,isPlainObject:l,isUndefined:y,isDate:function(m){return _.call(m)==="[object Date]"},isFile:function(m){return _.call(m)==="[object File]"},isBlob:function(m){return _.call(m)==="[object Blob]"},isFunction:C,isStream:function(m){return p(m)&&C(m.pipe)},isURLSearchParams:function(m){return _.call(m)==="[object URLSearchParams]"},isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:W,merge:function m(){var b={};function F(k,R){l(b[R])&&l(k)?b[R]=m(b[R],k):l(k)?b[R]=m({},k):g(k)?b[R]=k.slice():b[R]=k}for(var S=0,u=arguments.length;S<u;S++)W(arguments[S],F);return b},extend:function(m,b,F){return W(b,function(S,u){m[u]=F&&typeof S=="function"?x(S,F):S}),m},trim:function(m){return m.trim?m.trim():m.replace(/^\s+|\s+$/g,"")},stripBOM:function(m){return m.charCodeAt(0)===65279&&(m=m.slice(1)),m}}},7160:function(ye){ye.exports=function(Z){var P={};function x(_){if(P[_])return P[_].exports;var g=P[_]={i:_,l:!1,exports:{}};return Z[_].call(g.exports,g,g.exports,x),g.l=!0,g.exports}return x.m=Z,x.c=P,x.d=function(_,g,y){x.o(_,g)||Object.defineProperty(_,g,{enumerable:!0,get:y})},x.r=function(_){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},x.t=function(_,g){if(1&g&&(_=x(_)),8&g||4&g&&typeof _=="object"&&_&&_.__esModule)return _;var y=Object.create(null);if(x.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:_}),2&g&&typeof _!="string")for(var w in _)x.d(y,w,function(p){return _[p]}.bind(null,w));return y},x.n=function(_){var g=_&&_.__esModule?function(){return _.default}:function(){return _};return x.d(g,"a",g),g},x.o=function(_,g){return Object.prototype.hasOwnProperty.call(_,g)},x.p="",x(x.s=90)}({17:function(Z,P,x){P.__esModule=!0,P.default=void 0;var _=x(18),g=function(){function y(){}return y.getFirstMatch=function(w,p){var l=p.match(w);return l&&l.length>0&&l[1]||""},y.getSecondMatch=function(w,p){var l=p.match(w);return l&&l.length>1&&l[2]||""},y.matchAndReturnConst=function(w,p,l){if(w.test(p))return l},y.getWindowsVersionName=function(w){switch(w){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},y.getMacOSVersionName=function(w){var p=w.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(p.push(0),p[0]===10)switch(p[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},y.getAndroidVersionName=function(w){var p=w.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(p.push(0),!(p[0]===1&&p[1]<5))return p[0]===1&&p[1]<6?"Cupcake":p[0]===1&&p[1]>=6?"Donut":p[0]===2&&p[1]<2?"Eclair":p[0]===2&&p[1]===2?"Froyo":p[0]===2&&p[1]>2?"Gingerbread":p[0]===3?"Honeycomb":p[0]===4&&p[1]<1?"Ice Cream Sandwich":p[0]===4&&p[1]<4?"Jelly Bean":p[0]===4&&p[1]>=4?"KitKat":p[0]===5?"Lollipop":p[0]===6?"Marshmallow":p[0]===7?"Nougat":p[0]===8?"Oreo":p[0]===9?"Pie":void 0},y.getVersionPrecision=function(w){return w.split(".").length},y.compareVersions=function(w,p,l){l===void 0&&(l=!1);var C=y.getVersionPrecision(w),W=y.getVersionPrecision(p),m=Math.max(C,W),b=0,F=y.map([w,p],function(S){var u=m-y.getVersionPrecision(S),k=S+new Array(u+1).join(".0");return y.map(k.split("."),function(R){return new Array(20-R.length).join("0")+R}).reverse()});for(l&&(b=m-Math.min(C,W)),m-=1;m>=b;){if(F[0][m]>F[1][m])return 1;if(F[0][m]===F[1][m]){if(m===b)return 0;m-=1}else if(F[0][m]<F[1][m])return-1}},y.map=function(w,p){var l,C=[];if(Array.prototype.map)return Array.prototype.map.call(w,p);for(l=0;l<w.length;l+=1)C.push(p(w[l]));return C},y.find=function(w,p){var l,C;if(Array.prototype.find)return Array.prototype.find.call(w,p);for(l=0,C=w.length;l<C;l+=1){var W=w[l];if(p(W,l))return W}},y.assign=function(w){for(var p,l,C=w,W=arguments.length,m=new Array(W>1?W-1:0),b=1;b<W;b++)m[b-1]=arguments[b];if(Object.assign)return Object.assign.apply(Object,[w].concat(m));var F=function(){var S=m[p];typeof S=="object"&&S!==null&&Object.keys(S).forEach(function(u){C[u]=S[u]})};for(p=0,l=m.length;p<l;p+=1)F();return w},y.getBrowserAlias=function(w){return _.BROWSER_ALIASES_MAP[w]},y.getBrowserTypeByAlias=function(w){return _.BROWSER_MAP[w]||""},y}();P.default=g,Z.exports=P.default},18:function(Z,P,x){P.__esModule=!0,P.ENGINE_MAP=P.OS_MAP=P.PLATFORMS_MAP=P.BROWSER_MAP=P.BROWSER_ALIASES_MAP=void 0,P.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},P.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},P.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},P.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},P.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(Z,P,x){P.__esModule=!0,P.default=void 0;var _,g=(_=x(91))&&_.__esModule?_:{default:_},y=x(18);function w(l,C){for(var W=0;W<C.length;W++){var m=C[W];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}var p=function(){function l(){}var C,W;return l.getParser=function(m,b){if(b===void 0&&(b=!1),typeof m!="string")throw new Error("UserAgent should be a string");return new g.default(m,b)},l.parse=function(m){return new g.default(m).getResult()},C=l,W=[{key:"BROWSER_MAP",get:function(){return y.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return y.ENGINE_MAP}},{key:"OS_MAP",get:function(){return y.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return y.PLATFORMS_MAP}}],W&&w(C,W),l}();P.default=p,Z.exports=P.default},91:function(Z,P,x){P.__esModule=!0,P.default=void 0;var _=l(x(92)),g=l(x(93)),y=l(x(94)),w=l(x(95)),p=l(x(17));function l(W){return W&&W.__esModule?W:{default:W}}var C=function(){function W(b,F){if(F===void 0&&(F=!1),b==null||b==="")throw new Error("UserAgent parameter can't be empty");this._ua=b,this.parsedResult={},F!==!0&&this.parse()}var m=W.prototype;return m.getUA=function(){return this._ua},m.test=function(b){return b.test(this._ua)},m.parseBrowser=function(){var b=this;this.parsedResult.browser={};var F=p.default.find(_.default,function(S){if(typeof S.test=="function")return S.test(b);if(S.test instanceof Array)return S.test.some(function(u){return b.test(u)});throw new Error("Browser's test function is not valid")});return F&&(this.parsedResult.browser=F.describe(this.getUA())),this.parsedResult.browser},m.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},m.getBrowserName=function(b){return b?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},m.getBrowserVersion=function(){return this.getBrowser().version},m.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},m.parseOS=function(){var b=this;this.parsedResult.os={};var F=p.default.find(g.default,function(S){if(typeof S.test=="function")return S.test(b);if(S.test instanceof Array)return S.test.some(function(u){return b.test(u)});throw new Error("Browser's test function is not valid")});return F&&(this.parsedResult.os=F.describe(this.getUA())),this.parsedResult.os},m.getOSName=function(b){var F=this.getOS().name;return b?String(F).toLowerCase()||"":F||""},m.getOSVersion=function(){return this.getOS().version},m.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},m.getPlatformType=function(b){b===void 0&&(b=!1);var F=this.getPlatform().type;return b?String(F).toLowerCase()||"":F||""},m.parsePlatform=function(){var b=this;this.parsedResult.platform={};var F=p.default.find(y.default,function(S){if(typeof S.test=="function")return S.test(b);if(S.test instanceof Array)return S.test.some(function(u){return b.test(u)});throw new Error("Browser's test function is not valid")});return F&&(this.parsedResult.platform=F.describe(this.getUA())),this.parsedResult.platform},m.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},m.getEngineName=function(b){return b?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},m.parseEngine=function(){var b=this;this.parsedResult.engine={};var F=p.default.find(w.default,function(S){if(typeof S.test=="function")return S.test(b);if(S.test instanceof Array)return S.test.some(function(u){return b.test(u)});throw new Error("Browser's test function is not valid")});return F&&(this.parsedResult.engine=F.describe(this.getUA())),this.parsedResult.engine},m.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},m.getResult=function(){return p.default.assign({},this.parsedResult)},m.satisfies=function(b){var F=this,S={},u=0,k={},R=0;if(Object.keys(b).forEach(function(Oe){var Ke=b[Oe];typeof Ke=="string"?(k[Oe]=Ke,R+=1):typeof Ke=="object"&&(S[Oe]=Ke,u+=1)}),u>0){var K=Object.keys(S),ae=p.default.find(K,function(Oe){return F.isOS(Oe)});if(ae){var Y=this.satisfies(S[ae]);if(Y!==void 0)return Y}var oe=p.default.find(K,function(Oe){return F.isPlatform(Oe)});if(oe){var le=this.satisfies(S[oe]);if(le!==void 0)return le}}if(R>0){var Ee=Object.keys(k),me=p.default.find(Ee,function(Oe){return F.isBrowser(Oe,!0)});if(me!==void 0)return this.compareVersion(k[me])}},m.isBrowser=function(b,F){F===void 0&&(F=!1);var S=this.getBrowserName().toLowerCase(),u=b.toLowerCase(),k=p.default.getBrowserTypeByAlias(u);return F&&k&&(u=k.toLowerCase()),u===S},m.compareVersion=function(b){var F=[0],S=b,u=!1,k=this.getBrowserVersion();if(typeof k=="string")return b[0]===">"||b[0]==="<"?(S=b.substr(1),b[1]==="="?(u=!0,S=b.substr(2)):F=[],b[0]===">"?F.push(1):F.push(-1)):b[0]==="="?S=b.substr(1):b[0]==="~"&&(u=!0,S=b.substr(1)),F.indexOf(p.default.compareVersions(k,S,u))>-1},m.isOS=function(b){return this.getOSName(!0)===String(b).toLowerCase()},m.isPlatform=function(b){return this.getPlatformType(!0)===String(b).toLowerCase()},m.isEngine=function(b){return this.getEngineName(!0)===String(b).toLowerCase()},m.is=function(b,F){return F===void 0&&(F=!1),this.isBrowser(b,F)||this.isOS(b)||this.isPlatform(b)},m.some=function(b){var F=this;return b===void 0&&(b=[]),b.some(function(S){return F.is(S)})},W}();P.default=C,Z.exports=P.default},92:function(Z,P,x){P.__esModule=!0,P.default=void 0;var _,g=(_=x(17))&&_.__esModule?_:{default:_},y=/version\/(\d+(\.?_?\d+)+)/i,w=[{test:[/googlebot/i],describe:function(p){var l={name:"Googlebot"},C=g.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/opera/i],describe:function(p){var l={name:"Opera"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/opr\/|opios/i],describe:function(p){var l={name:"Opera"},C=g.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/SamsungBrowser/i],describe:function(p){var l={name:"Samsung Internet for Android"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/Whale/i],describe:function(p){var l={name:"NAVER Whale Browser"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/MZBrowser/i],describe:function(p){var l={name:"MZ Browser"},C=g.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/focus/i],describe:function(p){var l={name:"Focus"},C=g.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/swing/i],describe:function(p){var l={name:"Swing"},C=g.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/coast/i],describe:function(p){var l={name:"Opera Coast"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(p){var l={name:"Opera Touch"},C=g.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/yabrowser/i],describe:function(p){var l={name:"Yandex Browser"},C=g.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/ucbrowser/i],describe:function(p){var l={name:"UC Browser"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/Maxthon|mxios/i],describe:function(p){var l={name:"Maxthon"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/epiphany/i],describe:function(p){var l={name:"Epiphany"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/puffin/i],describe:function(p){var l={name:"Puffin"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/sleipnir/i],describe:function(p){var l={name:"Sleipnir"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/k-meleon/i],describe:function(p){var l={name:"K-Meleon"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/micromessenger/i],describe:function(p){var l={name:"WeChat"},C=g.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/qqbrowser/i],describe:function(p){var l={name:/qqbrowserlite/i.test(p)?"QQ Browser Lite":"QQ Browser"},C=g.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/msie|trident/i],describe:function(p){var l={name:"Internet Explorer"},C=g.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/\sedg\//i],describe:function(p){var l={name:"Microsoft Edge"},C=g.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/edg([ea]|ios)/i],describe:function(p){var l={name:"Microsoft Edge"},C=g.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/vivaldi/i],describe:function(p){var l={name:"Vivaldi"},C=g.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/seamonkey/i],describe:function(p){var l={name:"SeaMonkey"},C=g.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/sailfish/i],describe:function(p){var l={name:"Sailfish"},C=g.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,p);return C&&(l.version=C),l}},{test:[/silk/i],describe:function(p){var l={name:"Amazon Silk"},C=g.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/phantom/i],describe:function(p){var l={name:"PhantomJS"},C=g.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/slimerjs/i],describe:function(p){var l={name:"SlimerJS"},C=g.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(p){var l={name:"BlackBerry"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/(web|hpw)[o0]s/i],describe:function(p){var l={name:"WebOS Browser"},C=g.default.getFirstMatch(y,p)||g.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/bada/i],describe:function(p){var l={name:"Bada"},C=g.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/tizen/i],describe:function(p){var l={name:"Tizen"},C=g.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/qupzilla/i],describe:function(p){var l={name:"QupZilla"},C=g.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/firefox|iceweasel|fxios/i],describe:function(p){var l={name:"Firefox"},C=g.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/electron/i],describe:function(p){var l={name:"Electron"},C=g.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/MiuiBrowser/i],describe:function(p){var l={name:"Miui"},C=g.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/chromium/i],describe:function(p){var l={name:"Chromium"},C=g.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,p)||g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/chrome|crios|crmo/i],describe:function(p){var l={name:"Chrome"},C=g.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/GSA/i],describe:function(p){var l={name:"Google Search"},C=g.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:function(p){var l=!p.test(/like android/i),C=p.test(/android/i);return l&&C},describe:function(p){var l={name:"Android Browser"},C=g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/playstation 4/i],describe:function(p){var l={name:"PlayStation 4"},C=g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/safari|applewebkit/i],describe:function(p){var l={name:"Safari"},C=g.default.getFirstMatch(y,p);return C&&(l.version=C),l}},{test:[/.*/i],describe:function(p){var l=p.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:g.default.getFirstMatch(l,p),version:g.default.getSecondMatch(l,p)}}}];P.default=w,Z.exports=P.default},93:function(Z,P,x){P.__esModule=!0,P.default=void 0;var _,g=(_=x(17))&&_.__esModule?_:{default:_},y=x(18),w=[{test:[/Roku\/DVP/],describe:function(p){var l=g.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,p);return{name:y.OS_MAP.Roku,version:l}}},{test:[/windows phone/i],describe:function(p){var l=g.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,p);return{name:y.OS_MAP.WindowsPhone,version:l}}},{test:[/windows /i],describe:function(p){var l=g.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,p),C=g.default.getWindowsVersionName(l);return{name:y.OS_MAP.Windows,version:l,versionName:C}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(p){var l={name:y.OS_MAP.iOS},C=g.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,p);return C&&(l.version=C),l}},{test:[/macintosh/i],describe:function(p){var l=g.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,p).replace(/[_\s]/g,"."),C=g.default.getMacOSVersionName(l),W={name:y.OS_MAP.MacOS,version:l};return C&&(W.versionName=C),W}},{test:[/(ipod|iphone|ipad)/i],describe:function(p){var l=g.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,p).replace(/[_\s]/g,".");return{name:y.OS_MAP.iOS,version:l}}},{test:function(p){var l=!p.test(/like android/i),C=p.test(/android/i);return l&&C},describe:function(p){var l=g.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,p),C=g.default.getAndroidVersionName(l),W={name:y.OS_MAP.Android,version:l};return C&&(W.versionName=C),W}},{test:[/(web|hpw)[o0]s/i],describe:function(p){var l=g.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,p),C={name:y.OS_MAP.WebOS};return l&&l.length&&(C.version=l),C}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(p){var l=g.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,p)||g.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,p)||g.default.getFirstMatch(/\bbb(\d+)/i,p);return{name:y.OS_MAP.BlackBerry,version:l}}},{test:[/bada/i],describe:function(p){var l=g.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,p);return{name:y.OS_MAP.Bada,version:l}}},{test:[/tizen/i],describe:function(p){var l=g.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,p);return{name:y.OS_MAP.Tizen,version:l}}},{test:[/linux/i],describe:function(){return{name:y.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:y.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(p){var l=g.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,p);return{name:y.OS_MAP.PlayStation4,version:l}}}];P.default=w,Z.exports=P.default},94:function(Z,P,x){P.__esModule=!0,P.default=void 0;var _,g=(_=x(17))&&_.__esModule?_:{default:_},y=x(18),w=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(p){var l=g.default.getFirstMatch(/(can-l01)/i,p)&&"Nova",C={type:y.PLATFORMS_MAP.mobile,vendor:"Huawei"};return l&&(C.model=l),C}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:y.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:y.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:y.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:y.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:y.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:y.PLATFORMS_MAP.tablet}}},{test:function(p){var l=p.test(/ipod|iphone/i),C=p.test(/like (ipod|iphone)/i);return l&&!C},describe:function(p){var l=g.default.getFirstMatch(/(ipod|iphone)/i,p);return{type:y.PLATFORMS_MAP.mobile,vendor:"Apple",model:l}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:y.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:y.PLATFORMS_MAP.mobile}}},{test:function(p){return p.getBrowserName(!0)==="blackberry"},describe:function(){return{type:y.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(p){return p.getBrowserName(!0)==="bada"},describe:function(){return{type:y.PLATFORMS_MAP.mobile}}},{test:function(p){return p.getBrowserName()==="windows phone"},describe:function(){return{type:y.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(p){var l=Number(String(p.getOSVersion()).split(".")[0]);return p.getOSName(!0)==="android"&&l>=3},describe:function(){return{type:y.PLATFORMS_MAP.tablet}}},{test:function(p){return p.getOSName(!0)==="android"},describe:function(){return{type:y.PLATFORMS_MAP.mobile}}},{test:function(p){return p.getOSName(!0)==="macos"},describe:function(){return{type:y.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(p){return p.getOSName(!0)==="windows"},describe:function(){return{type:y.PLATFORMS_MAP.desktop}}},{test:function(p){return p.getOSName(!0)==="linux"},describe:function(){return{type:y.PLATFORMS_MAP.desktop}}},{test:function(p){return p.getOSName(!0)==="playstation 4"},describe:function(){return{type:y.PLATFORMS_MAP.tv}}},{test:function(p){return p.getOSName(!0)==="roku"},describe:function(){return{type:y.PLATFORMS_MAP.tv}}}];P.default=w,Z.exports=P.default},95:function(Z,P,x){P.__esModule=!0,P.default=void 0;var _,g=(_=x(17))&&_.__esModule?_:{default:_},y=x(18),w=[{test:function(p){return p.getBrowserName(!0)==="microsoft edge"},describe:function(p){if(/\sedg\//i.test(p))return{name:y.ENGINE_MAP.Blink};var l=g.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,p);return{name:y.ENGINE_MAP.EdgeHTML,version:l}}},{test:[/trident/i],describe:function(p){var l={name:y.ENGINE_MAP.Trident},C=g.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:function(p){return p.test(/presto/i)},describe:function(p){var l={name:y.ENGINE_MAP.Presto},C=g.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:function(p){var l=p.test(/gecko/i),C=p.test(/like gecko/i);return l&&!C},describe:function(p){var l={name:y.ENGINE_MAP.Gecko},C=g.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:y.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(p){var l={name:y.ENGINE_MAP.WebKit},C=g.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,p);return C&&(l.version=C),l}}];P.default=w,Z.exports=P.default}})},5792:function(ye){var Z={utf8:{stringToBytes:function(P){return Z.bin.stringToBytes(unescape(encodeURIComponent(P)))},bytesToString:function(P){return decodeURIComponent(escape(Z.bin.bytesToString(P)))}},bin:{stringToBytes:function(P){for(var x=[],_=0;_<P.length;_++)x.push(255&P.charCodeAt(_));return x},bytesToString:function(P){for(var x=[],_=0;_<P.length;_++)x.push(String.fromCharCode(P[_]));return x.join("")}}};ye.exports=Z},9562:function(ye){var Z,P;Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P={rotl:function(x,_){return x<<_|x>>>32-_},rotr:function(x,_){return x<<32-_|x>>>_},endian:function(x){if(x.constructor==Number)return 16711935&P.rotl(x,8)|4278255360&P.rotl(x,24);for(var _=0;_<x.length;_++)x[_]=P.endian(x[_]);return x},randomBytes:function(x){for(var _=[];x>0;x--)_.push(Math.floor(256*Math.random()));return _},bytesToWords:function(x){for(var _=[],g=0,y=0;g<x.length;g++,y+=8)_[y>>>5]|=x[g]<<24-y%32;return _},wordsToBytes:function(x){for(var _=[],g=0;g<32*x.length;g+=8)_.push(x[g>>>5]>>>24-g%32&255);return _},bytesToHex:function(x){for(var _=[],g=0;g<x.length;g++)_.push((x[g]>>>4).toString(16)),_.push((15&x[g]).toString(16));return _.join("")},hexToBytes:function(x){for(var _=[],g=0;g<x.length;g+=2)_.push(parseInt(x.substr(g,2),16));return _},bytesToBase64:function(x){for(var _=[],g=0;g<x.length;g+=3)for(var y=x[g]<<16|x[g+1]<<8|x[g+2],w=0;w<4;w++)8*g+6*w<=8*x.length?_.push(Z.charAt(y>>>6*(3-w)&63)):_.push("=");return _.join("")},base64ToBytes:function(x){x=x.replace(/[^A-Z0-9+\/]/gi,"");for(var _=[],g=0,y=0;g<x.length;y=++g%4)y!=0&&_.push((Z.indexOf(x.charAt(g-1))&Math.pow(2,-2*y+8)-1)<<2*y|Z.indexOf(x.charAt(g))>>>6-2*y);return _}},ye.exports=P},5130:function(ye,Z,P){Z.formatArgs=function(_){if(_[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+_[0]+(this.useColors?"%c ":" ")+"+"+ye.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;_.splice(1,0,g,"color: inherit");let y=0,w=0;_[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(y++,p==="%c"&&(w=y))}),_.splice(w,0,g)},Z.save=function(_){try{_?Z.storage.setItem("debug",_):Z.storage.removeItem("debug")}catch{}},Z.load=function(){let _;try{_=Z.storage.getItem("debug")}catch{}return!_&&typeof process!="undefined"&&"env"in process&&(_={}.DEBUG),_},Z.useColors=function(){return!(typeof window=="undefined"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator=="undefined"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},Z.storage=function(){try{return localStorage}catch{}}(),Z.destroy=(()=>{let _=!1;return()=>{_||(_=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),Z.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],Z.log=console.debug||console.log||(()=>{}),ye.exports=P(7123)(Z);const{formatters:x}=ye.exports;x.j=function(_){try{return JSON.stringify(_)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}},7123:function(ye,Z,P){ye.exports=function(x){function _(w){let p,l,C,W=null;function m(...b){if(!m.enabled)return;const F=m,S=Number(new Date),u=S-(p||S);F.diff=u,F.prev=p,F.curr=S,p=S,b[0]=_.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let k=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(R,K)=>{if(R==="%%")return"%";k++;const ae=_.formatters[K];if(typeof ae=="function"){const Y=b[k];R=ae.call(F,Y),b.splice(k,1),k--}return R}),_.formatArgs.call(F,b),(F.log||_.log).apply(F,b)}return m.namespace=w,m.useColors=_.useColors(),m.color=_.selectColor(w),m.extend=g,m.destroy=_.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>W!==null?W:(l!==_.namespaces&&(l=_.namespaces,C=_.enabled(w)),C),set:b=>{W=b}}),typeof _.init=="function"&&_.init(m),m}function g(w,p){const l=_(this.namespace+(p===void 0?":":p)+w);return l.log=this.log,l}function y(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}return _.debug=_,_.default=_,_.coerce=function(w){return w instanceof Error?w.stack||w.message:w},_.disable=function(){const w=[..._.names.map(y),..._.skips.map(y).map(p=>"-"+p)].join(",");return _.enable(""),w},_.enable=function(w){let p;_.save(w),_.namespaces=w,_.names=[],_.skips=[];const l=(typeof w=="string"?w:"").split(/[\s,]+/),C=l.length;for(p=0;p<C;p++)l[p]&&((w=l[p].replace(/\*/g,".*?"))[0]==="-"?_.skips.push(new RegExp("^"+w.slice(1)+"$")):_.names.push(new RegExp("^"+w+"$")))},_.enabled=function(w){if(w[w.length-1]==="*")return!0;let p,l;for(p=0,l=_.skips.length;p<l;p++)if(_.skips[p].test(w))return!1;for(p=0,l=_.names.length;p<l;p++)if(_.names[p].test(w))return!0;return!1},_.humanize=P(1378),_.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(x).forEach(w=>{_[w]=x[w]}),_.names=[],_.skips=[],_.formatters={},_.selectColor=function(w){let p=0;for(let l=0;l<w.length;l++)p=(p<<5)-p+w.charCodeAt(l),p|=0;return _.colors[Math.abs(p)%_.colors.length]},_.enable(_.load()),_}},3335:function(ye){function Z(P){return!!P.constructor&&typeof P.constructor.isBuffer=="function"&&P.constructor.isBuffer(P)}ye.exports=function(P){return P!=null&&(Z(P)||function(x){return typeof x.readFloatLE=="function"&&typeof x.slice=="function"&&Z(x.slice(0,0))}(P)||!!P._isBuffer)}},3958:function(ye,Z,P){ye=P.nmd(ye);var x="__lodash_hash_undefined__",_=9007199254740991,g="[object Arguments]",y="[object Array]",w="[object Boolean]",p="[object Date]",l="[object Error]",C="[object Function]",W="[object Map]",m="[object Number]",b="[object Object]",F="[object Promise]",S="[object RegExp]",u="[object Set]",k="[object String]",R="[object WeakMap]",K="[object ArrayBuffer]",ae="[object DataView]",Y=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,le={};le["[object Float32Array]"]=le["[object Float64Array]"]=le["[object Int8Array]"]=le["[object Int16Array]"]=le["[object Int32Array]"]=le["[object Uint8Array]"]=le["[object Uint8ClampedArray]"]=le["[object Uint16Array]"]=le["[object Uint32Array]"]=!0,le[g]=le[y]=le[K]=le[w]=le[ae]=le[p]=le[l]=le[C]=le[W]=le[m]=le[b]=le[S]=le[u]=le[k]=le[R]=!1;var Ee=typeof ri=="object"&&ri&&ri.Object===Object&&ri,me=typeof self=="object"&&self&&self.Object===Object&&self,Oe=Ee||me||Function("return this")(),Ke=Z&&!Z.nodeType&&Z,Pe=Ke&&ye&&!ye.nodeType&&ye,we=Pe&&Pe.exports===Ke,yt=we&&Ee.process,Pt=function(){try{return yt&&yt.binding&&yt.binding("util")}catch{}}(),Mt=Pt&&Pt.isTypedArray;function rt(he,Me){for(var Ge=-1,Te=he==null?0:he.length;++Ge<Te;)if(Me(he[Ge],Ge,he))return!0;return!1}function Rt(he){var Me=-1,Ge=Array(he.size);return he.forEach(function(Te,nt){Ge[++Me]=[nt,Te]}),Ge}function Kt(he){var Me=-1,Ge=Array(he.size);return he.forEach(function(Te){Ge[++Me]=Te}),Ge}var Wt,Be,yi,Et=Array.prototype,gn=Function.prototype,Ie=Object.prototype,pe=Oe["__core-js_shared__"],ge=gn.toString,Ce=Ie.hasOwnProperty,Ae=(Wt=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||""))?"Symbol(src)_1."+Wt:"",ut=Ie.toString,it=RegExp("^"+ge.call(Ce).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=we?Oe.Buffer:void 0,bt=Oe.Symbol,Ze=Oe.Uint8Array,_t=Ie.propertyIsEnumerable,vn=Et.splice,Jt=bt?bt.toStringTag:void 0,Lt=Object.getOwnPropertySymbols,yn=et?et.isBuffer:void 0,lt=(Be=Object.keys,yi=Object,function(he){return Be(yi(he))}),kn=H(Oe,"DataView"),st=H(Oe,"Map"),Ln=H(Oe,"Promise"),Rn=H(Oe,"Set"),Ct=H(Oe,"WeakMap"),z=H(Object,"create"),Fn=De(kn),Jn=De(st),xi=De(Ln),Ir=De(Rn),ki=De(Ct),wi=bt?bt.prototype:void 0,qe=wi?wi.valueOf:void 0;function Si(he){var Me=-1,Ge=he==null?0:he.length;for(this.clear();++Me<Ge;){var Te=he[Me];this.set(Te[0],Te[1])}}function dn(he){var Me=-1,Ge=he==null?0:he.length;for(this.clear();++Me<Ge;){var Te=he[Me];this.set(Te[0],Te[1])}}function _i(he){var Me=-1,Ge=he==null?0:he.length;for(this.clear();++Me<Ge;){var Te=he[Me];this.set(Te[0],Te[1])}}function Gt(he){var Me=-1,Ge=he==null?0:he.length;for(this.__data__=new _i;++Me<Ge;)this.add(he[Me])}function Tn(he){var Me=this.__data__=new dn(he);this.size=Me.size}function fi(he,Me){for(var Ge=he.length;Ge--;)if(Ye(he[Ge][0],Me))return Ge;return-1}function Je(he){return he==null?he===void 0?"[object Undefined]":"[object Null]":Jt&&Jt in Object(he)?function(Me){var Ge=Ce.call(Me,Jt),Te=Me[Jt];try{Me[Jt]=void 0;var nt=!0}catch{}var ft=ut.call(Me);return nt&&(Ge?Me[Jt]=Te:delete Me[Jt]),ft}(he):function(Me){return ut.call(Me)}(he)}function Le(he){return Ht(he)&&Je(he)==g}function h(he,Me,Ge,Te,nt){return he===Me||(he==null||Me==null||!Ht(he)&&!Ht(Me)?he!=he&&Me!=Me:function(ft,vt,Ot,Yt,Cn,Nn){var Zt=wt(ft),An=wt(vt),It=Zt?y:J(ft),Nt=An?y:J(vt),pn=(It=It==g?b:It)==b,Jr=(Nt=Nt==g?b:Nt)==b,Fi=It==Nt;if(Fi&&ot(ft)){if(!ot(vt))return!1;Zt=!0,pn=!1}if(Fi&&!pn)return Nn||(Nn=new Tn),Zt||jn(ft)?E(ft,vt,Ot,Yt,Cn,Nn):function(qt,ln,Mi,er,ko,Hi,Yi){switch(Mi){case ae:if(qt.byteLength!=ln.byteLength||qt.byteOffset!=ln.byteOffset)return!1;qt=qt.buffer,ln=ln.buffer;case K:return!(qt.byteLength!=ln.byteLength||!Hi(new Ze(qt),new Ze(ln)));case w:case p:case m:return Ye(+qt,+ln);case l:return qt.name==ln.name&&qt.message==ln.message;case S:case k:return qt==ln+"";case W:var Pr=Rt;case u:var Kr=1&er;if(Pr||(Pr=Kt),qt.size!=ln.size&&!Kr)return!1;var Vr=Yi.get(qt);if(Vr)return Vr==ln;er|=2,Yi.set(qt,ln);var zi=E(Pr(qt),Pr(ln),er,ko,Hi,Yi);return Yi.delete(qt),zi;case"[object Symbol]":if(qe)return qe.call(qt)==qe.call(ln)}return!1}(ft,vt,It,Ot,Yt,Cn,Nn);if(!(1&Ot)){var Ti=pn&&Ce.call(ft,"__wrapped__"),Tt=Jr&&Ce.call(vt,"__wrapped__");if(Ti||Tt){var ei=Ti?ft.value():ft,Ni=Tt?vt.value():vt;return Nn||(Nn=new Tn),Cn(ei,Ni,Ot,Yt,Nn)}}return!!Fi&&(Nn||(Nn=new Tn),function(qt,ln,Mi,er,ko,Hi){var Yi=1&Mi,Pr=U(qt),Kr=Pr.length;if(Kr!=U(ln).length&&!Yi)return!1;for(var Vr=Kr;Vr--;){var zi=Pr[Vr];if(!(Yi?zi in ln:Ce.call(ln,zi)))return!1}var Rr=Hi.get(qt);if(Rr&&Hi.get(ln))return Rr==ln;var Br=!0;Hi.set(qt,ln),Hi.set(ln,qt);for(var Zr=Yi;++Vr<Kr;){var bo=qt[zi=Pr[Vr]],Qr=ln[zi];if(er)var En=Yi?er(Qr,bo,zi,ln,qt,Hi):er(bo,Qr,zi,qt,ln,Hi);if(!(En===void 0?bo===Qr||ko(bo,Qr,Mi,er,Hi):En)){Br=!1;break}Zr||(Zr=zi=="constructor")}if(Br&&!Zr){var Wr=qt.constructor,Zo=ln.constructor;Wr==Zo||!("constructor"in qt)||!("constructor"in ln)||typeof Wr=="function"&&Wr instanceof Wr&&typeof Zo=="function"&&Zo instanceof Zo||(Br=!1)}return Hi.delete(qt),Hi.delete(ln),Br}(ft,vt,Ot,Yt,Cn,Nn))}(he,Me,Ge,Te,h,nt))}function E(he,Me,Ge,Te,nt,ft){var vt=1&Ge,Ot=he.length,Yt=Me.length;if(Ot!=Yt&&!(vt&&Yt>Ot))return!1;var Cn=ft.get(he);if(Cn&&ft.get(Me))return Cn==Me;var Nn=-1,Zt=!0,An=2&Ge?new Gt:void 0;for(ft.set(he,Me),ft.set(Me,he);++Nn<Ot;){var It=he[Nn],Nt=Me[Nn];if(Te)var pn=vt?Te(Nt,It,Nn,Me,he,ft):Te(It,Nt,Nn,he,Me,ft);if(pn!==void 0){if(pn)continue;Zt=!1;break}if(An){if(!rt(Me,function(Jr,Fi){if(Ti=Fi,!An.has(Ti)&&(It===Jr||nt(It,Jr,Ge,Te,ft)))return An.push(Fi);var Ti})){Zt=!1;break}}else if(It!==Nt&&!nt(It,Nt,Ge,Te,ft)){Zt=!1;break}}return ft.delete(he),ft.delete(Me),Zt}function U(he){return function(Me,Ge,Te){var nt=Ge(Me);return wt(Me)?nt:function(ft,vt){for(var Ot=-1,Yt=vt.length,Cn=ft.length;++Ot<Yt;)ft[Cn+Ot]=vt[Ot];return ft}(nt,Te(Me))}(he,Sn,ie)}function L(he,Me){var Ge,Te,nt=he.__data__;return((Te=typeof(Ge=Me))=="string"||Te=="number"||Te=="symbol"||Te=="boolean"?Ge!=="__proto__":Ge===null)?nt[typeof Me=="string"?"string":"hash"]:nt.map}function H(he,Me){var Ge=function(Te,nt){return Te==null?void 0:Te[nt]}(he,Me);return function(Te){return!(!at(Te)||function(nt){return!!Ae&&Ae in nt}(Te))&&(ct(Te)?it:Y).test(De(Te))}(Ge)?Ge:void 0}Si.prototype.clear=function(){this.__data__=z?z(null):{},this.size=0},Si.prototype.delete=function(he){var Me=this.has(he)&&delete this.__data__[he];return this.size-=Me?1:0,Me},Si.prototype.get=function(he){var Me=this.__data__;if(z){var Ge=Me[he];return Ge===x?void 0:Ge}return Ce.call(Me,he)?Me[he]:void 0},Si.prototype.has=function(he){var Me=this.__data__;return z?Me[he]!==void 0:Ce.call(Me,he)},Si.prototype.set=function(he,Me){var Ge=this.__data__;return this.size+=this.has(he)?0:1,Ge[he]=z&&Me===void 0?x:Me,this},dn.prototype.clear=function(){this.__data__=[],this.size=0},dn.prototype.delete=function(he){var Me=this.__data__,Ge=fi(Me,he);return!(Ge<0||(Ge==Me.length-1?Me.pop():vn.call(Me,Ge,1),--this.size,0))},dn.prototype.get=function(he){var Me=this.__data__,Ge=fi(Me,he);return Ge<0?void 0:Me[Ge][1]},dn.prototype.has=function(he){return fi(this.__data__,he)>-1},dn.prototype.set=function(he,Me){var Ge=this.__data__,Te=fi(Ge,he);return Te<0?(++this.size,Ge.push([he,Me])):Ge[Te][1]=Me,this},_i.prototype.clear=function(){this.size=0,this.__data__={hash:new Si,map:new(st||dn),string:new Si}},_i.prototype.delete=function(he){var Me=L(this,he).delete(he);return this.size-=Me?1:0,Me},_i.prototype.get=function(he){return L(this,he).get(he)},_i.prototype.has=function(he){return L(this,he).has(he)},_i.prototype.set=function(he,Me){var Ge=L(this,he),Te=Ge.size;return Ge.set(he,Me),this.size+=Ge.size==Te?0:1,this},Gt.prototype.add=Gt.prototype.push=function(he){return this.__data__.set(he,x),this},Gt.prototype.has=function(he){return this.__data__.has(he)},Tn.prototype.clear=function(){this.__data__=new dn,this.size=0},Tn.prototype.delete=function(he){var Me=this.__data__,Ge=Me.delete(he);return this.size=Me.size,Ge},Tn.prototype.get=function(he){return this.__data__.get(he)},Tn.prototype.has=function(he){return this.__data__.has(he)},Tn.prototype.set=function(he,Me){var Ge=this.__data__;if(Ge instanceof dn){var Te=Ge.__data__;if(!st||Te.length<199)return Te.push([he,Me]),this.size=++Ge.size,this;Ge=this.__data__=new _i(Te)}return Ge.set(he,Me),this.size=Ge.size,this};var ie=Lt?function(he){return he==null?[]:(he=Object(he),function(Me,Ge){for(var Te=-1,nt=Me==null?0:Me.length,ft=0,vt=[];++Te<nt;){var Ot=Me[Te];Yt=Ot,_t.call(he,Yt)&&(vt[ft++]=Ot)}var Yt;return vt}(Lt(he)))}:function(){return[]},J=Je;function ke(he,Me){return!!(Me=Me==null?_:Me)&&(typeof he=="number"||oe.test(he))&&he>-1&&he%1==0&&he<Me}function De(he){if(he!=null){try{return ge.call(he)}catch{}try{return he+""}catch{}}return""}function Ye(he,Me){return he===Me||he!=he&&Me!=Me}(kn&&J(new kn(new ArrayBuffer(1)))!=ae||st&&J(new st)!=W||Ln&&J(Ln.resolve())!=F||Rn&&J(new Rn)!=u||Ct&&J(new Ct)!=R)&&(J=function(he){var Me=Je(he),Ge=Me==b?he.constructor:void 0,Te=Ge?De(Ge):"";if(Te)switch(Te){case Fn:return ae;case Jn:return W;case xi:return F;case Ir:return u;case ki:return R}return Me});var dt=Le(function(){return arguments}())?Le:function(he){return Ht(he)&&Ce.call(he,"callee")&&!_t.call(he,"callee")},wt=Array.isArray,ot=yn||function(){return!1};function ct(he){if(!at(he))return!1;var Me=Je(he);return Me==C||Me=="[object GeneratorFunction]"||Me=="[object AsyncFunction]"||Me=="[object Proxy]"}function bn(he){return typeof he=="number"&&he>-1&&he%1==0&&he<=_}function at(he){var Me=typeof he;return he!=null&&(Me=="object"||Me=="function")}function Ht(he){return he!=null&&typeof he=="object"}var jn=Mt?function(he){return function(Me){return he(Me)}}(Mt):function(he){return Ht(he)&&bn(he.length)&&!!le[Je(he)]};function Sn(he){return(Me=he)!=null&&bn(Me.length)&&!ct(Me)?function(Ge,Te){var nt=wt(Ge),ft=!nt&&dt(Ge),vt=!nt&&!ft&&ot(Ge),Ot=!nt&&!ft&&!vt&&jn(Ge),Yt=nt||ft||vt||Ot,Cn=Yt?function(An,It){for(var Nt=-1,pn=Array(An);++Nt<An;)pn[Nt]=It(Nt);return pn}(Ge.length,String):[],Nn=Cn.length;for(var Zt in Ge)!Te&&!Ce.call(Ge,Zt)||Yt&&(Zt=="length"||vt&&(Zt=="offset"||Zt=="parent")||Ot&&(Zt=="buffer"||Zt=="byteLength"||Zt=="byteOffset")||ke(Zt,Nn))||Cn.push(Zt);return Cn}(he):function(Ge){if(nt=(Te=Ge)&&Te.constructor,Te!==(typeof nt=="function"&&nt.prototype||Ie))return lt(Ge);var Te,nt,ft=[];for(var vt in Object(Ge))Ce.call(Ge,vt)&&vt!="constructor"&&ft.push(vt);return ft}(he);var Me}ye.exports=function(he,Me){return h(he,Me)}},1344:function(ye,Z,P){ye=P.nmd(ye);var x="__lodash_hash_undefined__",_=9007199254740991,g="[object Arguments]",y="[object Function]",w="[object Object]",p=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[g]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object Boolean]"]=C["[object DataView]"]=C["[object Date]"]=C["[object Error]"]=C[y]=C["[object Map]"]=C["[object Number]"]=C[w]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object WeakMap]"]=!1;var W=typeof ri=="object"&&ri&&ri.Object===Object&&ri,m=typeof self=="object"&&self&&self.Object===Object&&self,b=W||m||Function("return this")(),F=Z&&!Z.nodeType&&Z,S=F&&ye&&!ye.nodeType&&ye,u=S&&S.exports===F,k=u&&W.process,R=function(){try{return S&&S.require&&S.require("util").types||k&&k.binding&&k.binding("util")}catch{}}(),K=R&&R.isTypedArray;function ae(L,H,ie){switch(ie.length){case 0:return L.call(H);case 1:return L.call(H,ie[0]);case 2:return L.call(H,ie[0],ie[1]);case 3:return L.call(H,ie[0],ie[1],ie[2])}return L.apply(H,ie)}var Y,oe,le,Ee=Array.prototype,me=Function.prototype,Oe=Object.prototype,Ke=b["__core-js_shared__"],Pe=me.toString,we=Oe.hasOwnProperty,yt=(Y=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",Pt=Oe.toString,Mt=Pe.call(Object),rt=RegExp("^"+Pe.call(we).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=u?b.Buffer:void 0,Kt=b.Symbol,Wt=b.Uint8Array,Be=(Rt&&Rt.allocUnsafe,oe=Object.getPrototypeOf,le=Object,function(L){return oe(le(L))}),yi=Object.create,Et=Oe.propertyIsEnumerable,gn=Ee.splice,Ie=Kt?Kt.toStringTag:void 0,pe=function(){try{var L=z(Object,"defineProperty");return L({},"",{}),L}catch{}}(),ge=Rt?Rt.isBuffer:void 0,Ce=Math.max,Ae=Date.now,ut=z(b,"Map"),it=z(Object,"create"),et=function(){function L(){}return function(H){if(!Tn(H))return{};if(yi)return yi(H);L.prototype=H;var ie=new L;return L.prototype=void 0,ie}}();function bt(L){var H=-1,ie=L==null?0:L.length;for(this.clear();++H<ie;){var J=L[H];this.set(J[0],J[1])}}function Ze(L){var H=-1,ie=L==null?0:L.length;for(this.clear();++H<ie;){var J=L[H];this.set(J[0],J[1])}}function _t(L){var H=-1,ie=L==null?0:L.length;for(this.clear();++H<ie;){var J=L[H];this.set(J[0],J[1])}}function vn(L){var H=this.__data__=new Ze(L);this.size=H.size}function Jt(L,H,ie){(ie!==void 0&&!ki(L[H],ie)||ie===void 0&&!(H in L))&&lt(L,H,ie)}function Lt(L,H,ie){var J=L[H];we.call(L,H)&&ki(J,ie)&&(ie!==void 0||H in L)||lt(L,H,ie)}function yn(L,H){for(var ie=L.length;ie--;)if(ki(L[ie][0],H))return ie;return-1}function lt(L,H,ie){H=="__proto__"&&pe?pe(L,H,{configurable:!0,enumerable:!0,value:ie,writable:!0}):L[H]=ie}bt.prototype.clear=function(){this.__data__=it?it(null):{},this.size=0},bt.prototype.delete=function(L){var H=this.has(L)&&delete this.__data__[L];return this.size-=H?1:0,H},bt.prototype.get=function(L){var H=this.__data__;if(it){var ie=H[L];return ie===x?void 0:ie}return we.call(H,L)?H[L]:void 0},bt.prototype.has=function(L){var H=this.__data__;return it?H[L]!==void 0:we.call(H,L)},bt.prototype.set=function(L,H){var ie=this.__data__;return this.size+=this.has(L)?0:1,ie[L]=it&&H===void 0?x:H,this},Ze.prototype.clear=function(){this.__data__=[],this.size=0},Ze.prototype.delete=function(L){var H=this.__data__,ie=yn(H,L);return!(ie<0||(ie==H.length-1?H.pop():gn.call(H,ie,1),--this.size,0))},Ze.prototype.get=function(L){var H=this.__data__,ie=yn(H,L);return ie<0?void 0:H[ie][1]},Ze.prototype.has=function(L){return yn(this.__data__,L)>-1},Ze.prototype.set=function(L,H){var ie=this.__data__,J=yn(ie,L);return J<0?(++this.size,ie.push([L,H])):ie[J][1]=H,this},_t.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(ut||Ze),string:new bt}},_t.prototype.delete=function(L){var H=Ct(this,L).delete(L);return this.size-=H?1:0,H},_t.prototype.get=function(L){return Ct(this,L).get(L)},_t.prototype.has=function(L){return Ct(this,L).has(L)},_t.prototype.set=function(L,H){var ie=Ct(this,L),J=ie.size;return ie.set(L,H),this.size+=ie.size==J?0:1,this},vn.prototype.clear=function(){this.__data__=new Ze,this.size=0},vn.prototype.delete=function(L){var H=this.__data__,ie=H.delete(L);return this.size=H.size,ie},vn.prototype.get=function(L){return this.__data__.get(L)},vn.prototype.has=function(L){return this.__data__.has(L)},vn.prototype.set=function(L,H){var ie=this.__data__;if(ie instanceof Ze){var J=ie.__data__;if(!ut||J.length<199)return J.push([L,H]),this.size=++ie.size,this;ie=this.__data__=new _t(J)}return ie.set(L,H),this.size=ie.size,this};function kn(L){return L==null?L===void 0?"[object Undefined]":"[object Null]":Ie&&Ie in Object(L)?function(H){var ie=we.call(H,Ie),J=H[Ie];try{H[Ie]=void 0;var ke=!0}catch{}var De=Pt.call(H);return ke&&(ie?H[Ie]=J:delete H[Ie]),De}(L):function(H){return Pt.call(H)}(L)}function st(L){return fi(L)&&kn(L)==g}function Ln(L,H,ie,J,ke){L!==H&&function(De,Ye,dt){for(var wt=-1,ot=Object(De),ct=dt(De),bn=ct.length;bn--;){var at=ct[++wt];if(Ye(ot[at],at,ot)===!1)break}}(H,function(De,Ye){if(ke||(ke=new vn),Tn(De))(function(wt,ot,ct,bn,at,Ht,jn){var Sn=xi(wt,ct),he=xi(ot,ct),Me=jn.get(he);if(Me)Jt(wt,ct,Me);else{var Ge,Te,nt,ft,vt,Ot=Ht?Ht(Sn,he,ct+"",wt,ot,jn):void 0,Yt=Ot===void 0;if(Yt){var Cn=qe(he),Nn=!Cn&&dn(he),Zt=!Cn&&!Nn&&Je(he);Ot=he,Cn||Nn||Zt?qe(Sn)?Ot=Sn:fi(vt=Sn)&&Si(vt)?Ot=function(An,It){var Nt=-1,pn=An.length;for(It||(It=Array(pn));++Nt<pn;)It[Nt]=An[Nt];return It}(Sn):Nn?(Yt=!1,Ot=function(An,It){return An.slice()}(he)):Zt?(Yt=!1,ft=new(nt=(Ge=he).buffer).constructor(nt.byteLength),new Wt(ft).set(new Wt(nt)),Te=ft,Ot=new Ge.constructor(Te,Ge.byteOffset,Ge.length)):Ot=[]:function(An){if(!fi(An)||kn(An)!=w)return!1;var It=Be(An);if(It===null)return!0;var Nt=we.call(It,"constructor")&&It.constructor;return typeof Nt=="function"&&Nt instanceof Nt&&Pe.call(Nt)==Mt}(he)||wi(he)?(Ot=Sn,wi(Sn)?Ot=function(An){return function(It,Nt,pn,Jr){var Fi=!pn;pn||(pn={});for(var Ti=-1,Tt=Nt.length;++Ti<Tt;){var ei=Nt[Ti],Ni=void 0;Ni===void 0&&(Ni=It[ei]),Fi?lt(pn,ei,Ni):Lt(pn,ei,Ni)}return pn}(An,Le(An))}(Sn):Tn(Sn)&&!_i(Sn)||(Ot=function(An){return typeof An.constructor!="function"||Jn(An)?{}:et(Be(An))}(he))):Yt=!1}Yt&&(jn.set(he,Ot),at(Ot,he,bn,Ht,jn),jn.delete(he)),Jt(wt,ct,Ot)}})(L,H,Ye,ie,Ln,J,ke);else{var dt=J?J(xi(L,Ye),De,Ye+"",L,H,ke):void 0;dt===void 0&&(dt=De),Jt(L,Ye,dt)}},Le)}var Rn=pe?function(L,H){return pe(L,"toString",{configurable:!0,enumerable:!1,value:(ie=H,function(){return ie}),writable:!0});var ie}:U;function Ct(L,H){var ie,J,ke=L.__data__;return((J=typeof(ie=H))=="string"||J=="number"||J=="symbol"||J=="boolean"?ie!=="__proto__":ie===null)?ke[typeof H=="string"?"string":"hash"]:ke.map}function z(L,H){var ie=function(J,ke){return J==null?void 0:J[ke]}(L,H);return function(J){return!(!Tn(J)||function(ke){return!!yt&&yt in ke}(J))&&(_i(J)?rt:p).test(function(ke){if(ke!=null){try{return Pe.call(ke)}catch{}try{return ke+""}catch{}}return""}(J))}(ie)?ie:void 0}function Fn(L,H){var ie=typeof L;return!!(H=H==null?_:H)&&(ie=="number"||ie!="symbol"&&l.test(L))&&L>-1&&L%1==0&&L<H}function Jn(L){var H=L&&L.constructor;return L===(typeof H=="function"&&H.prototype||Oe)}function xi(L,H){if((H!=="constructor"||typeof L[H]!="function")&&H!="__proto__")return L[H]}var Ir=function(L){var H=0,ie=0;return function(){var J=Ae(),ke=16-(J-ie);if(ie=J,ke>0){if(++H>=800)return arguments[0]}else H=0;return L.apply(void 0,arguments)}}(Rn);function ki(L,H){return L===H||L!=L&&H!=H}var wi=st(function(){return arguments}())?st:function(L){return fi(L)&&we.call(L,"callee")&&!Et.call(L,"callee")},qe=Array.isArray;function Si(L){return L!=null&&Gt(L.length)&&!_i(L)}var dn=ge||function(){return!1};function _i(L){if(!Tn(L))return!1;var H=kn(L);return H==y||H=="[object GeneratorFunction]"||H=="[object AsyncFunction]"||H=="[object Proxy]"}function Gt(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=_}function Tn(L){var H=typeof L;return L!=null&&(H=="object"||H=="function")}function fi(L){return L!=null&&typeof L=="object"}var Je=K?function(L){return function(H){return L(H)}}(K):function(L){return fi(L)&&Gt(L.length)&&!!C[kn(L)]};function Le(L){return Si(L)?function(H,ie){var J=qe(H),ke=!J&&wi(H),De=!J&&!ke&&dn(H),Ye=!J&&!ke&&!De&&Je(H),dt=J||ke||De||Ye,wt=dt?function(bn,at){for(var Ht=-1,jn=Array(bn);++Ht<bn;)jn[Ht]=at(Ht);return jn}(H.length,String):[],ot=wt.length;for(var ct in H)!ie&&!we.call(H,ct)||dt&&(ct=="length"||De&&(ct=="offset"||ct=="parent")||Ye&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||Fn(ct,ot))||wt.push(ct);return wt}(L,!0):function(H){if(!Tn(H))return function(De){var Ye=[];if(De!=null)for(var dt in Object(De))Ye.push(dt);return Ye}(H);var ie=Jn(H),J=[];for(var ke in H)(ke!="constructor"||!ie&&we.call(H,ke))&&J.push(ke);return J}(L)}var h,E=(h=function(L,H,ie){Ln(L,H,ie)},function(L,H){return Ir(function(ie,J,ke){return J=Ce(J===void 0?ie.length-1:J,0),function(){for(var De=arguments,Ye=-1,dt=Ce(De.length-J,0),wt=Array(dt);++Ye<dt;)wt[Ye]=De[J+Ye];Ye=-1;for(var ot=Array(J+1);++Ye<J;)ot[Ye]=De[Ye];return ot[J]=ke(wt),ae(ie,this,ot)}}(L,H,U),L+"")}(function(L,H){var ie=-1,J=H.length,ke=J>1?H[J-1]:void 0,De=J>2?H[2]:void 0;for(ke=h.length>3&&typeof ke=="function"?(J--,ke):void 0,De&&function(dt,wt,ot){if(!Tn(ot))return!1;var ct=typeof wt;return!!(ct=="number"?Si(ot)&&Fn(wt,ot.length):ct=="string"&&wt in ot)&&ki(ot[wt],dt)}(H[0],H[1],De)&&(ke=J<3?void 0:ke,J=1),L=Object(L);++ie<J;){var Ye=H[ie];Ye&&h(L,Ye,ie)}return L}));function U(L){return L}ye.exports=E},9640:function(ye,Z,P){var x,_;(function(g,y){x=function(){var w=function(){},p="undefined",l=typeof window!==p&&typeof window.navigator!==p&&/Trident\/|MSIE /.test(window.navigator.userAgent),C=["trace","debug","info","warn","error"];function W(Y,oe){var le=Y[oe];if(typeof le.bind=="function")return le.bind(Y);try{return Function.prototype.bind.call(le,Y)}catch{return function(){return Function.prototype.apply.apply(le,[Y,arguments])}}}function m(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function b(Y){return Y==="debug"&&(Y="log"),typeof console!==p&&(Y==="trace"&&l?m:console[Y]!==void 0?W(console,Y):console.log!==void 0?W(console,"log"):w)}function F(Y,oe){for(var le=0;le<C.length;le++){var Ee=C[le];this[Ee]=le<Y?w:this.methodFactory(Ee,Y,oe)}this.log=this.debug}function S(Y,oe,le){return function(){typeof console!==p&&(F.call(this,oe,le),this[Y].apply(this,arguments))}}function u(Y,oe,le){return b(Y)||S.apply(this,arguments)}function k(Y,oe,le){var Ee,me=this;oe=oe==null?"WARN":oe;var Oe="loglevel";function Ke(){var we;if(typeof window!==p&&Oe){try{we=window.localStorage[Oe]}catch{}if(typeof we===p)try{var yt=window.document.cookie,Pt=yt.indexOf(encodeURIComponent(Oe)+"=");Pt!==-1&&(we=/^([^;]+)/.exec(yt.slice(Pt))[1])}catch{}return me.levels[we]===void 0&&(we=void 0),we}}typeof Y=="string"?Oe+=":"+Y:typeof Y=="symbol"&&(Oe=void 0),me.name=Y,me.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},me.methodFactory=le||u,me.getLevel=function(){return Ee},me.setLevel=function(we,yt){if(typeof we=="string"&&me.levels[we.toUpperCase()]!==void 0&&(we=me.levels[we.toUpperCase()]),!(typeof we=="number"&&we>=0&&we<=me.levels.SILENT))throw"log.setLevel() called with invalid level: "+we;if(Ee=we,yt!==!1&&function(Pt){var Mt=(C[Pt]||"silent").toUpperCase();if(typeof window!==p&&Oe){try{return void(window.localStorage[Oe]=Mt)}catch{}try{window.document.cookie=encodeURIComponent(Oe)+"="+Mt+";"}catch{}}}(we),F.call(me,we,Y),typeof console===p&&we<me.levels.SILENT)return"No console available for logging"},me.setDefaultLevel=function(we){oe=we,Ke()||me.setLevel(we,!1)},me.resetLevel=function(){me.setLevel(oe,!1),function(){if(typeof window!==p&&Oe){try{return void window.localStorage.removeItem(Oe)}catch{}try{window.document.cookie=encodeURIComponent(Oe)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}()},me.enableAll=function(we){me.setLevel(me.levels.TRACE,we)},me.disableAll=function(we){me.setLevel(me.levels.SILENT,we)};var Pe=Ke();Pe==null&&(Pe=oe),me.setLevel(Pe,!1)}var R=new k,K={};R.getLogger=function(Y){if(typeof Y!="symbol"&&typeof Y!="string"||Y==="")throw new TypeError("You must supply a name when creating a logger.");var oe=K[Y];return oe||(oe=K[Y]=new k(Y,R.getLevel(),R.methodFactory)),oe};var ae=typeof window!==p?window.log:void 0;return R.noConflict=function(){return typeof window!==p&&window.log===R&&(window.log=ae),R},R.getLoggers=function(){return K},R.default=R,R},(_=x.call(Z,P,Z,ye))===void 0||(ye.exports=_)})()},1323:function(ye,Z,P){var x,_,g,y,w;x=P(9562),_=P(5792).utf8,g=P(3335),y=P(5792).bin,(w=function(p,l){p.constructor==String?p=l&&l.encoding==="binary"?y.stringToBytes(p):_.stringToBytes(p):g(p)?p=Array.prototype.slice.call(p,0):Array.isArray(p)||p.constructor===Uint8Array||(p=p.toString());for(var C=x.bytesToWords(p),W=8*p.length,m=1732584193,b=-271733879,F=-1732584194,S=271733878,u=0;u<C.length;u++)C[u]=16711935&(C[u]<<8|C[u]>>>24)|4278255360&(C[u]<<24|C[u]>>>8);C[W>>>5]|=128<<W%32,C[14+(W+64>>>9<<4)]=W;var k=w._ff,R=w._gg,K=w._hh,ae=w._ii;for(u=0;u<C.length;u+=16){var Y=m,oe=b,le=F,Ee=S;m=k(m,b,F,S,C[u+0],7,-680876936),S=k(S,m,b,F,C[u+1],12,-389564586),F=k(F,S,m,b,C[u+2],17,606105819),b=k(b,F,S,m,C[u+3],22,-1044525330),m=k(m,b,F,S,C[u+4],7,-176418897),S=k(S,m,b,F,C[u+5],12,1200080426),F=k(F,S,m,b,C[u+6],17,-1473231341),b=k(b,F,S,m,C[u+7],22,-45705983),m=k(m,b,F,S,C[u+8],7,1770035416),S=k(S,m,b,F,C[u+9],12,-1958414417),F=k(F,S,m,b,C[u+10],17,-42063),b=k(b,F,S,m,C[u+11],22,-1990404162),m=k(m,b,F,S,C[u+12],7,1804603682),S=k(S,m,b,F,C[u+13],12,-40341101),F=k(F,S,m,b,C[u+14],17,-1502002290),m=R(m,b=k(b,F,S,m,C[u+15],22,1236535329),F,S,C[u+1],5,-165796510),S=R(S,m,b,F,C[u+6],9,-1069501632),F=R(F,S,m,b,C[u+11],14,643717713),b=R(b,F,S,m,C[u+0],20,-373897302),m=R(m,b,F,S,C[u+5],5,-701558691),S=R(S,m,b,F,C[u+10],9,38016083),F=R(F,S,m,b,C[u+15],14,-660478335),b=R(b,F,S,m,C[u+4],20,-405537848),m=R(m,b,F,S,C[u+9],5,568446438),S=R(S,m,b,F,C[u+14],9,-1019803690),F=R(F,S,m,b,C[u+3],14,-187363961),b=R(b,F,S,m,C[u+8],20,1163531501),m=R(m,b,F,S,C[u+13],5,-1444681467),S=R(S,m,b,F,C[u+2],9,-51403784),F=R(F,S,m,b,C[u+7],14,1735328473),m=K(m,b=R(b,F,S,m,C[u+12],20,-1926607734),F,S,C[u+5],4,-378558),S=K(S,m,b,F,C[u+8],11,-2022574463),F=K(F,S,m,b,C[u+11],16,1839030562),b=K(b,F,S,m,C[u+14],23,-35309556),m=K(m,b,F,S,C[u+1],4,-1530992060),S=K(S,m,b,F,C[u+4],11,1272893353),F=K(F,S,m,b,C[u+7],16,-155497632),b=K(b,F,S,m,C[u+10],23,-1094730640),m=K(m,b,F,S,C[u+13],4,681279174),S=K(S,m,b,F,C[u+0],11,-358537222),F=K(F,S,m,b,C[u+3],16,-722521979),b=K(b,F,S,m,C[u+6],23,76029189),m=K(m,b,F,S,C[u+9],4,-640364487),S=K(S,m,b,F,C[u+12],11,-421815835),F=K(F,S,m,b,C[u+15],16,530742520),m=ae(m,b=K(b,F,S,m,C[u+2],23,-995338651),F,S,C[u+0],6,-198630844),S=ae(S,m,b,F,C[u+7],10,1126891415),F=ae(F,S,m,b,C[u+14],15,-1416354905),b=ae(b,F,S,m,C[u+5],21,-57434055),m=ae(m,b,F,S,C[u+12],6,1700485571),S=ae(S,m,b,F,C[u+3],10,-1894986606),F=ae(F,S,m,b,C[u+10],15,-1051523),b=ae(b,F,S,m,C[u+1],21,-2054922799),m=ae(m,b,F,S,C[u+8],6,1873313359),S=ae(S,m,b,F,C[u+15],10,-30611744),F=ae(F,S,m,b,C[u+6],15,-1560198380),b=ae(b,F,S,m,C[u+13],21,1309151649),m=ae(m,b,F,S,C[u+4],6,-145523070),S=ae(S,m,b,F,C[u+11],10,-1120210379),F=ae(F,S,m,b,C[u+2],15,718787259),b=ae(b,F,S,m,C[u+9],21,-343485551),m=m+Y>>>0,b=b+oe>>>0,F=F+le>>>0,S=S+Ee>>>0}return x.endian([m,b,F,S])})._ff=function(p,l,C,W,m,b,F){var S=p+(l&C|~l&W)+(m>>>0)+F;return(S<<b|S>>>32-b)+l},w._gg=function(p,l,C,W,m,b,F){var S=p+(l&W|C&~W)+(m>>>0)+F;return(S<<b|S>>>32-b)+l},w._hh=function(p,l,C,W,m,b,F){var S=p+(l^C^W)+(m>>>0)+F;return(S<<b|S>>>32-b)+l},w._ii=function(p,l,C,W,m,b,F){var S=p+(C^(l|~W))+(m>>>0)+F;return(S<<b|S>>>32-b)+l},w._blocksize=16,w._digestsize=16,ye.exports=function(p,l){if(p==null)throw new Error("Illegal argument "+p);var C=x.wordsToBytes(w(p,l));return l&&l.asBytes?C:l&&l.asString?y.bytesToString(C):x.bytesToHex(C)}},1944:function(ye){function Z(P){var x=new Error("Cannot find module '"+P+"'");throw x.code="MODULE_NOT_FOUND",x}Z.keys=function(){return[]},Z.resolve=Z,Z.id=1944,ye.exports=Z},9034:function(ye,Z,P){(ye=P.nmd(ye)).exports=function(){var x,_;function g(){return x.apply(null,arguments)}function y(a){return a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"}function w(a){return a!=null&&Object.prototype.toString.call(a)==="[object Object]"}function p(a,d){return Object.prototype.hasOwnProperty.call(a,d)}function l(a){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(a).length===0;var d;for(d in a)if(p(a,d))return!1;return!0}function C(a){return a===void 0}function W(a){return typeof a=="number"||Object.prototype.toString.call(a)==="[object Number]"}function m(a){return a instanceof Date||Object.prototype.toString.call(a)==="[object Date]"}function b(a,d){var I,V=[],ne=a.length;for(I=0;I<ne;++I)V.push(d(a[I],I));return V}function F(a,d){for(var I in d)p(d,I)&&(a[I]=d[I]);return p(d,"toString")&&(a.toString=d.toString),p(d,"valueOf")&&(a.valueOf=d.valueOf),a}function S(a,d,I,V){return Qr(a,d,I,V,!0).utc()}function u(a){return a._pf==null&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),a._pf}function k(a){if(a._isValid==null){var d=u(a),I=_.call(d.parsedDateParts,function(ne){return ne!=null}),V=!isNaN(a._d.getTime())&&d.overflow<0&&!d.empty&&!d.invalidEra&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&I);if(a._strict&&(V=V&&d.charsLeftOver===0&&d.unusedTokens.length===0&&d.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(a))return V;a._isValid=V}return a._isValid}function R(a){var d=S(NaN);return a!=null?F(u(d),a):u(d).userInvalidated=!0,d}_=Array.prototype.some?Array.prototype.some:function(a){var d,I=Object(this),V=I.length>>>0;for(d=0;d<V;d++)if(d in I&&a.call(this,I[d],d,I))return!0;return!1};var K=g.momentProperties=[],ae=!1;function Y(a,d){var I,V,ne,fe=K.length;if(C(d._isAMomentObject)||(a._isAMomentObject=d._isAMomentObject),C(d._i)||(a._i=d._i),C(d._f)||(a._f=d._f),C(d._l)||(a._l=d._l),C(d._strict)||(a._strict=d._strict),C(d._tzm)||(a._tzm=d._tzm),C(d._isUTC)||(a._isUTC=d._isUTC),C(d._offset)||(a._offset=d._offset),C(d._pf)||(a._pf=u(d)),C(d._locale)||(a._locale=d._locale),fe>0)for(I=0;I<fe;I++)C(ne=d[V=K[I]])||(a[V]=ne);return a}function oe(a){Y(this,a),this._d=new Date(a._d!=null?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ae===!1&&(ae=!0,g.updateOffset(this),ae=!1)}function le(a){return a instanceof oe||a!=null&&a._isAMomentObject!=null}function Ee(a){g.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+a)}function me(a,d){var I=!0;return F(function(){if(g.deprecationHandler!=null&&g.deprecationHandler(null,a),I){var V,ne,fe,Se=[],Ue=arguments.length;for(ne=0;ne<Ue;ne++){if(V="",typeof arguments[ne]=="object"){for(fe in V+=`
[`+ne+"] ",arguments[0])p(arguments[0],fe)&&(V+=fe+": "+arguments[0][fe]+", ");V=V.slice(0,-2)}else V=arguments[ne];Se.push(V)}Ee(a+`
Arguments: `+Array.prototype.slice.call(Se).join("")+`
`+new Error().stack),I=!1}return d.apply(this,arguments)},d)}var Oe,Ke={};function Pe(a,d){g.deprecationHandler!=null&&g.deprecationHandler(a,d),Ke[a]||(Ee(d),Ke[a]=!0)}function we(a){return typeof Function!="undefined"&&a instanceof Function||Object.prototype.toString.call(a)==="[object Function]"}function yt(a,d){var I,V=F({},a);for(I in d)p(d,I)&&(w(a[I])&&w(d[I])?(V[I]={},F(V[I],a[I]),F(V[I],d[I])):d[I]!=null?V[I]=d[I]:delete V[I]);for(I in a)p(a,I)&&!p(d,I)&&w(a[I])&&(V[I]=F({},V[I]));return V}function Pt(a){a!=null&&this.set(a)}g.suppressDeprecationWarnings=!1,g.deprecationHandler=null,Oe=Object.keys?Object.keys:function(a){var d,I=[];for(d in a)p(a,d)&&I.push(d);return I};function Mt(a,d,I){var V=""+Math.abs(a),ne=d-V.length;return(a>=0?I?"+":"":"-")+Math.pow(10,Math.max(0,ne)).toString().substr(1)+V}var rt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Rt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Kt={},Wt={};function Be(a,d,I,V){var ne=V;typeof V=="string"&&(ne=function(){return this[V]()}),a&&(Wt[a]=ne),d&&(Wt[d[0]]=function(){return Mt(ne.apply(this,arguments),d[1],d[2])}),I&&(Wt[I]=function(){return this.localeData().ordinal(ne.apply(this,arguments),a)})}function yi(a,d){return a.isValid()?(d=Et(d,a.localeData()),Kt[d]=Kt[d]||function(I){var V,ne,fe,Se=I.match(rt);for(V=0,ne=Se.length;V<ne;V++)Wt[Se[V]]?Se[V]=Wt[Se[V]]:Se[V]=(fe=Se[V]).match(/\[[\s\S]/)?fe.replace(/^\[|\]$/g,""):fe.replace(/\\/g,"");return function(Ue){var Fe,pt="";for(Fe=0;Fe<ne;Fe++)pt+=we(Se[Fe])?Se[Fe].call(Ue,I):Se[Fe];return pt}}(d),Kt[d](a)):a.localeData().invalidDate()}function Et(a,d){var I=5;function V(ne){return d.longDateFormat(ne)||ne}for(Rt.lastIndex=0;I>=0&&Rt.test(a);)a=a.replace(Rt,V),Rt.lastIndex=0,I-=1;return a}var gn={};function Ie(a,d){var I=a.toLowerCase();gn[I]=gn[I+"s"]=gn[d]=a}function pe(a){return typeof a=="string"?gn[a]||gn[a.toLowerCase()]:void 0}function ge(a){var d,I,V={};for(I in a)p(a,I)&&(d=pe(I))&&(V[d]=a[I]);return V}var Ce={};function Ae(a,d){Ce[a]=d}function ut(a){return a%4==0&&a%100!=0||a%400==0}function it(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function et(a){var d=+a,I=0;return d!==0&&isFinite(d)&&(I=it(d)),I}function bt(a,d){return function(I){return I!=null?(_t(this,a,I),g.updateOffset(this,d),this):Ze(this,a)}}function Ze(a,d){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+d]():NaN}function _t(a,d,I){a.isValid()&&!isNaN(I)&&(d==="FullYear"&&ut(a.year())&&a.month()===1&&a.date()===29?(I=et(I),a._d["set"+(a._isUTC?"UTC":"")+d](I,a.month(),Le(I,a.month()))):a._d["set"+(a._isUTC?"UTC":"")+d](I))}var vn,Jt=/\d/,Lt=/\d\d/,yn=/\d{3}/,lt=/\d{4}/,kn=/[+-]?\d{6}/,st=/\d\d?/,Ln=/\d\d\d\d?/,Rn=/\d\d\d\d\d\d?/,Ct=/\d{1,3}/,z=/\d{1,4}/,Fn=/[+-]?\d{1,6}/,Jn=/\d+/,xi=/[+-]?\d+/,Ir=/Z|[+-]\d\d:?\d\d/gi,ki=/Z|[+-]\d\d(?::?\d\d)?/gi,wi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function qe(a,d,I){vn[a]=we(d)?d:function(V,ne){return V&&I?I:d}}function Si(a,d){return p(vn,a)?vn[a](d._strict,d._locale):new RegExp(dn(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(I,V,ne,fe,Se){return V||ne||fe||Se})))}function dn(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}vn={};var _i={};function Gt(a,d){var I,V,ne=d;for(typeof a=="string"&&(a=[a]),W(d)&&(ne=function(fe,Se){Se[d]=et(fe)}),V=a.length,I=0;I<V;I++)_i[a[I]]=ne}function Tn(a,d){Gt(a,function(I,V,ne,fe){ne._w=ne._w||{},d(I,ne._w,ne,fe)})}function fi(a,d,I){d!=null&&p(_i,a)&&_i[a](d,I._a,I,a)}var Je;function Le(a,d){if(isNaN(a)||isNaN(d))return NaN;var I,V=(d%(I=12)+I)%I;return a+=(d-V)/12,V===1?ut(a)?29:28:31-V%7%2}Je=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var d;for(d=0;d<this.length;++d)if(this[d]===a)return d;return-1},Be("M",["MM",2],"Mo",function(){return this.month()+1}),Be("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),Be("MMMM",0,0,function(a){return this.localeData().months(this,a)}),Ie("month","M"),Ae("month",8),qe("M",st),qe("MM",st,Lt),qe("MMM",function(a,d){return d.monthsShortRegex(a)}),qe("MMMM",function(a,d){return d.monthsRegex(a)}),Gt(["M","MM"],function(a,d){d[1]=et(a)-1}),Gt(["MMM","MMMM"],function(a,d,I,V){var ne=I._locale.monthsParse(a,V,I._strict);ne!=null?d[1]=ne:u(I).invalidMonth=a});var h="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),E="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),U=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,L=wi,H=wi;function ie(a,d,I){var V,ne,fe,Se=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],V=0;V<12;++V)fe=S([2e3,V]),this._shortMonthsParse[V]=this.monthsShort(fe,"").toLocaleLowerCase(),this._longMonthsParse[V]=this.months(fe,"").toLocaleLowerCase();return I?d==="MMM"?(ne=Je.call(this._shortMonthsParse,Se))!==-1?ne:null:(ne=Je.call(this._longMonthsParse,Se))!==-1?ne:null:d==="MMM"?(ne=Je.call(this._shortMonthsParse,Se))!==-1||(ne=Je.call(this._longMonthsParse,Se))!==-1?ne:null:(ne=Je.call(this._longMonthsParse,Se))!==-1||(ne=Je.call(this._shortMonthsParse,Se))!==-1?ne:null}function J(a,d){var I;if(!a.isValid())return a;if(typeof d=="string"){if(/^\d+$/.test(d))d=et(d);else if(!W(d=a.localeData().monthsParse(d)))return a}return I=Math.min(a.date(),Le(a.year(),d)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](d,I),a}function ke(a){return a!=null?(J(this,a),g.updateOffset(this,!0),this):Ze(this,"Month")}function De(){function a(Se,Ue){return Ue.length-Se.length}var d,I,V=[],ne=[],fe=[];for(d=0;d<12;d++)I=S([2e3,d]),V.push(this.monthsShort(I,"")),ne.push(this.months(I,"")),fe.push(this.months(I,"")),fe.push(this.monthsShort(I,""));for(V.sort(a),ne.sort(a),fe.sort(a),d=0;d<12;d++)V[d]=dn(V[d]),ne[d]=dn(ne[d]);for(d=0;d<24;d++)fe[d]=dn(fe[d]);this._monthsRegex=new RegExp("^("+fe.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+ne.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+V.join("|")+")","i")}function Ye(a){return ut(a)?366:365}Be("Y",0,0,function(){var a=this.year();return a<=9999?Mt(a,4):"+"+a}),Be(0,["YY",2],0,function(){return this.year()%100}),Be(0,["YYYY",4],0,"year"),Be(0,["YYYYY",5],0,"year"),Be(0,["YYYYYY",6,!0],0,"year"),Ie("year","y"),Ae("year",1),qe("Y",xi),qe("YY",st,Lt),qe("YYYY",z,lt),qe("YYYYY",Fn,kn),qe("YYYYYY",Fn,kn),Gt(["YYYYY","YYYYYY"],0),Gt("YYYY",function(a,d){d[0]=a.length===2?g.parseTwoDigitYear(a):et(a)}),Gt("YY",function(a,d){d[0]=g.parseTwoDigitYear(a)}),Gt("Y",function(a,d){d[0]=parseInt(a,10)}),g.parseTwoDigitYear=function(a){return et(a)+(et(a)>68?1900:2e3)};var dt=bt("FullYear",!0);function wt(a,d,I,V,ne,fe,Se){var Ue;return a<100&&a>=0?(Ue=new Date(a+400,d,I,V,ne,fe,Se),isFinite(Ue.getFullYear())&&Ue.setFullYear(a)):Ue=new Date(a,d,I,V,ne,fe,Se),Ue}function ot(a){var d,I;return a<100&&a>=0?((I=Array.prototype.slice.call(arguments))[0]=a+400,d=new Date(Date.UTC.apply(null,I)),isFinite(d.getUTCFullYear())&&d.setUTCFullYear(a)):d=new Date(Date.UTC.apply(null,arguments)),d}function ct(a,d,I){var V=7+d-I;return-(7+ot(a,0,V).getUTCDay()-d)%7+V-1}function bn(a,d,I,V,ne){var fe,Se,Ue=1+7*(d-1)+(7+I-V)%7+ct(a,V,ne);return Ue<=0?Se=Ye(fe=a-1)+Ue:Ue>Ye(a)?(fe=a+1,Se=Ue-Ye(a)):(fe=a,Se=Ue),{year:fe,dayOfYear:Se}}function at(a,d,I){var V,ne,fe=ct(a.year(),d,I),Se=Math.floor((a.dayOfYear()-fe-1)/7)+1;return Se<1?V=Se+Ht(ne=a.year()-1,d,I):Se>Ht(a.year(),d,I)?(V=Se-Ht(a.year(),d,I),ne=a.year()+1):(ne=a.year(),V=Se),{week:V,year:ne}}function Ht(a,d,I){var V=ct(a,d,I),ne=ct(a+1,d,I);return(Ye(a)-V+ne)/7}Be("w",["ww",2],"wo","week"),Be("W",["WW",2],"Wo","isoWeek"),Ie("week","w"),Ie("isoWeek","W"),Ae("week",5),Ae("isoWeek",5),qe("w",st),qe("ww",st,Lt),qe("W",st),qe("WW",st,Lt),Tn(["w","ww","W","WW"],function(a,d,I,V){d[V.substr(0,1)]=et(a)});function jn(a,d){return a.slice(d,7).concat(a.slice(0,d))}Be("d",0,"do","day"),Be("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),Be("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),Be("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),Be("e",0,0,"weekday"),Be("E",0,0,"isoWeekday"),Ie("day","d"),Ie("weekday","e"),Ie("isoWeekday","E"),Ae("day",11),Ae("weekday",11),Ae("isoWeekday",11),qe("d",st),qe("e",st),qe("E",st),qe("dd",function(a,d){return d.weekdaysMinRegex(a)}),qe("ddd",function(a,d){return d.weekdaysShortRegex(a)}),qe("dddd",function(a,d){return d.weekdaysRegex(a)}),Tn(["dd","ddd","dddd"],function(a,d,I,V){var ne=I._locale.weekdaysParse(a,V,I._strict);ne!=null?d.d=ne:u(I).invalidWeekday=a}),Tn(["d","e","E"],function(a,d,I,V){d[V]=et(a)});var Sn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),he="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Me="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ge=wi,Te=wi,nt=wi;function ft(a,d,I){var V,ne,fe,Se=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],V=0;V<7;++V)fe=S([2e3,1]).day(V),this._minWeekdaysParse[V]=this.weekdaysMin(fe,"").toLocaleLowerCase(),this._shortWeekdaysParse[V]=this.weekdaysShort(fe,"").toLocaleLowerCase(),this._weekdaysParse[V]=this.weekdays(fe,"").toLocaleLowerCase();return I?d==="dddd"?(ne=Je.call(this._weekdaysParse,Se))!==-1?ne:null:d==="ddd"?(ne=Je.call(this._shortWeekdaysParse,Se))!==-1?ne:null:(ne=Je.call(this._minWeekdaysParse,Se))!==-1?ne:null:d==="dddd"?(ne=Je.call(this._weekdaysParse,Se))!==-1||(ne=Je.call(this._shortWeekdaysParse,Se))!==-1||(ne=Je.call(this._minWeekdaysParse,Se))!==-1?ne:null:d==="ddd"?(ne=Je.call(this._shortWeekdaysParse,Se))!==-1||(ne=Je.call(this._weekdaysParse,Se))!==-1||(ne=Je.call(this._minWeekdaysParse,Se))!==-1?ne:null:(ne=Je.call(this._minWeekdaysParse,Se))!==-1||(ne=Je.call(this._weekdaysParse,Se))!==-1||(ne=Je.call(this._shortWeekdaysParse,Se))!==-1?ne:null}function vt(){function a(on,Bt){return Bt.length-on.length}var d,I,V,ne,fe,Se=[],Ue=[],Fe=[],pt=[];for(d=0;d<7;d++)I=S([2e3,1]).day(d),V=dn(this.weekdaysMin(I,"")),ne=dn(this.weekdaysShort(I,"")),fe=dn(this.weekdays(I,"")),Se.push(V),Ue.push(ne),Fe.push(fe),pt.push(V),pt.push(ne),pt.push(fe);Se.sort(a),Ue.sort(a),Fe.sort(a),pt.sort(a),this._weekdaysRegex=new RegExp("^("+pt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Fe.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Ue.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Se.join("|")+")","i")}function Ot(){return this.hours()%12||12}function Yt(a,d){Be(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),d)})}function Cn(a,d){return d._meridiemParse}Be("H",["HH",2],0,"hour"),Be("h",["hh",2],0,Ot),Be("k",["kk",2],0,function(){return this.hours()||24}),Be("hmm",0,0,function(){return""+Ot.apply(this)+Mt(this.minutes(),2)}),Be("hmmss",0,0,function(){return""+Ot.apply(this)+Mt(this.minutes(),2)+Mt(this.seconds(),2)}),Be("Hmm",0,0,function(){return""+this.hours()+Mt(this.minutes(),2)}),Be("Hmmss",0,0,function(){return""+this.hours()+Mt(this.minutes(),2)+Mt(this.seconds(),2)}),Yt("a",!0),Yt("A",!1),Ie("hour","h"),Ae("hour",13),qe("a",Cn),qe("A",Cn),qe("H",st),qe("h",st),qe("k",st),qe("HH",st,Lt),qe("hh",st,Lt),qe("kk",st,Lt),qe("hmm",Ln),qe("hmmss",Rn),qe("Hmm",Ln),qe("Hmmss",Rn),Gt(["H","HH"],3),Gt(["k","kk"],function(a,d,I){var V=et(a);d[3]=V===24?0:V}),Gt(["a","A"],function(a,d,I){I._isPm=I._locale.isPM(a),I._meridiem=a}),Gt(["h","hh"],function(a,d,I){d[3]=et(a),u(I).bigHour=!0}),Gt("hmm",function(a,d,I){var V=a.length-2;d[3]=et(a.substr(0,V)),d[4]=et(a.substr(V)),u(I).bigHour=!0}),Gt("hmmss",function(a,d,I){var V=a.length-4,ne=a.length-2;d[3]=et(a.substr(0,V)),d[4]=et(a.substr(V,2)),d[5]=et(a.substr(ne)),u(I).bigHour=!0}),Gt("Hmm",function(a,d,I){var V=a.length-2;d[3]=et(a.substr(0,V)),d[4]=et(a.substr(V))}),Gt("Hmmss",function(a,d,I){var V=a.length-4,ne=a.length-2;d[3]=et(a.substr(0,V)),d[4]=et(a.substr(V,2)),d[5]=et(a.substr(ne))});var Nn=bt("Hours",!0),Zt,An={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:h,monthsShort:E,week:{dow:0,doy:6},weekdays:Sn,weekdaysMin:Me,weekdaysShort:he,meridiemParse:/[ap]\.?m?\.?/i},It={},Nt={};function pn(a,d){var I,V=Math.min(a.length,d.length);for(I=0;I<V;I+=1)if(a[I]!==d[I])return I;return V}function Jr(a){return a&&a.toLowerCase().replace("_","-")}function Fi(a){var d=null;if(It[a]===void 0&&ye&&ye.exports&&function(I){return I.match("^[^/\\\\]*$")!=null}(a))try{d=Zt._abbr,P(1944)("./"+a),Ti(d)}catch{It[a]=null}return It[a]}function Ti(a,d){var I;return a&&((I=C(d)?ei(a):Tt(a,d))?Zt=I:typeof console!="undefined"&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),Zt._abbr}function Tt(a,d){if(d!==null){var I,V=An;if(d.abbr=a,It[a]!=null)Pe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),V=It[a]._config;else if(d.parentLocale!=null)if(It[d.parentLocale]!=null)V=It[d.parentLocale]._config;else{if((I=Fi(d.parentLocale))==null)return Nt[d.parentLocale]||(Nt[d.parentLocale]=[]),Nt[d.parentLocale].push({name:a,config:d}),null;V=I._config}return It[a]=new Pt(yt(V,d)),Nt[a]&&Nt[a].forEach(function(ne){Tt(ne.name,ne.config)}),Ti(a),It[a]}return delete It[a],null}function ei(a){var d;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Zt;if(!y(a)){if(d=Fi(a))return d;a=[a]}return function(I){for(var V,ne,fe,Se,Ue=0;Ue<I.length;){for(V=(Se=Jr(I[Ue]).split("-")).length,ne=(ne=Jr(I[Ue+1]))?ne.split("-"):null;V>0;){if(fe=Fi(Se.slice(0,V).join("-")))return fe;if(ne&&ne.length>=V&&pn(Se,ne)>=V-1)break;V--}Ue++}return Zt}(a)}function Ni(a){var d,I=a._a;return I&&u(a).overflow===-2&&(d=I[1]<0||I[1]>11?1:I[2]<1||I[2]>Le(I[0],I[1])?2:I[3]<0||I[3]>24||I[3]===24&&(I[4]!==0||I[5]!==0||I[6]!==0)?3:I[4]<0||I[4]>59?4:I[5]<0||I[5]>59?5:I[6]<0||I[6]>999?6:-1,u(a)._overflowDayOfYear&&(d<0||d>2)&&(d=2),u(a)._overflowWeeks&&d===-1&&(d=7),u(a)._overflowWeekday&&d===-1&&(d=8),u(a).overflow=d),a}var qt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ln=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mi=/Z|[+-]\d\d(?::?\d\d)?/,er=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ko=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Hi=/^\/?Date\((-?\d+)/i,Yi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Pr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Kr(a){var d,I,V,ne,fe,Se,Ue=a._i,Fe=qt.exec(Ue)||ln.exec(Ue),pt=er.length,on=ko.length;if(Fe){for(u(a).iso=!0,d=0,I=pt;d<I;d++)if(er[d][1].exec(Fe[1])){ne=er[d][0],V=er[d][2]!==!1;break}if(ne==null)return void(a._isValid=!1);if(Fe[3]){for(d=0,I=on;d<I;d++)if(ko[d][1].exec(Fe[3])){fe=(Fe[2]||" ")+ko[d][0];break}if(fe==null)return void(a._isValid=!1)}if(!V&&fe!=null)return void(a._isValid=!1);if(Fe[4]){if(!Mi.exec(Fe[4]))return void(a._isValid=!1);Se="Z"}a._f=ne+(fe||"")+(Se||""),Zr(a)}else a._isValid=!1}function Vr(a){var d=parseInt(a,10);return d<=49?2e3+d:d<=999?1900+d:d}function zi(a){var d,I,V,ne,fe,Se,Ue,Fe,pt=Yi.exec(a._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(pt){if(I=pt[4],V=pt[3],ne=pt[2],fe=pt[5],Se=pt[6],Ue=pt[7],Fe=[Vr(I),E.indexOf(V),parseInt(ne,10),parseInt(fe,10),parseInt(Se,10)],Ue&&Fe.push(parseInt(Ue,10)),d=Fe,!function(on,Bt,wn){return!on||he.indexOf(on)===new Date(Bt[0],Bt[1],Bt[2]).getDay()||(u(wn).weekdayMismatch=!0,wn._isValid=!1,!1)}(pt[1],d,a))return;a._a=d,a._tzm=function(on,Bt,wn){if(on)return Pr[on];if(Bt)return 0;var Hn=parseInt(wn,10),ui=Hn%100;return(Hn-ui)/100*60+ui}(pt[8],pt[9],pt[10]),a._d=ot.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),u(a).rfc2822=!0}else a._isValid=!1}function Rr(a,d,I){return a!=null?a:d!=null?d:I}function Br(a){var d,I,V,ne,fe,Se=[];if(!a._d){for(V=function(Ue){var Fe=new Date(g.now());return Ue._useUTC?[Fe.getUTCFullYear(),Fe.getUTCMonth(),Fe.getUTCDate()]:[Fe.getFullYear(),Fe.getMonth(),Fe.getDate()]}(a),a._w&&a._a[2]==null&&a._a[1]==null&&function(Ue){var Fe,pt,on,Bt,wn,Hn,ui,wr,Ii;(Fe=Ue._w).GG!=null||Fe.W!=null||Fe.E!=null?(wn=1,Hn=4,pt=Rr(Fe.GG,Ue._a[0],at(En(),1,4).year),on=Rr(Fe.W,1),((Bt=Rr(Fe.E,1))<1||Bt>7)&&(wr=!0)):(wn=Ue._locale._week.dow,Hn=Ue._locale._week.doy,Ii=at(En(),wn,Hn),pt=Rr(Fe.gg,Ue._a[0],Ii.year),on=Rr(Fe.w,Ii.week),Fe.d!=null?((Bt=Fe.d)<0||Bt>6)&&(wr=!0):Fe.e!=null?(Bt=Fe.e+wn,(Fe.e<0||Fe.e>6)&&(wr=!0)):Bt=wn),on<1||on>Ht(pt,wn,Hn)?u(Ue)._overflowWeeks=!0:wr!=null?u(Ue)._overflowWeekday=!0:(ui=bn(pt,on,Bt,wn,Hn),Ue._a[0]=ui.year,Ue._dayOfYear=ui.dayOfYear)}(a),a._dayOfYear!=null&&(fe=Rr(a._a[0],V[0]),(a._dayOfYear>Ye(fe)||a._dayOfYear===0)&&(u(a)._overflowDayOfYear=!0),I=ot(fe,0,a._dayOfYear),a._a[1]=I.getUTCMonth(),a._a[2]=I.getUTCDate()),d=0;d<3&&a._a[d]==null;++d)a._a[d]=Se[d]=V[d];for(;d<7;d++)a._a[d]=Se[d]=a._a[d]==null?d===2?1:0:a._a[d];a._a[3]===24&&a._a[4]===0&&a._a[5]===0&&a._a[6]===0&&(a._nextDay=!0,a._a[3]=0),a._d=(a._useUTC?ot:wt).apply(null,Se),ne=a._useUTC?a._d.getUTCDay():a._d.getDay(),a._tzm!=null&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[3]=24),a._w&&a._w.d!==void 0&&a._w.d!==ne&&(u(a).weekdayMismatch=!0)}}function Zr(a){if(a._f!==g.ISO_8601)if(a._f!==g.RFC_2822){a._a=[],u(a).empty=!0;var d,I,V,ne,fe,Se,Ue,Fe=""+a._i,pt=Fe.length,on=0;for(Ue=(V=Et(a._f,a._locale).match(rt)||[]).length,d=0;d<Ue;d++)ne=V[d],(I=(Fe.match(Si(ne,a))||[])[0])&&((fe=Fe.substr(0,Fe.indexOf(I))).length>0&&u(a).unusedInput.push(fe),Fe=Fe.slice(Fe.indexOf(I)+I.length),on+=I.length),Wt[ne]?(I?u(a).empty=!1:u(a).unusedTokens.push(ne),fi(ne,I,a)):a._strict&&!I&&u(a).unusedTokens.push(ne);u(a).charsLeftOver=pt-on,Fe.length>0&&u(a).unusedInput.push(Fe),a._a[3]<=12&&u(a).bigHour===!0&&a._a[3]>0&&(u(a).bigHour=void 0),u(a).parsedDateParts=a._a.slice(0),u(a).meridiem=a._meridiem,a._a[3]=function(Bt,wn,Hn){var ui;return Hn==null?wn:Bt.meridiemHour!=null?Bt.meridiemHour(wn,Hn):(Bt.isPM!=null&&((ui=Bt.isPM(Hn))&&wn<12&&(wn+=12),ui||wn!==12||(wn=0)),wn)}(a._locale,a._a[3],a._meridiem),(Se=u(a).era)!==null&&(a._a[0]=a._locale.erasConvertYear(Se,a._a[0])),Br(a),Ni(a)}else zi(a);else Kr(a)}function bo(a){var d=a._i,I=a._f;return a._locale=a._locale||ei(a._l),d===null||I===void 0&&d===""?R({nullInput:!0}):(typeof d=="string"&&(a._i=d=a._locale.preparse(d)),le(d)?new oe(Ni(d)):(m(d)?a._d=d:y(I)?function(V){var ne,fe,Se,Ue,Fe,pt,on=!1,Bt=V._f.length;if(Bt===0)return u(V).invalidFormat=!0,void(V._d=new Date(NaN));for(Ue=0;Ue<Bt;Ue++)Fe=0,pt=!1,ne=Y({},V),V._useUTC!=null&&(ne._useUTC=V._useUTC),ne._f=V._f[Ue],Zr(ne),k(ne)&&(pt=!0),Fe+=u(ne).charsLeftOver,Fe+=10*u(ne).unusedTokens.length,u(ne).score=Fe,on?Fe<Se&&(Se=Fe,fe=ne):(Se==null||Fe<Se||pt)&&(Se=Fe,fe=ne,pt&&(on=!0));F(V,fe||ne)}(a):I?Zr(a):function(V){var ne=V._i;C(ne)?V._d=new Date(g.now()):m(ne)?V._d=new Date(ne.valueOf()):typeof ne=="string"?function(fe){var Se=Hi.exec(fe._i);Se===null?(Kr(fe),fe._isValid===!1&&(delete fe._isValid,zi(fe),fe._isValid===!1&&(delete fe._isValid,fe._strict?fe._isValid=!1:g.createFromInputFallback(fe)))):fe._d=new Date(+Se[1])}(V):y(ne)?(V._a=b(ne.slice(0),function(fe){return parseInt(fe,10)}),Br(V)):w(ne)?function(fe){if(!fe._d){var Se=ge(fe._i),Ue=Se.day===void 0?Se.date:Se.day;fe._a=b([Se.year,Se.month,Ue,Se.hour,Se.minute,Se.second,Se.millisecond],function(Fe){return Fe&&parseInt(Fe,10)}),Br(fe)}}(V):W(ne)?V._d=new Date(ne):g.createFromInputFallback(V)}(a),k(a)||(a._d=null),a))}function Qr(a,d,I,V,ne){var fe,Se={};return d!==!0&&d!==!1||(V=d,d=void 0),I!==!0&&I!==!1||(V=I,I=void 0),(w(a)&&l(a)||y(a)&&a.length===0)&&(a=void 0),Se._isAMomentObject=!0,Se._useUTC=Se._isUTC=ne,Se._l=I,Se._i=a,Se._f=d,Se._strict=V,(fe=new oe(Ni(bo(Se))))._nextDay&&(fe.add(1,"d"),fe._nextDay=void 0),fe}function En(a,d,I,V){return Qr(a,d,I,V,!1)}g.createFromInputFallback=me("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),g.ISO_8601=function(){},g.RFC_2822=function(){};var Wr=me("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=En.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:R()}),Zo=me("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=En.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:R()});function Bs(a,d){var I,V;if(d.length===1&&y(d[0])&&(d=d[0]),!d.length)return En();for(I=d[0],V=1;V<d.length;++V)d[V].isValid()&&!d[V][a](I)||(I=d[V]);return I}var Fa=["year","quarter","month","week","day","hour","minute","second","millisecond"];function zc(a){var d=ge(a),I=d.year||0,V=d.quarter||0,ne=d.month||0,fe=d.week||d.isoWeek||0,Se=d.day||0,Ue=d.hour||0,Fe=d.minute||0,pt=d.second||0,on=d.millisecond||0;this._isValid=function(Bt){var wn,Hn,ui=!1,wr=Fa.length;for(wn in Bt)if(p(Bt,wn)&&(Je.call(Fa,wn)===-1||Bt[wn]!=null&&isNaN(Bt[wn])))return!1;for(Hn=0;Hn<wr;++Hn)if(Bt[Fa[Hn]]){if(ui)return!1;parseFloat(Bt[Fa[Hn]])!==et(Bt[Fa[Hn]])&&(ui=!0)}return!0}(d),this._milliseconds=+on+1e3*pt+6e4*Fe+1e3*Ue*60*60,this._days=+Se+7*fe,this._months=+ne+3*V+12*I,this._data={},this._locale=ei(),this._bubble()}function Uc(a){return a instanceof zc}function Ws(a){return a<0?-1*Math.round(-1*a):Math.round(a)}function Wd(a,d){Be(a,0,0,function(){var I=this.utcOffset(),V="+";return I<0&&(I=-I,V="-"),V+Mt(~~(I/60),2)+d+Mt(~~I%60,2)})}Wd("Z",":"),Wd("ZZ",""),qe("Z",ki),qe("ZZ",ki),Gt(["Z","ZZ"],function(a,d,I){I._useUTC=!0,I._tzm=Qe(ki,a)});var Gs=/([\+\-]|\d\d)/gi;function Qe(a,d){var I,V,ne=(d||"").match(a);return ne===null?null:(V=60*(I=((ne[ne.length-1]||[])+"").match(Gs)||["-",0,0])[1]+et(I[2]))===0?0:I[0]==="+"?V:-V}function tr(a,d){var I,V;return d._isUTC?(I=d.clone(),V=(le(a)||m(a)?a.valueOf():En(a).valueOf())-I.valueOf(),I._d.setTime(I._d.valueOf()+V),g.updateOffset(I,!1),I):En(a).local()}function eo(a){return-Math.round(a._d.getTimezoneOffset())}function Fu(){return!!this.isValid()&&this._isUTC&&this._offset===0}g.updateOffset=function(){};var Vc=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Gd=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gn(a,d){var I,V,ne,fe,Se,Ue,Fe=a,pt=null;return Uc(a)?Fe={ms:a._milliseconds,d:a._days,M:a._months}:W(a)||!isNaN(+a)?(Fe={},d?Fe[d]=+a:Fe.milliseconds=+a):(pt=Vc.exec(a))?(I=pt[1]==="-"?-1:1,Fe={y:0,d:et(pt[2])*I,h:et(pt[3])*I,m:et(pt[4])*I,s:et(pt[5])*I,ms:et(Ws(1e3*pt[6]))*I}):(pt=Gd.exec(a))?(I=pt[1]==="-"?-1:1,Fe={y:to(pt[2],I),M:to(pt[3],I),w:to(pt[4],I),d:to(pt[5],I),h:to(pt[6],I),m:to(pt[7],I),s:to(pt[8],I)}):Fe==null?Fe={}:typeof Fe=="object"&&("from"in Fe||"to"in Fe)&&(fe=En(Fe.from),Se=En(Fe.to),ne=fe.isValid()&&Se.isValid()?(Se=tr(Se,fe),fe.isBefore(Se)?Ue=Nu(fe,Se):((Ue=Nu(Se,fe)).milliseconds=-Ue.milliseconds,Ue.months=-Ue.months),Ue):{milliseconds:0,months:0},(Fe={}).ms=ne.milliseconds,Fe.M=ne.months),V=new zc(Fe),Uc(a)&&p(a,"_locale")&&(V._locale=a._locale),Uc(a)&&p(a,"_isValid")&&(V._isValid=a._isValid),V}function to(a,d){var I=a&&parseFloat(a.replace(",","."));return(isNaN(I)?0:I)*d}function Nu(a,d){var I={};return I.months=d.month()-a.month()+12*(d.year()-a.year()),a.clone().add(I.months,"M").isAfter(d)&&--I.months,I.milliseconds=+d-+a.clone().add(I.months,"M"),I}function zu(a,d){return function(I,V){var ne;return V===null||isNaN(+V)||(Pe(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ne=I,I=V,V=ne),nr(this,Gn(I,V),a),this}}function nr(a,d,I,V){var ne=d._milliseconds,fe=Ws(d._days),Se=Ws(d._months);a.isValid()&&(V=V==null||V,Se&&J(a,Ze(a,"Month")+Se*I),fe&&_t(a,"Date",Ze(a,"Date")+fe*I),ne&&a._d.setTime(a._d.valueOf()+ne*I),V&&g.updateOffset(a,fe||Se))}Gn.fn=zc.prototype,Gn.invalid=function(){return Gn(NaN)};var Hs=zu(1,"add"),Bc=zu(-1,"subtract");function no(a){return typeof a=="string"||a instanceof String}function vs(a){return le(a)||m(a)||no(a)||W(a)||function(d){var I=y(d),V=!1;return I&&(V=d.filter(function(ne){return!W(ne)&&no(d)}).length===0),I&&V}(a)||function(d){var I,V,ne=w(d)&&!l(d),fe=!1,Se=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Ue=Se.length;for(I=0;I<Ue;I+=1)V=Se[I],fe=fe||p(d,V);return ne&&fe}(a)||a==null}function Wc(a){var d,I=w(a)&&!l(a),V=!1,ne=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(d=0;d<ne.length;d+=1)V=V||p(a,ne[d]);return I&&V}function Qt(a,d){if(a.date()<d.date())return-Qt(d,a);var I=12*(d.year()-a.year())+(d.month()-a.month()),V=a.clone().add(I,"months");return-(I+(d-V<0?(d-V)/(V-a.clone().add(I-1,"months")):(d-V)/(a.clone().add(I+1,"months")-V)))||0}function Re(a){var d;return a===void 0?this._locale._abbr:((d=ei(a))!=null&&(this._locale=d),this)}g.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",g.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Hd=me("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===void 0?this.localeData():this.locale(a)});function ir(){return this._locale}var io=1e3,wo=6e4,Qo=36e5,ea=126227808e5;function vr(a,d){return(a%d+d)%d}function Na(a,d,I){return a<100&&a>=0?new Date(a+400,d,I)-ea:new Date(a,d,I).valueOf()}function yr(a,d,I){return a<100&&a>=0?Date.UTC(a+400,d,I)-ea:Date.UTC(a,d,I)}function qi(a,d){return d.erasAbbrRegex(a)}function Ar(){var a,d,I=[],V=[],ne=[],fe=[],Se=this.eras();for(a=0,d=Se.length;a<d;++a)V.push(dn(Se[a].name)),I.push(dn(Se[a].abbr)),ne.push(dn(Se[a].narrow)),fe.push(dn(Se[a].name)),fe.push(dn(Se[a].abbr)),fe.push(dn(Se[a].narrow));this._erasRegex=new RegExp("^("+fe.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+V.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+I.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+ne.join("|")+")","i")}function rr(a,d){Be(0,[a,a.length],0,d)}function Ys(a,d,I,V,ne){var fe;return a==null?at(this,V,ne).year:(d>(fe=Ht(a,V,ne))&&(d=fe),qs.call(this,a,d,I,V,ne))}function qs(a,d,I,V,ne){var fe=bn(a,d,I,V,ne),Se=ot(fe.year,0,fe.dayOfYear);return this.year(Se.getUTCFullYear()),this.month(Se.getUTCMonth()),this.date(Se.getUTCDate()),this}Be("N",0,0,"eraAbbr"),Be("NN",0,0,"eraAbbr"),Be("NNN",0,0,"eraAbbr"),Be("NNNN",0,0,"eraName"),Be("NNNNN",0,0,"eraNarrow"),Be("y",["y",1],"yo","eraYear"),Be("y",["yy",2],0,"eraYear"),Be("y",["yyy",3],0,"eraYear"),Be("y",["yyyy",4],0,"eraYear"),qe("N",qi),qe("NN",qi),qe("NNN",qi),qe("NNNN",function(a,d){return d.erasNameRegex(a)}),qe("NNNNN",function(a,d){return d.erasNarrowRegex(a)}),Gt(["N","NN","NNN","NNNN","NNNNN"],function(a,d,I,V){var ne=I._locale.erasParse(a,V,I._strict);ne?u(I).era=ne:u(I).invalidEra=a}),qe("y",Jn),qe("yy",Jn),qe("yyy",Jn),qe("yyyy",Jn),qe("yo",function(a,d){return d._eraYearOrdinalRegex||Jn}),Gt(["y","yy","yyy","yyyy"],0),Gt(["yo"],function(a,d,I,V){var ne;I._locale._eraYearOrdinalRegex&&(ne=a.match(I._locale._eraYearOrdinalRegex)),I._locale.eraYearOrdinalParse?d[0]=I._locale.eraYearOrdinalParse(a,ne):d[0]=parseInt(a,10)}),Be(0,["gg",2],0,function(){return this.weekYear()%100}),Be(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rr("gggg","weekYear"),rr("ggggg","weekYear"),rr("GGGG","isoWeekYear"),rr("GGGGG","isoWeekYear"),Ie("weekYear","gg"),Ie("isoWeekYear","GG"),Ae("weekYear",1),Ae("isoWeekYear",1),qe("G",xi),qe("g",xi),qe("GG",st,Lt),qe("gg",st,Lt),qe("GGGG",z,lt),qe("gggg",z,lt),qe("GGGGG",Fn,kn),qe("ggggg",Fn,kn),Tn(["gggg","ggggg","GGGG","GGGGG"],function(a,d,I,V){d[V.substr(0,2)]=et(a)}),Tn(["gg","GG"],function(a,d,I,V){d[V]=g.parseTwoDigitYear(a)}),Be("Q",0,"Qo","quarter"),Ie("quarter","Q"),Ae("quarter",7),qe("Q",Jt),Gt("Q",function(a,d){d[1]=3*(et(a)-1)}),Be("D",["DD",2],"Do","date"),Ie("date","D"),Ae("date",9),qe("D",st),qe("DD",st,Lt),qe("Do",function(a,d){return a?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient}),Gt(["D","DD"],2),Gt("Do",function(a,d){d[2]=et(a.match(st)[0])});var ji=bt("Date",!0);Be("DDD",["DDDD",3],"DDDo","dayOfYear"),Ie("dayOfYear","DDD"),Ae("dayOfYear",4),qe("DDD",Ct),qe("DDDD",yn),Gt(["DDD","DDDD"],function(a,d,I){I._dayOfYear=et(a)}),Be("m",["mm",2],0,"minute"),Ie("minute","m"),Ae("minute",14),qe("m",st),qe("mm",st,Lt),Gt(["m","mm"],4);var ta=bt("Minutes",!1);Be("s",["ss",2],0,"second"),Ie("second","s"),Ae("second",15),qe("s",st),qe("ss",st,Lt),Gt(["s","ss"],5);var Ui,za,Yd=bt("Seconds",!1);for(Be("S",0,0,function(){return~~(this.millisecond()/100)}),Be(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Be(0,["SSS",3],0,"millisecond"),Be(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Be(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Be(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Be(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Be(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Be(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Ie("millisecond","ms"),Ae("millisecond",16),qe("S",Ct,Jt),qe("SS",Ct,Lt),qe("SSS",Ct,yn),Ui="SSSS";Ui.length<=9;Ui+="S")qe(Ui,Jn);function Ua(a,d){d[6]=et(1e3*("0."+a))}for(Ui="S";Ui.length<=9;Ui+="S")Gt(Ui,Ua);za=bt("Milliseconds",!1),Be("z",0,0,"zoneAbbr"),Be("zz",0,0,"zoneName");var He=oe.prototype;function na(a){return a}He.add=Hs,He.calendar=function(a,d){arguments.length===1&&(arguments[0]?vs(arguments[0])?(a=arguments[0],d=void 0):Wc(arguments[0])&&(d=arguments[0],a=void 0):(a=void 0,d=void 0));var I=a||En(),V=tr(I,this).startOf("day"),ne=g.calendarFormat(this,V)||"sameElse",fe=d&&(we(d[ne])?d[ne].call(this,I):d[ne]);return this.format(fe||this.localeData().calendar(ne,this,En(I)))},He.clone=function(){return new oe(this)},He.diff=function(a,d,I){var V,ne,fe;if(!this.isValid())return NaN;if(!(V=tr(a,this)).isValid())return NaN;switch(ne=6e4*(V.utcOffset()-this.utcOffset()),d=pe(d)){case"year":fe=Qt(this,V)/12;break;case"month":fe=Qt(this,V);break;case"quarter":fe=Qt(this,V)/3;break;case"second":fe=(this-V)/1e3;break;case"minute":fe=(this-V)/6e4;break;case"hour":fe=(this-V)/36e5;break;case"day":fe=(this-V-ne)/864e5;break;case"week":fe=(this-V-ne)/6048e5;break;default:fe=this-V}return I?fe:it(fe)},He.endOf=function(a){var d,I;if((a=pe(a))===void 0||a==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?yr:Na,a){case"year":d=I(this.year()+1,0,1)-1;break;case"quarter":d=I(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":d=I(this.year(),this.month()+1,1)-1;break;case"week":d=I(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":d=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":d=I(this.year(),this.month(),this.date()+1)-1;break;case"hour":d=this._d.valueOf(),d+=Qo-vr(d+(this._isUTC?0:this.utcOffset()*wo),Qo)-1;break;case"minute":d=this._d.valueOf(),d+=wo-vr(d,wo)-1;break;case"second":d=this._d.valueOf(),d+=io-vr(d,io)-1}return this._d.setTime(d),g.updateOffset(this,!0),this},He.format=function(a){a||(a=this.isUtc()?g.defaultFormatUtc:g.defaultFormat);var d=yi(this,a);return this.localeData().postformat(d)},He.from=function(a,d){return this.isValid()&&(le(a)&&a.isValid()||En(a).isValid())?Gn({to:this,from:a}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()},He.fromNow=function(a){return this.from(En(),a)},He.to=function(a,d){return this.isValid()&&(le(a)&&a.isValid()||En(a).isValid())?Gn({from:this,to:a}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()},He.toNow=function(a){return this.to(En(),a)},He.get=function(a){return we(this[a=pe(a)])?this[a]():this},He.invalidAt=function(){return u(this).overflow},He.isAfter=function(a,d){var I=le(a)?a:En(a);return!(!this.isValid()||!I.isValid())&&((d=pe(d)||"millisecond")==="millisecond"?this.valueOf()>I.valueOf():I.valueOf()<this.clone().startOf(d).valueOf())},He.isBefore=function(a,d){var I=le(a)?a:En(a);return!(!this.isValid()||!I.isValid())&&((d=pe(d)||"millisecond")==="millisecond"?this.valueOf()<I.valueOf():this.clone().endOf(d).valueOf()<I.valueOf())},He.isBetween=function(a,d,I,V){var ne=le(a)?a:En(a),fe=le(d)?d:En(d);return!!(this.isValid()&&ne.isValid()&&fe.isValid())&&((V=V||"()")[0]==="("?this.isAfter(ne,I):!this.isBefore(ne,I))&&(V[1]===")"?this.isBefore(fe,I):!this.isAfter(fe,I))},He.isSame=function(a,d){var I,V=le(a)?a:En(a);return!(!this.isValid()||!V.isValid())&&((d=pe(d)||"millisecond")==="millisecond"?this.valueOf()===V.valueOf():(I=V.valueOf(),this.clone().startOf(d).valueOf()<=I&&I<=this.clone().endOf(d).valueOf()))},He.isSameOrAfter=function(a,d){return this.isSame(a,d)||this.isAfter(a,d)},He.isSameOrBefore=function(a,d){return this.isSame(a,d)||this.isBefore(a,d)},He.isValid=function(){return k(this)},He.lang=Hd,He.locale=Re,He.localeData=ir,He.max=Zo,He.min=Wr,He.parsingFlags=function(){return F({},u(this))},He.set=function(a,d){if(typeof a=="object"){var I,V=function(fe){var Se,Ue=[];for(Se in fe)p(fe,Se)&&Ue.push({unit:Se,priority:Ce[Se]});return Ue.sort(function(Fe,pt){return Fe.priority-pt.priority}),Ue}(a=ge(a)),ne=V.length;for(I=0;I<ne;I++)this[V[I].unit](a[V[I].unit])}else if(we(this[a=pe(a)]))return this[a](d);return this},He.startOf=function(a){var d,I;if((a=pe(a))===void 0||a==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?yr:Na,a){case"year":d=I(this.year(),0,1);break;case"quarter":d=I(this.year(),this.month()-this.month()%3,1);break;case"month":d=I(this.year(),this.month(),1);break;case"week":d=I(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":d=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":d=I(this.year(),this.month(),this.date());break;case"hour":d=this._d.valueOf(),d-=vr(d+(this._isUTC?0:this.utcOffset()*wo),Qo);break;case"minute":d=this._d.valueOf(),d-=vr(d,wo);break;case"second":d=this._d.valueOf(),d-=vr(d,io)}return this._d.setTime(d),g.updateOffset(this,!0),this},He.subtract=Bc,He.toArray=function(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]},He.toObject=function(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}},He.toDate=function(){return new Date(this.valueOf())},He.toISOString=function(a){if(!this.isValid())return null;var d=a!==!0,I=d?this.clone().utc():this;return I.year()<0||I.year()>9999?yi(I,d?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):we(Date.prototype.toISOString)?d?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",yi(I,"Z")):yi(I,d?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},He.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a,d,I,V="moment",ne="";return this.isLocal()||(V=this.utcOffset()===0?"moment.utc":"moment.parseZone",ne="Z"),a="["+V+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",I=ne+'[")]',this.format(a+d+"-MM-DD[T]HH:mm:ss.SSS"+I)},typeof Symbol!="undefined"&&Symbol.for!=null&&(He[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),He.toJSON=function(){return this.isValid()?this.toISOString():null},He.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},He.unix=function(){return Math.floor(this.valueOf()/1e3)},He.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},He.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},He.eraName=function(){var a,d,I,V=this.localeData().eras();for(a=0,d=V.length;a<d;++a)if(I=this.clone().startOf("day").valueOf(),V[a].since<=I&&I<=V[a].until||V[a].until<=I&&I<=V[a].since)return V[a].name;return""},He.eraNarrow=function(){var a,d,I,V=this.localeData().eras();for(a=0,d=V.length;a<d;++a)if(I=this.clone().startOf("day").valueOf(),V[a].since<=I&&I<=V[a].until||V[a].until<=I&&I<=V[a].since)return V[a].narrow;return""},He.eraAbbr=function(){var a,d,I,V=this.localeData().eras();for(a=0,d=V.length;a<d;++a)if(I=this.clone().startOf("day").valueOf(),V[a].since<=I&&I<=V[a].until||V[a].until<=I&&I<=V[a].since)return V[a].abbr;return""},He.eraYear=function(){var a,d,I,V,ne=this.localeData().eras();for(a=0,d=ne.length;a<d;++a)if(I=ne[a].since<=ne[a].until?1:-1,V=this.clone().startOf("day").valueOf(),ne[a].since<=V&&V<=ne[a].until||ne[a].until<=V&&V<=ne[a].since)return(this.year()-g(ne[a].since).year())*I+ne[a].offset;return this.year()},He.year=dt,He.isLeapYear=function(){return ut(this.year())},He.weekYear=function(a){return Ys.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},He.isoWeekYear=function(a){return Ys.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)},He.quarter=He.quarters=function(a){return a==null?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},He.month=ke,He.daysInMonth=function(){return Le(this.year(),this.month())},He.week=He.weeks=function(a){var d=this.localeData().week(this);return a==null?d:this.add(7*(a-d),"d")},He.isoWeek=He.isoWeeks=function(a){var d=at(this,1,4).week;return a==null?d:this.add(7*(a-d),"d")},He.weeksInYear=function(){var a=this.localeData()._week;return Ht(this.year(),a.dow,a.doy)},He.weeksInWeekYear=function(){var a=this.localeData()._week;return Ht(this.weekYear(),a.dow,a.doy)},He.isoWeeksInYear=function(){return Ht(this.year(),1,4)},He.isoWeeksInISOWeekYear=function(){return Ht(this.isoWeekYear(),1,4)},He.date=ji,He.day=He.days=function(a){if(!this.isValid())return a!=null?this:NaN;var d=this._isUTC?this._d.getUTCDay():this._d.getDay();return a!=null?(a=function(I,V){return typeof I!="string"?I:isNaN(I)?typeof(I=V.weekdaysParse(I))=="number"?I:null:parseInt(I,10)}(a,this.localeData()),this.add(a-d,"d")):d},He.weekday=function(a){if(!this.isValid())return a!=null?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return a==null?d:this.add(a-d,"d")},He.isoWeekday=function(a){if(!this.isValid())return a!=null?this:NaN;if(a!=null){var d=function(I,V){return typeof I=="string"?V.weekdaysParse(I)%7||7:isNaN(I)?null:I}(a,this.localeData());return this.day(this.day()%7?d:d-7)}return this.day()||7},He.dayOfYear=function(a){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return a==null?d:this.add(a-d,"d")},He.hour=He.hours=Nn,He.minute=He.minutes=ta,He.second=He.seconds=Yd,He.millisecond=He.milliseconds=za,He.utcOffset=function(a,d,I){var V,ne=this._offset||0;if(!this.isValid())return a!=null?this:NaN;if(a!=null){if(typeof a=="string"){if((a=Qe(ki,a))===null)return this}else Math.abs(a)<16&&!I&&(a*=60);return!this._isUTC&&d&&(V=eo(this)),this._offset=a,this._isUTC=!0,V!=null&&this.add(V,"m"),ne!==a&&(!d||this._changeInProgress?nr(this,Gn(a-ne,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,g.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?ne:eo(this)},He.utc=function(a){return this.utcOffset(0,a)},He.local=function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(eo(this),"m")),this},He.parseZone=function(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var a=Qe(Ir,this._i);a!=null?this.utcOffset(a):this.utcOffset(0,!0)}return this},He.hasAlignedHourOffset=function(a){return!!this.isValid()&&(a=a?En(a).utcOffset():0,(this.utcOffset()-a)%60==0)},He.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},He.isLocal=function(){return!!this.isValid()&&!this._isUTC},He.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},He.isUtc=Fu,He.isUTC=Fu,He.zoneAbbr=function(){return this._isUTC?"UTC":""},He.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},He.dates=me("dates accessor is deprecated. Use date instead.",ji),He.months=me("months accessor is deprecated. Use month instead",ke),He.years=me("years accessor is deprecated. Use year instead",dt),He.zone=me("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(a,d){return a!=null?(typeof a!="string"&&(a=-a),this.utcOffset(a,d),this):-this.utcOffset()}),He.isDSTShifted=me("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!C(this._isDSTShifted))return this._isDSTShifted;var a,d={};return Y(d,this),(d=bo(d))._a?(a=d._isUTC?S(d._a):En(d._a),this._isDSTShifted=this.isValid()&&function(I,V,ne){var fe,Se=Math.min(I.length,V.length),Ue=Math.abs(I.length-V.length),Fe=0;for(fe=0;fe<Se;fe++)(ne&&I[fe]!==V[fe]||!ne&&et(I[fe])!==et(V[fe]))&&Fe++;return Fe+Ue}(d._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var mn=Pt.prototype;function So(a,d,I,V){var ne=ei(),fe=S().set(V,d);return ne[I](fe,a)}function Gc(a,d,I){if(W(a)&&(d=a,a=void 0),a=a||"",d!=null)return So(a,d,I,"month");var V,ne=[];for(V=0;V<12;V++)ne[V]=So(a,V,I,"month");return ne}function ia(a,d,I,V){typeof a=="boolean"?(W(d)&&(I=d,d=void 0),d=d||""):(I=d=a,a=!1,W(d)&&(I=d,d=void 0),d=d||"");var ne,fe=ei(),Se=a?fe._week.dow:0,Ue=[];if(I!=null)return So(d,(I+Se)%7,V,"day");for(ne=0;ne<7;ne++)Ue[ne]=So(d,(ne+Se)%7,V,"day");return Ue}mn.calendar=function(a,d,I){var V=this._calendar[a]||this._calendar.sameElse;return we(V)?V.call(d,I):V},mn.longDateFormat=function(a){var d=this._longDateFormat[a],I=this._longDateFormat[a.toUpperCase()];return d||!I?d:(this._longDateFormat[a]=I.match(rt).map(function(V){return V==="MMMM"||V==="MM"||V==="DD"||V==="dddd"?V.slice(1):V}).join(""),this._longDateFormat[a])},mn.invalidDate=function(){return this._invalidDate},mn.ordinal=function(a){return this._ordinal.replace("%d",a)},mn.preparse=na,mn.postformat=na,mn.relativeTime=function(a,d,I,V){var ne=this._relativeTime[I];return we(ne)?ne(a,d,I,V):ne.replace(/%d/i,a)},mn.pastFuture=function(a,d){var I=this._relativeTime[a>0?"future":"past"];return we(I)?I(d):I.replace(/%s/i,d)},mn.set=function(a){var d,I;for(I in a)p(a,I)&&(we(d=a[I])?this[I]=d:this["_"+I]=d);this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mn.eras=function(a,d){var I,V,ne,fe=this._eras||ei("en")._eras;for(I=0,V=fe.length;I<V;++I)switch(typeof fe[I].since=="string"&&(ne=g(fe[I].since).startOf("day"),fe[I].since=ne.valueOf()),typeof fe[I].until){case"undefined":fe[I].until=1/0;break;case"string":ne=g(fe[I].until).startOf("day").valueOf(),fe[I].until=ne.valueOf()}return fe},mn.erasParse=function(a,d,I){var V,ne,fe,Se,Ue,Fe=this.eras();for(a=a.toUpperCase(),V=0,ne=Fe.length;V<ne;++V)if(fe=Fe[V].name.toUpperCase(),Se=Fe[V].abbr.toUpperCase(),Ue=Fe[V].narrow.toUpperCase(),I)switch(d){case"N":case"NN":case"NNN":if(Se===a)return Fe[V];break;case"NNNN":if(fe===a)return Fe[V];break;case"NNNNN":if(Ue===a)return Fe[V]}else if([fe,Se,Ue].indexOf(a)>=0)return Fe[V]},mn.erasConvertYear=function(a,d){var I=a.since<=a.until?1:-1;return d===void 0?g(a.since).year():g(a.since).year()+(d-a.offset)*I},mn.erasAbbrRegex=function(a){return p(this,"_erasAbbrRegex")||Ar.call(this),a?this._erasAbbrRegex:this._erasRegex},mn.erasNameRegex=function(a){return p(this,"_erasNameRegex")||Ar.call(this),a?this._erasNameRegex:this._erasRegex},mn.erasNarrowRegex=function(a){return p(this,"_erasNarrowRegex")||Ar.call(this),a?this._erasNarrowRegex:this._erasRegex},mn.months=function(a,d){return a?y(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||U).test(d)?"format":"standalone"][a.month()]:y(this._months)?this._months:this._months.standalone},mn.monthsShort=function(a,d){return a?y(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[U.test(d)?"format":"standalone"][a.month()]:y(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mn.monthsParse=function(a,d,I){var V,ne,fe;if(this._monthsParseExact)return ie.call(this,a,d,I);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),V=0;V<12;V++)if(ne=S([2e3,V]),I&&!this._longMonthsParse[V]&&(this._longMonthsParse[V]=new RegExp("^"+this.months(ne,"").replace(".","")+"$","i"),this._shortMonthsParse[V]=new RegExp("^"+this.monthsShort(ne,"").replace(".","")+"$","i")),I||this._monthsParse[V]||(fe="^"+this.months(ne,"")+"|^"+this.monthsShort(ne,""),this._monthsParse[V]=new RegExp(fe.replace(".",""),"i")),I&&d==="MMMM"&&this._longMonthsParse[V].test(a)||I&&d==="MMM"&&this._shortMonthsParse[V].test(a)||!I&&this._monthsParse[V].test(a))return V},mn.monthsRegex=function(a){return this._monthsParseExact?(p(this,"_monthsRegex")||De.call(this),a?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=H),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)},mn.monthsShortRegex=function(a){return this._monthsParseExact?(p(this,"_monthsRegex")||De.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=L),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)},mn.week=function(a){return at(a,this._week.dow,this._week.doy).week},mn.firstDayOfYear=function(){return this._week.doy},mn.firstDayOfWeek=function(){return this._week.dow},mn.weekdays=function(a,d){var I=y(this._weekdays)?this._weekdays:this._weekdays[a&&a!==!0&&this._weekdays.isFormat.test(d)?"format":"standalone"];return a===!0?jn(I,this._week.dow):a?I[a.day()]:I},mn.weekdaysMin=function(a){return a===!0?jn(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin},mn.weekdaysShort=function(a){return a===!0?jn(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort},mn.weekdaysParse=function(a,d,I){var V,ne,fe;if(this._weekdaysParseExact)return ft.call(this,a,d,I);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),V=0;V<7;V++)if(ne=S([2e3,1]).day(V),I&&!this._fullWeekdaysParse[V]&&(this._fullWeekdaysParse[V]=new RegExp("^"+this.weekdays(ne,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[V]=new RegExp("^"+this.weekdaysShort(ne,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[V]=new RegExp("^"+this.weekdaysMin(ne,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[V]||(fe="^"+this.weekdays(ne,"")+"|^"+this.weekdaysShort(ne,"")+"|^"+this.weekdaysMin(ne,""),this._weekdaysParse[V]=new RegExp(fe.replace(".",""),"i")),I&&d==="dddd"&&this._fullWeekdaysParse[V].test(a)||I&&d==="ddd"&&this._shortWeekdaysParse[V].test(a)||I&&d==="dd"&&this._minWeekdaysParse[V].test(a)||!I&&this._weekdaysParse[V].test(a))return V},mn.weekdaysRegex=function(a){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||vt.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)},mn.weekdaysShortRegex=function(a){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||vt.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Te),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mn.weekdaysMinRegex=function(a){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||vt.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nt),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mn.isPM=function(a){return(a+"").toLowerCase().charAt(0)==="p"},mn.meridiem=function(a,d,I){return a>11?I?"pm":"PM":I?"am":"AM"},Ti("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var d=a%10;return a+(et(a%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th")}}),g.lang=me("moment.lang is deprecated. Use moment.locale instead.",Ti),g.langData=me("moment.langData is deprecated. Use moment.localeData instead.",ei);var en=Math.abs;function ro(a,d,I,V){var ne=Gn(d,I);return a._milliseconds+=V*ne._milliseconds,a._days+=V*ne._days,a._months+=V*ne._months,a._bubble()}function Gr(a){return a<0?Math.floor(a):Math.ceil(a)}function Va(a){return 4800*a/146097}function $s(a){return 146097*a/4800}function ci(a){return function(){return this.as(a)}}var ys=ci("ms"),qd=ci("s"),$d=ci("m"),Uu=ci("h"),Hl=ci("d"),kr=ci("w"),oo=ci("M"),Xd=ci("Q"),Jd=ci("y");function br(a){return function(){return this.isValid()?this._data[a]:NaN}}var Hc=br("milliseconds"),Xs=br("seconds"),ra=br("minutes"),Kd=br("hours"),Zd=br("days"),Vu=br("months"),Yl=br("years"),Or=Math.round,$i={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Yc(a,d,I,V,ne){return ne.relativeTime(d||1,!!I,a,V)}var zt=Math.abs;function oa(a){return(a>0)-(a<0)||+a}function Ba(){if(!this.isValid())return this.localeData().invalidDate();var a,d,I,V,ne,fe,Se,Ue,Fe=zt(this._milliseconds)/1e3,pt=zt(this._days),on=zt(this._months),Bt=this.asSeconds();return Bt?(a=it(Fe/60),d=it(a/60),Fe%=60,a%=60,I=it(on/12),on%=12,V=Fe?Fe.toFixed(3).replace(/\.?0+$/,""):"",ne=Bt<0?"-":"",fe=oa(this._months)!==oa(Bt)?"-":"",Se=oa(this._days)!==oa(Bt)?"-":"",Ue=oa(this._milliseconds)!==oa(Bt)?"-":"",ne+"P"+(I?fe+I+"Y":"")+(on?fe+on+"M":"")+(pt?Se+pt+"D":"")+(d||a||Fe?"T":"")+(d?Ue+d+"H":"")+(a?Ue+a+"M":"")+(Fe?Ue+V+"S":"")):"P0D"}var $t=zc.prototype;return $t.isValid=function(){return this._isValid},$t.abs=function(){var a=this._data;return this._milliseconds=en(this._milliseconds),this._days=en(this._days),this._months=en(this._months),a.milliseconds=en(a.milliseconds),a.seconds=en(a.seconds),a.minutes=en(a.minutes),a.hours=en(a.hours),a.months=en(a.months),a.years=en(a.years),this},$t.add=function(a,d){return ro(this,a,d,1)},$t.subtract=function(a,d){return ro(this,a,d,-1)},$t.as=function(a){if(!this.isValid())return NaN;var d,I,V=this._milliseconds;if((a=pe(a))==="month"||a==="quarter"||a==="year")switch(d=this._days+V/864e5,I=this._months+Va(d),a){case"month":return I;case"quarter":return I/3;case"year":return I/12}else switch(d=this._days+Math.round($s(this._months)),a){case"week":return d/7+V/6048e5;case"day":return d+V/864e5;case"hour":return 24*d+V/36e5;case"minute":return 1440*d+V/6e4;case"second":return 86400*d+V/1e3;case"millisecond":return Math.floor(864e5*d)+V;default:throw new Error("Unknown unit "+a)}},$t.asMilliseconds=ys,$t.asSeconds=qd,$t.asMinutes=$d,$t.asHours=Uu,$t.asDays=Hl,$t.asWeeks=kr,$t.asMonths=oo,$t.asQuarters=Xd,$t.asYears=Jd,$t.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*et(this._months/12):NaN},$t._bubble=function(){var a,d,I,V,ne,fe=this._milliseconds,Se=this._days,Ue=this._months,Fe=this._data;return fe>=0&&Se>=0&&Ue>=0||fe<=0&&Se<=0&&Ue<=0||(fe+=864e5*Gr($s(Ue)+Se),Se=0,Ue=0),Fe.milliseconds=fe%1e3,a=it(fe/1e3),Fe.seconds=a%60,d=it(a/60),Fe.minutes=d%60,I=it(d/60),Fe.hours=I%24,Se+=it(I/24),Ue+=ne=it(Va(Se)),Se-=Gr($s(ne)),V=it(Ue/12),Ue%=12,Fe.days=Se,Fe.months=Ue,Fe.years=V,this},$t.clone=function(){return Gn(this)},$t.get=function(a){return a=pe(a),this.isValid()?this[a+"s"]():NaN},$t.milliseconds=Hc,$t.seconds=Xs,$t.minutes=ra,$t.hours=Kd,$t.days=Zd,$t.weeks=function(){return it(this.days()/7)},$t.months=Vu,$t.years=Yl,$t.humanize=function(a,d){if(!this.isValid())return this.localeData().invalidDate();var I,V,ne=!1,fe=$i;return typeof a=="object"&&(d=a,a=!1),typeof a=="boolean"&&(ne=a),typeof d=="object"&&(fe=Object.assign({},$i,d),d.s!=null&&d.ss==null&&(fe.ss=d.s-1)),V=function(Se,Ue,Fe,pt){var on=Gn(Se).abs(),Bt=Or(on.as("s")),wn=Or(on.as("m")),Hn=Or(on.as("h")),ui=Or(on.as("d")),wr=Or(on.as("M")),Ii=Or(on.as("w")),_o=Or(on.as("y")),aa=Bt<=Fe.ss&&["s",Bt]||Bt<Fe.s&&["ss",Bt]||wn<=1&&["m"]||wn<Fe.m&&["mm",wn]||Hn<=1&&["h"]||Hn<Fe.h&&["hh",Hn]||ui<=1&&["d"]||ui<Fe.d&&["dd",ui];return Fe.w!=null&&(aa=aa||Ii<=1&&["w"]||Ii<Fe.w&&["ww",Ii]),(aa=aa||wr<=1&&["M"]||wr<Fe.M&&["MM",wr]||_o<=1&&["y"]||["yy",_o])[2]=Ue,aa[3]=+Se>0,aa[4]=pt,Yc.apply(null,aa)}(this,!ne,fe,I=this.localeData()),ne&&(V=I.pastFuture(+this,V)),I.postformat(V)},$t.toISOString=Ba,$t.toString=Ba,$t.toJSON=Ba,$t.locale=Re,$t.localeData=ir,$t.toIsoString=me("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ba),$t.lang=Hd,Be("X",0,0,"unix"),Be("x",0,0,"valueOf"),qe("x",xi),qe("X",/[+-]?\d+(\.\d{1,3})?/),Gt("X",function(a,d,I){I._d=new Date(1e3*parseFloat(a))}),Gt("x",function(a,d,I){I._d=new Date(et(a))}),g.version="2.29.4",x=En,g.fn=He,g.min=function(){return Bs("isBefore",[].slice.call(arguments,0))},g.max=function(){return Bs("isAfter",[].slice.call(arguments,0))},g.now=function(){return Date.now?Date.now():+new Date},g.utc=S,g.unix=function(a){return En(1e3*a)},g.months=function(a,d){return Gc(a,d,"months")},g.isDate=m,g.locale=Ti,g.invalid=R,g.duration=Gn,g.isMoment=le,g.weekdays=function(a,d,I){return ia(a,d,I,"weekdays")},g.parseZone=function(){return En.apply(null,arguments).parseZone()},g.localeData=ei,g.isDuration=Uc,g.monthsShort=function(a,d){return Gc(a,d,"monthsShort")},g.weekdaysMin=function(a,d,I){return ia(a,d,I,"weekdaysMin")},g.defineLocale=Tt,g.updateLocale=function(a,d){if(d!=null){var I,V,ne=An;It[a]!=null&&It[a].parentLocale!=null?It[a].set(yt(It[a]._config,d)):((V=Fi(a))!=null&&(ne=V._config),d=yt(ne,d),V==null&&(d.abbr=a),(I=new Pt(d)).parentLocale=It[a],It[a]=I),Ti(a)}else It[a]!=null&&(It[a].parentLocale!=null?(It[a]=It[a].parentLocale,a===Ti()&&Ti(a)):It[a]!=null&&delete It[a]);return It[a]},g.locales=function(){return Oe(It)},g.weekdaysShort=function(a,d,I){return ia(a,d,I,"weekdaysShort")},g.normalizeUnits=pe,g.relativeTimeRounding=function(a){return a===void 0?Or:typeof a=="function"&&(Or=a,!0)},g.relativeTimeThreshold=function(a,d){return $i[a]!==void 0&&(d===void 0?$i[a]:($i[a]=d,a==="s"&&($i.ss=d-1),!0))},g.calendarFormat=function(a,d){var I=a.diff(d,"days",!0);return I<-6?"sameElse":I<-1?"lastWeek":I<0?"lastDay":I<1?"sameDay":I<2?"nextDay":I<7?"nextWeek":"sameElse"},g.prototype=He,g.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},g}()},1378:function(ye){var Z=1e3,P=60*Z,x=60*P,_=24*x;function g(y,w,p,l){var C=w>=1.5*p;return Math.round(y/p)+" "+l+(C?"s":"")}ye.exports=function(y,w){w=w||{};var p,l,C=typeof y;if(C==="string"&&y.length>0)return function(W){if(!((W=String(W)).length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(W);if(m){var b=parseFloat(m[1]);switch((m[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*b;case"weeks":case"week":case"w":return 6048e5*b;case"days":case"day":case"d":return b*_;case"hours":case"hour":case"hrs":case"hr":case"h":return b*x;case"minutes":case"minute":case"mins":case"min":case"m":return b*P;case"seconds":case"second":case"secs":case"sec":case"s":return b*Z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}(y);if(C==="number"&&isFinite(y))return w.long?(p=y,(l=Math.abs(p))>=_?g(p,l,_,"day"):l>=x?g(p,l,x,"hour"):l>=P?g(p,l,P,"minute"):l>=Z?g(p,l,Z,"second"):p+" ms"):function(W){var m=Math.abs(W);return m>=_?Math.round(W/_)+"d":m>=x?Math.round(W/x)+"h":m>=P?Math.round(W/P)+"m":m>=Z?Math.round(W/Z)+"s":W+"ms"}(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))}},3682:function(ye,Z,P){var x=P(8058),_={};_.rules=P(2379).map(function(g){return{rule:g,suffix:g.replace(/^(\*\.|\!)/,""),punySuffix:-1,wildcard:g.charAt(0)==="*",exception:g.charAt(0)==="!"}}),_.endsWith=function(g,y){return g.indexOf(y,g.length-y.length)!==-1},_.findRule=function(g){var y=x.toASCII(g);return _.rules.reduce(function(w,p){return p.punySuffix===-1&&(p.punySuffix=x.toASCII(p.suffix)),_.endsWith(y,"."+p.punySuffix)||y===p.punySuffix?p:w},null)},Z.errorCodes={DOMAIN_TOO_SHORT:"Domain name too short.",DOMAIN_TOO_LONG:"Domain name too long. It should be no more than 255 chars.",LABEL_STARTS_WITH_DASH:"Domain name label can not start with a dash.",LABEL_ENDS_WITH_DASH:"Domain name label can not end with a dash.",LABEL_TOO_LONG:"Domain name label should be at most 63 chars long.",LABEL_TOO_SHORT:"Domain name label should be at least 1 character long.",LABEL_INVALID_CHARS:"Domain name label can only contain alphanumeric characters or dashes."},_.validate=function(g){var y=x.toASCII(g);if(y.length<1)return"DOMAIN_TOO_SHORT";if(y.length>255)return"DOMAIN_TOO_LONG";for(var w,p=y.split("."),l=0;l<p.length;++l){if(!(w=p[l]).length)return"LABEL_TOO_SHORT";if(w.length>63)return"LABEL_TOO_LONG";if(w.charAt(0)==="-")return"LABEL_STARTS_WITH_DASH";if(w.charAt(w.length-1)==="-")return"LABEL_ENDS_WITH_DASH";if(!/^[a-z0-9\-]+$/.test(w))return"LABEL_INVALID_CHARS"}},Z.parse=function(g){if(typeof g!="string")throw new TypeError("Domain name must be a string.");var y=g.slice(0).toLowerCase();y.charAt(y.length-1)==="."&&(y=y.slice(0,y.length-1));var w=_.validate(y);if(w)return{input:g,error:{message:Z.errorCodes[w],code:w}};var p={input:g,tld:null,sld:null,domain:null,subdomain:null,listed:!1},l=y.split(".");if(l[l.length-1]==="local")return p;var C=function(){return/xn--/.test(y)&&(p.domain&&(p.domain=x.toASCII(p.domain)),p.subdomain&&(p.subdomain=x.toASCII(p.subdomain))),p},W=_.findRule(y);if(!W)return l.length<2?p:(p.tld=l.pop(),p.sld=l.pop(),p.domain=[p.sld,p.tld].join("."),l.length&&(p.subdomain=l.pop()),C());p.listed=!0;var m=W.suffix.split("."),b=l.slice(0,l.length-m.length);return W.exception&&b.push(m.shift()),p.tld=m.join("."),b.length?(W.wildcard&&(m.unshift(b.pop()),p.tld=m.join(".")),b.length&&(p.sld=b.pop(),p.domain=[p.sld,p.tld].join("."),b.length&&(p.subdomain=b.join("."))),C()):C()},Z.get=function(g){return g&&Z.parse(g).domain||null},Z.isValid=function(g){var y=Z.parse(g);return Boolean(y.domain&&y.listed)}},8058:function(ye,Z,P){P.r(Z),P.d(Z,{decode:function(){return k},encode:function(){return R},toASCII:function(){return ae},toUnicode:function(){return K},ucs2decode:function(){return b},ucs2encode:function(){return F}});const x=2147483647,_=36,g=/^xn--/,y=/[^\0-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=Math.floor,C=String.fromCharCode;function W(oe){throw new RangeError(p[oe])}function m(oe,le){const Ee=oe.split("@");let me="";Ee.length>1&&(me=Ee[0]+"@",oe=Ee[1]);const Oe=function(Ke,Pe){const we=[];let yt=Ke.length;for(;yt--;)we[yt]=Pe(Ke[yt]);return we}((oe=oe.replace(w,".")).split("."),le).join(".");return me+Oe}function b(oe){const le=[];let Ee=0;const me=oe.length;for(;Ee<me;){const Oe=oe.charCodeAt(Ee++);if(Oe>=55296&&Oe<=56319&&Ee<me){const Ke=oe.charCodeAt(Ee++);(64512&Ke)==56320?le.push(((1023&Oe)<<10)+(1023&Ke)+65536):(le.push(Oe),Ee--)}else le.push(Oe)}return le}const F=oe=>String.fromCodePoint(...oe),S=function(oe,le){return oe+22+75*(oe<26)-((le!=0)<<5)},u=function(oe,le,Ee){let me=0;for(oe=Ee?l(oe/700):oe>>1,oe+=l(oe/le);oe>455;me+=_)oe=l(oe/35);return l(me+36*oe/(oe+38))},k=function(oe){const le=[],Ee=oe.length;let me=0,Oe=128,Ke=72,Pe=oe.lastIndexOf("-");Pe<0&&(Pe=0);for(let yt=0;yt<Pe;++yt)oe.charCodeAt(yt)>=128&&W("not-basic"),le.push(oe.charCodeAt(yt));for(let yt=Pe>0?Pe+1:0;yt<Ee;){let Pt=me;for(let rt=1,Rt=_;;Rt+=_){yt>=Ee&&W("invalid-input");const Kt=(we=oe.charCodeAt(yt++))-48<10?we-22:we-65<26?we-65:we-97<26?we-97:_;(Kt>=_||Kt>l((x-me)/rt))&&W("overflow"),me+=Kt*rt;const Wt=Rt<=Ke?1:Rt>=Ke+26?26:Rt-Ke;if(Kt<Wt)break;const Be=_-Wt;rt>l(x/Be)&&W("overflow"),rt*=Be}const Mt=le.length+1;Ke=u(me-Pt,Mt,Pt==0),l(me/Mt)>x-Oe&&W("overflow"),Oe+=l(me/Mt),me%=Mt,le.splice(me++,0,Oe)}var we;return String.fromCodePoint(...le)},R=function(oe){const le=[];let Ee=(oe=b(oe)).length,me=128,Oe=0,Ke=72;for(const yt of oe)yt<128&&le.push(C(yt));let Pe=le.length,we=Pe;for(Pe&&le.push("-");we<Ee;){let yt=x;for(const Mt of oe)Mt>=me&&Mt<yt&&(yt=Mt);const Pt=we+1;yt-me>l((x-Oe)/Pt)&&W("overflow"),Oe+=(yt-me)*Pt,me=yt;for(const Mt of oe)if(Mt<me&&++Oe>x&&W("overflow"),Mt==me){let rt=Oe;for(let Rt=_;;Rt+=_){const Kt=Rt<=Ke?1:Rt>=Ke+26?26:Rt-Ke;if(rt<Kt)break;const Wt=rt-Kt,Be=_-Kt;le.push(C(S(Kt+Wt%Be,0))),rt=l(Wt/Be)}le.push(C(S(rt,0))),Ke=u(Oe,Pt,we==Pe),Oe=0,++we}++Oe,++me}return le.join("")},K=function(oe){return m(oe,function(le){return g.test(le)?k(le.slice(4).toLowerCase()):le})},ae=function(oe){return m(oe,function(le){return y.test(le)?"xn--"+R(le):le})},Y={version:"2.1.0",ucs2:{decode:b,encode:F},decode:k,encode:R,toASCII:ae,toUnicode:K};Z.default=Y},7375:function(ye,Z){var P=Object.prototype.hasOwnProperty;function x(g){try{return decodeURIComponent(g.replace(/\+/g," "))}catch{return null}}function _(g){try{return encodeURIComponent(g)}catch{return null}}Z.stringify=function(g,y){y=y||"";var w,p,l=[];for(p in typeof y!="string"&&(y="?"),g)if(P.call(g,p)){if((w=g[p])||w!=null&&!isNaN(w)||(w=""),p=_(p),w=_(w),p===null||w===null)continue;l.push(p+"="+w)}return l.length?y+l.join("&"):""},Z.parse=function(g){for(var y,w=/([^=?#&]+)=?([^&]*)/g,p={};y=w.exec(g);){var l=x(y[1]),C=x(y[2]);l===null||C===null||l in p||(p[l]=C)}return p}},7245:function(ye){ye.exports=function(Z,P){if(P=P.split(":")[0],!(Z=+Z))return!1;switch(P){case"http":case"ws":return Z!==80;case"https":case"wss":return Z!==443;case"ftp":return Z!==21;case"gopher":return Z!==70;case"file":return!1}return Z!==0}},6294:function(ye,Z,P){var x=P(2281);function _(l,C,W,m,b){var F=x.writeRtpDescription(l.kind,C);if(F+=x.writeIceParameters(l.iceGatherer.getLocalParameters()),F+=x.writeDtlsParameters(l.dtlsTransport.getLocalParameters(),W==="offer"?"actpass":b||"active"),F+="a=mid:"+l.mid+`\r
`,l.rtpSender&&l.rtpReceiver?F+=`a=sendrecv\r
`:l.rtpSender?F+=`a=sendonly\r
`:l.rtpReceiver?F+=`a=recvonly\r
`:F+=`a=inactive\r
`,l.rtpSender){var S=l.rtpSender._initialTrackId||l.rtpSender.track.id;l.rtpSender._initialTrackId=S;var u="msid:"+(m?m.id:"-")+" "+S+`\r
`;F+="a="+u,F+="a=ssrc:"+l.sendEncodingParameters[0].ssrc+" "+u,l.sendEncodingParameters[0].rtx&&(F+="a=ssrc:"+l.sendEncodingParameters[0].rtx.ssrc+" "+u,F+="a=ssrc-group:FID "+l.sendEncodingParameters[0].ssrc+" "+l.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return F+="a=ssrc:"+l.sendEncodingParameters[0].ssrc+" cname:"+x.localCName+`\r
`,l.rtpSender&&l.sendEncodingParameters[0].rtx&&(F+="a=ssrc:"+l.sendEncodingParameters[0].rtx.ssrc+" cname:"+x.localCName+`\r
`),F}function g(l,C){var W={codecs:[],headerExtensions:[],fecMechanisms:[]},m=function(F,S){F=parseInt(F,10);for(var u=0;u<S.length;u++)if(S[u].payloadType===F||S[u].preferredPayloadType===F)return S[u]},b=function(F,S,u,k){var R=m(F.parameters.apt,u),K=m(S.parameters.apt,k);return R&&K&&R.name.toLowerCase()===K.name.toLowerCase()};return l.codecs.forEach(function(F){for(var S=0;S<C.codecs.length;S++){var u=C.codecs[S];if(F.name.toLowerCase()===u.name.toLowerCase()&&F.clockRate===u.clockRate){if(F.name.toLowerCase()==="rtx"&&F.parameters&&u.parameters.apt&&!b(F,u,l.codecs,C.codecs))continue;(u=JSON.parse(JSON.stringify(u))).numChannels=Math.min(F.numChannels,u.numChannels),W.codecs.push(u),u.rtcpFeedback=u.rtcpFeedback.filter(function(k){for(var R=0;R<F.rtcpFeedback.length;R++)if(F.rtcpFeedback[R].type===k.type&&F.rtcpFeedback[R].parameter===k.parameter)return!0;return!1});break}}}),l.headerExtensions.forEach(function(F){for(var S=0;S<C.headerExtensions.length;S++){var u=C.headerExtensions[S];if(F.uri===u.uri){W.headerExtensions.push(u);break}}}),W}function y(l,C,W){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[C][l].indexOf(W)!==-1}function w(l,C){var W=l.getRemoteCandidates().find(function(m){return C.foundation===m.foundation&&C.ip===m.ip&&C.port===m.port&&C.priority===m.priority&&C.protocol===m.protocol&&C.type===m.type});return W||l.addRemoteCandidate(C),!W}function p(l,C){var W=new Error(C);return W.name=l,W.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[l],W}ye.exports=function(l,C){function W(S,u){u.addTrack(S),u.dispatchEvent(new l.MediaStreamTrackEvent("addtrack",{track:S}))}function m(S,u,k,R){var K=new Event("track");K.track=u,K.receiver=k,K.transceiver={receiver:k},K.streams=R,l.setTimeout(function(){S._dispatchEvent("track",K)})}var b=function(S){var u=this,k=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(K){u[K]=k[K].bind(k)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",S=JSON.parse(JSON.stringify(S||{})),this.usingBundle=S.bundlePolicy==="max-bundle",S.rtcpMuxPolicy==="negotiate")throw p("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(S.rtcpMuxPolicy||(S.rtcpMuxPolicy="require"),S.iceTransportPolicy){case"all":case"relay":break;default:S.iceTransportPolicy="all"}switch(S.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:S.bundlePolicy="balanced"}if(S.iceServers=function(K,ae){var Y=!1;return(K=JSON.parse(JSON.stringify(K))).filter(function(oe){if(oe&&(oe.urls||oe.url)){var le=oe.urls||oe.url;oe.url&&!oe.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var Ee=typeof le=="string";return Ee&&(le=[le]),le=le.filter(function(me){return me.indexOf("turn:")!==0||me.indexOf("transport=udp")===-1||me.indexOf("turn:[")!==-1||Y?me.indexOf("stun:")===0&&ae>=14393&&me.indexOf("?transport=udp")===-1:(Y=!0,!0)}),delete oe.url,oe.urls=Ee?le[0]:le,!!le.length}})}(S.iceServers||[],C),this._iceGatherers=[],S.iceCandidatePoolSize)for(var R=S.iceCandidatePoolSize;R>0;R--)this._iceGatherers.push(new l.RTCIceGatherer({iceServers:S.iceServers,gatherPolicy:S.iceTransportPolicy}));else S.iceCandidatePoolSize=0;this._config=S,this.transceivers=[],this._sdpSessionId=x.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(b.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(b.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),b.prototype.onicecandidate=null,b.prototype.onaddstream=null,b.prototype.ontrack=null,b.prototype.onremovestream=null,b.prototype.onsignalingstatechange=null,b.prototype.oniceconnectionstatechange=null,b.prototype.onconnectionstatechange=null,b.prototype.onicegatheringstatechange=null,b.prototype.onnegotiationneeded=null,b.prototype.ondatachannel=null,b.prototype._dispatchEvent=function(S,u){this._isClosed||(this.dispatchEvent(u),typeof this["on"+S]=="function"&&this["on"+S](u))},b.prototype._emitGatheringStateChange=function(){var S=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",S)},b.prototype.getConfiguration=function(){return this._config},b.prototype.getLocalStreams=function(){return this.localStreams},b.prototype.getRemoteStreams=function(){return this.remoteStreams},b.prototype._createTransceiver=function(S,u){var k=this.transceivers.length>0,R={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:S,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&k)R.iceTransport=this.transceivers[0].iceTransport,R.dtlsTransport=this.transceivers[0].dtlsTransport;else{var K=this._createIceAndDtlsTransports();R.iceTransport=K.iceTransport,R.dtlsTransport=K.dtlsTransport}return u||this.transceivers.push(R),R},b.prototype.addTrack=function(S,u){if(this._isClosed)throw p("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var k;if(this.transceivers.find(function(K){return K.track===S}))throw p("InvalidAccessError","Track already exists.");for(var R=0;R<this.transceivers.length;R++)this.transceivers[R].track||this.transceivers[R].kind!==S.kind||(k=this.transceivers[R]);return k||(k=this._createTransceiver(S.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(u)===-1&&this.localStreams.push(u),k.track=S,k.stream=u,k.rtpSender=new l.RTCRtpSender(S,k.dtlsTransport),k.rtpSender},b.prototype.addStream=function(S){var u=this;if(C>=15025)S.getTracks().forEach(function(R){u.addTrack(R,S)});else{var k=S.clone();S.getTracks().forEach(function(R,K){var ae=k.getTracks()[K];R.addEventListener("enabled",function(Y){ae.enabled=Y.enabled})}),k.getTracks().forEach(function(R){u.addTrack(R,k)})}},b.prototype.removeTrack=function(S){if(this._isClosed)throw p("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(S instanceof l.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var u=this.transceivers.find(function(R){return R.rtpSender===S});if(!u)throw p("InvalidAccessError","Sender was not created by this connection.");var k=u.stream;u.rtpSender.stop(),u.rtpSender=null,u.track=null,u.stream=null,this.transceivers.map(function(R){return R.stream}).indexOf(k)===-1&&this.localStreams.indexOf(k)>-1&&this.localStreams.splice(this.localStreams.indexOf(k),1),this._maybeFireNegotiationNeeded()},b.prototype.removeStream=function(S){var u=this;S.getTracks().forEach(function(k){var R=u.getSenders().find(function(K){return K.track===k});R&&u.removeTrack(R)})},b.prototype.getSenders=function(){return this.transceivers.filter(function(S){return!!S.rtpSender}).map(function(S){return S.rtpSender})},b.prototype.getReceivers=function(){return this.transceivers.filter(function(S){return!!S.rtpReceiver}).map(function(S){return S.rtpReceiver})},b.prototype._createIceGatherer=function(S,u){var k=this;if(u&&S>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var R=new l.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(R,"state",{value:"new",writable:!0}),this.transceivers[S].bufferedCandidateEvents=[],this.transceivers[S].bufferCandidates=function(K){var ae=!K.candidate||Object.keys(K.candidate).length===0;R.state=ae?"completed":"gathering",k.transceivers[S].bufferedCandidateEvents!==null&&k.transceivers[S].bufferedCandidateEvents.push(K)},R.addEventListener("localcandidate",this.transceivers[S].bufferCandidates),R},b.prototype._gather=function(S,u){var k=this,R=this.transceivers[u].iceGatherer;if(!R.onlocalcandidate){var K=this.transceivers[u].bufferedCandidateEvents;this.transceivers[u].bufferedCandidateEvents=null,R.removeEventListener("localcandidate",this.transceivers[u].bufferCandidates),R.onlocalcandidate=function(ae){if(!(k.usingBundle&&u>0)){var Y=new Event("icecandidate");Y.candidate={sdpMid:S,sdpMLineIndex:u};var oe=ae.candidate,le=!oe||Object.keys(oe).length===0;if(le)R.state!=="new"&&R.state!=="gathering"||(R.state="completed");else{R.state==="new"&&(R.state="gathering"),oe.component=1,oe.ufrag=R.getLocalParameters().usernameFragment;var Ee=x.writeCandidate(oe);Y.candidate=Object.assign(Y.candidate,x.parseCandidate(Ee)),Y.candidate.candidate=Ee,Y.candidate.toJSON=function(){return{candidate:Y.candidate.candidate,sdpMid:Y.candidate.sdpMid,sdpMLineIndex:Y.candidate.sdpMLineIndex,usernameFragment:Y.candidate.usernameFragment}}}var me=x.getMediaSections(k._localDescription.sdp);me[Y.candidate.sdpMLineIndex]+=le?`a=end-of-candidates\r
`:"a="+Y.candidate.candidate+`\r
`,k._localDescription.sdp=x.getDescription(k._localDescription.sdp)+me.join("");var Oe=k.transceivers.every(function(Ke){return Ke.iceGatherer&&Ke.iceGatherer.state==="completed"});k.iceGatheringState!=="gathering"&&(k.iceGatheringState="gathering",k._emitGatheringStateChange()),le||k._dispatchEvent("icecandidate",Y),Oe&&(k._dispatchEvent("icecandidate",new Event("icecandidate")),k.iceGatheringState="complete",k._emitGatheringStateChange())}},l.setTimeout(function(){K.forEach(function(ae){R.onlocalcandidate(ae)})},0)}},b.prototype._createIceAndDtlsTransports=function(){var S=this,u=new l.RTCIceTransport(null);u.onicestatechange=function(){S._updateIceConnectionState(),S._updateConnectionState()};var k=new l.RTCDtlsTransport(u);return k.ondtlsstatechange=function(){S._updateConnectionState()},k.onerror=function(){Object.defineProperty(k,"state",{value:"failed",writable:!0}),S._updateConnectionState()},{iceTransport:u,dtlsTransport:k}},b.prototype._disposeIceAndDtlsTransports=function(S){var u=this.transceivers[S].iceGatherer;u&&(delete u.onlocalcandidate,delete this.transceivers[S].iceGatherer);var k=this.transceivers[S].iceTransport;k&&(delete k.onicestatechange,delete this.transceivers[S].iceTransport);var R=this.transceivers[S].dtlsTransport;R&&(delete R.ondtlsstatechange,delete R.onerror,delete this.transceivers[S].dtlsTransport)},b.prototype._transceive=function(S,u,k){var R=g(S.localCapabilities,S.remoteCapabilities);u&&S.rtpSender&&(R.encodings=S.sendEncodingParameters,R.rtcp={cname:x.localCName,compound:S.rtcpParameters.compound},S.recvEncodingParameters.length&&(R.rtcp.ssrc=S.recvEncodingParameters[0].ssrc),S.rtpSender.send(R)),k&&S.rtpReceiver&&R.codecs.length>0&&(S.kind==="video"&&S.recvEncodingParameters&&C<15019&&S.recvEncodingParameters.forEach(function(K){delete K.rtx}),S.recvEncodingParameters.length?R.encodings=S.recvEncodingParameters:R.encodings=[{}],R.rtcp={compound:S.rtcpParameters.compound},S.rtcpParameters.cname&&(R.rtcp.cname=S.rtcpParameters.cname),S.sendEncodingParameters.length&&(R.rtcp.ssrc=S.sendEncodingParameters[0].ssrc),S.rtpReceiver.receive(R))},b.prototype.setLocalDescription=function(S){var u,k,R=this;if(["offer","answer"].indexOf(S.type)===-1)return Promise.reject(p("TypeError",'Unsupported type "'+S.type+'"'));if(!y("setLocalDescription",S.type,R.signalingState)||R._isClosed)return Promise.reject(p("InvalidStateError","Can not set local "+S.type+" in state "+R.signalingState));if(S.type==="offer")u=x.splitSections(S.sdp),k=u.shift(),u.forEach(function(ae,Y){var oe=x.parseRtpParameters(ae);R.transceivers[Y].localCapabilities=oe}),R.transceivers.forEach(function(ae,Y){R._gather(ae.mid,Y)});else if(S.type==="answer"){u=x.splitSections(R._remoteDescription.sdp),k=u.shift();var K=x.matchPrefix(k,"a=ice-lite").length>0;u.forEach(function(ae,Y){var oe=R.transceivers[Y],le=oe.iceGatherer,Ee=oe.iceTransport,me=oe.dtlsTransport,Oe=oe.localCapabilities,Ke=oe.remoteCapabilities;if(!(x.isRejected(ae)&&x.matchPrefix(ae,"a=bundle-only").length===0||oe.rejected)){var Pe=x.getIceParameters(ae,k),we=x.getDtlsParameters(ae,k);K&&(we.role="server"),R.usingBundle&&Y!==0||(R._gather(oe.mid,Y),Ee.state==="new"&&Ee.start(le,Pe,K?"controlling":"controlled"),me.state==="new"&&me.start(we));var yt=g(Oe,Ke);R._transceive(oe,yt.codecs.length>0,!1)}})}return R._localDescription={type:S.type,sdp:S.sdp},S.type==="offer"?R._updateSignalingState("have-local-offer"):R._updateSignalingState("stable"),Promise.resolve()},b.prototype.setRemoteDescription=function(S){var u=this;if(["offer","answer"].indexOf(S.type)===-1)return Promise.reject(p("TypeError",'Unsupported type "'+S.type+'"'));if(!y("setRemoteDescription",S.type,u.signalingState)||u._isClosed)return Promise.reject(p("InvalidStateError","Can not set remote "+S.type+" in state "+u.signalingState));var k={};u.remoteStreams.forEach(function(Ee){k[Ee.id]=Ee});var R=[],K=x.splitSections(S.sdp),ae=K.shift(),Y=x.matchPrefix(ae,"a=ice-lite").length>0,oe=x.matchPrefix(ae,"a=group:BUNDLE ").length>0;u.usingBundle=oe;var le=x.matchPrefix(ae,"a=ice-options:")[0];return u.canTrickleIceCandidates=!!le&&le.substr(14).split(" ").indexOf("trickle")>=0,K.forEach(function(Ee,me){var Oe=x.splitLines(Ee),Ke=x.getKind(Ee),Pe=x.isRejected(Ee)&&x.matchPrefix(Ee,"a=bundle-only").length===0,we=Oe[0].substr(2).split(" ")[2],yt=x.getDirection(Ee,ae),Pt=x.parseMsid(Ee),Mt=x.getMid(Ee)||x.generateIdentifier();if(Pe||Ke==="application"&&(we==="DTLS/SCTP"||we==="UDP/DTLS/SCTP"))u.transceivers[me]={mid:Mt,kind:Ke,protocol:we,rejected:!0};else{var rt,Rt,Kt,Wt,Be,yi,Et,gn,Ie;!Pe&&u.transceivers[me]&&u.transceivers[me].rejected&&(u.transceivers[me]=u._createTransceiver(Ke,!0));var pe,ge,Ce=x.parseRtpParameters(Ee);Pe||(pe=x.getIceParameters(Ee,ae),(ge=x.getDtlsParameters(Ee,ae)).role="client"),Et=x.parseRtpEncodingParameters(Ee);var Ae=x.parseRtcpParameters(Ee),ut=x.matchPrefix(Ee,"a=end-of-candidates",ae).length>0,it=x.matchPrefix(Ee,"a=candidate:").map(function(Ze){return x.parseCandidate(Ze)}).filter(function(Ze){return Ze.component===1});if((S.type==="offer"||S.type==="answer")&&!Pe&&oe&&me>0&&u.transceivers[me]&&(u._disposeIceAndDtlsTransports(me),u.transceivers[me].iceGatherer=u.transceivers[0].iceGatherer,u.transceivers[me].iceTransport=u.transceivers[0].iceTransport,u.transceivers[me].dtlsTransport=u.transceivers[0].dtlsTransport,u.transceivers[me].rtpSender&&u.transceivers[me].rtpSender.setTransport(u.transceivers[0].dtlsTransport),u.transceivers[me].rtpReceiver&&u.transceivers[me].rtpReceiver.setTransport(u.transceivers[0].dtlsTransport)),S.type!=="offer"||Pe)S.type!=="answer"||Pe||(Rt=(rt=u.transceivers[me]).iceGatherer,Kt=rt.iceTransport,Wt=rt.dtlsTransport,Be=rt.rtpReceiver,yi=rt.sendEncodingParameters,gn=rt.localCapabilities,u.transceivers[me].recvEncodingParameters=Et,u.transceivers[me].remoteCapabilities=Ce,u.transceivers[me].rtcpParameters=Ae,it.length&&Kt.state==="new"&&(!Y&&!ut||oe&&me!==0?it.forEach(function(Ze){w(rt.iceTransport,Ze)}):Kt.setRemoteCandidates(it)),oe&&me!==0||(Kt.state==="new"&&Kt.start(Rt,pe,"controlling"),Wt.state==="new"&&Wt.start(ge)),!g(rt.localCapabilities,rt.remoteCapabilities).codecs.filter(function(Ze){return Ze.name.toLowerCase()==="rtx"}).length&&rt.sendEncodingParameters[0].rtx&&delete rt.sendEncodingParameters[0].rtx,u._transceive(rt,yt==="sendrecv"||yt==="recvonly",yt==="sendrecv"||yt==="sendonly"),!Be||yt!=="sendrecv"&&yt!=="sendonly"?delete rt.rtpReceiver:(Ie=Be.track,Pt?(k[Pt.stream]||(k[Pt.stream]=new l.MediaStream),W(Ie,k[Pt.stream]),R.push([Ie,Be,k[Pt.stream]])):(k.default||(k.default=new l.MediaStream),W(Ie,k.default),R.push([Ie,Be,k.default]))));else{(rt=u.transceivers[me]||u._createTransceiver(Ke)).mid=Mt,rt.iceGatherer||(rt.iceGatherer=u._createIceGatherer(me,oe)),it.length&&rt.iceTransport.state==="new"&&(!ut||oe&&me!==0?it.forEach(function(Ze){w(rt.iceTransport,Ze)}):rt.iceTransport.setRemoteCandidates(it)),gn=l.RTCRtpReceiver.getCapabilities(Ke),C<15019&&(gn.codecs=gn.codecs.filter(function(Ze){return Ze.name!=="rtx"})),yi=rt.sendEncodingParameters||[{ssrc:1001*(2*me+2)}];var et,bt=!1;yt==="sendrecv"||yt==="sendonly"?(bt=!rt.rtpReceiver,Be=rt.rtpReceiver||new l.RTCRtpReceiver(rt.dtlsTransport,Ke),bt&&(Ie=Be.track,Pt&&Pt.stream==="-"||(Pt?(k[Pt.stream]||(k[Pt.stream]=new l.MediaStream,Object.defineProperty(k[Pt.stream],"id",{get:function(){return Pt.stream}})),Object.defineProperty(Ie,"id",{get:function(){return Pt.track}}),et=k[Pt.stream]):(k.default||(k.default=new l.MediaStream),et=k.default)),et&&(W(Ie,et),rt.associatedRemoteMediaStreams.push(et)),R.push([Ie,Be,et]))):rt.rtpReceiver&&rt.rtpReceiver.track&&(rt.associatedRemoteMediaStreams.forEach(function(Ze){var _t=Ze.getTracks().find(function(vn){return vn.id===rt.rtpReceiver.track.id});_t&&function(vn,Jt){Jt.removeTrack(vn),Jt.dispatchEvent(new l.MediaStreamTrackEvent("removetrack",{track:vn}))}(_t,Ze)}),rt.associatedRemoteMediaStreams=[]),rt.localCapabilities=gn,rt.remoteCapabilities=Ce,rt.rtpReceiver=Be,rt.rtcpParameters=Ae,rt.sendEncodingParameters=yi,rt.recvEncodingParameters=Et,u._transceive(u.transceivers[me],!1,bt)}}}),u._dtlsRole===void 0&&(u._dtlsRole=S.type==="offer"?"active":"passive"),u._remoteDescription={type:S.type,sdp:S.sdp},S.type==="offer"?u._updateSignalingState("have-remote-offer"):u._updateSignalingState("stable"),Object.keys(k).forEach(function(Ee){var me=k[Ee];if(me.getTracks().length){if(u.remoteStreams.indexOf(me)===-1){u.remoteStreams.push(me);var Oe=new Event("addstream");Oe.stream=me,l.setTimeout(function(){u._dispatchEvent("addstream",Oe)})}R.forEach(function(Ke){var Pe=Ke[0],we=Ke[1];me.id===Ke[2].id&&m(u,Pe,we,[me])})}}),R.forEach(function(Ee){Ee[2]||m(u,Ee[0],Ee[1],[])}),l.setTimeout(function(){u&&u.transceivers&&u.transceivers.forEach(function(Ee){Ee.iceTransport&&Ee.iceTransport.state==="new"&&Ee.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Ee.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},b.prototype.close=function(){this.transceivers.forEach(function(S){S.iceTransport&&S.iceTransport.stop(),S.dtlsTransport&&S.dtlsTransport.stop(),S.rtpSender&&S.rtpSender.stop(),S.rtpReceiver&&S.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},b.prototype._updateSignalingState=function(S){this.signalingState=S;var u=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",u)},b.prototype._maybeFireNegotiationNeeded=function(){var S=this;this.signalingState==="stable"&&this.needNegotiation!==!0&&(this.needNegotiation=!0,l.setTimeout(function(){if(S.needNegotiation){S.needNegotiation=!1;var u=new Event("negotiationneeded");S._dispatchEvent("negotiationneeded",u)}},0))},b.prototype._updateIceConnectionState=function(){var S,u={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(R){R.iceTransport&&!R.rejected&&u[R.iceTransport.state]++}),S="new",u.failed>0?S="failed":u.checking>0?S="checking":u.disconnected>0?S="disconnected":u.new>0?S="new":u.connected>0?S="connected":u.completed>0&&(S="completed"),S!==this.iceConnectionState){this.iceConnectionState=S;var k=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",k)}},b.prototype._updateConnectionState=function(){var S,u={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(R){R.iceTransport&&R.dtlsTransport&&!R.rejected&&(u[R.iceTransport.state]++,u[R.dtlsTransport.state]++)}),u.connected+=u.completed,S="new",u.failed>0?S="failed":u.connecting>0?S="connecting":u.disconnected>0?S="disconnected":u.new>0?S="new":u.connected>0&&(S="connected"),S!==this.connectionState){this.connectionState=S;var k=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",k)}},b.prototype.createOffer=function(){var S=this;if(S._isClosed)return Promise.reject(p("InvalidStateError","Can not call createOffer after close"));var u=S.transceivers.filter(function(Y){return Y.kind==="audio"}).length,k=S.transceivers.filter(function(Y){return Y.kind==="video"}).length,R=arguments[0];if(R){if(R.mandatory||R.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");R.offerToReceiveAudio!==void 0&&(u=R.offerToReceiveAudio===!0?1:R.offerToReceiveAudio===!1?0:R.offerToReceiveAudio),R.offerToReceiveVideo!==void 0&&(k=R.offerToReceiveVideo===!0?1:R.offerToReceiveVideo===!1?0:R.offerToReceiveVideo)}for(S.transceivers.forEach(function(Y){Y.kind==="audio"?--u<0&&(Y.wantReceive=!1):Y.kind==="video"&&--k<0&&(Y.wantReceive=!1)});u>0||k>0;)u>0&&(S._createTransceiver("audio"),u--),k>0&&(S._createTransceiver("video"),k--);var K=x.writeSessionBoilerplate(S._sdpSessionId,S._sdpSessionVersion++);S.transceivers.forEach(function(Y,oe){var le=Y.track,Ee=Y.kind,me=Y.mid||x.generateIdentifier();Y.mid=me,Y.iceGatherer||(Y.iceGatherer=S._createIceGatherer(oe,S.usingBundle));var Oe=l.RTCRtpSender.getCapabilities(Ee);C<15019&&(Oe.codecs=Oe.codecs.filter(function(Pe){return Pe.name!=="rtx"})),Oe.codecs.forEach(function(Pe){Pe.name==="H264"&&Pe.parameters["level-asymmetry-allowed"]===void 0&&(Pe.parameters["level-asymmetry-allowed"]="1"),Y.remoteCapabilities&&Y.remoteCapabilities.codecs&&Y.remoteCapabilities.codecs.forEach(function(we){Pe.name.toLowerCase()===we.name.toLowerCase()&&Pe.clockRate===we.clockRate&&(Pe.preferredPayloadType=we.payloadType)})}),Oe.headerExtensions.forEach(function(Pe){(Y.remoteCapabilities&&Y.remoteCapabilities.headerExtensions||[]).forEach(function(we){Pe.uri===we.uri&&(Pe.id=we.id)})});var Ke=Y.sendEncodingParameters||[{ssrc:1001*(2*oe+1)}];le&&C>=15019&&Ee==="video"&&!Ke[0].rtx&&(Ke[0].rtx={ssrc:Ke[0].ssrc+1}),Y.wantReceive&&(Y.rtpReceiver=new l.RTCRtpReceiver(Y.dtlsTransport,Ee)),Y.localCapabilities=Oe,Y.sendEncodingParameters=Ke}),S._config.bundlePolicy!=="max-compat"&&(K+="a=group:BUNDLE "+S.transceivers.map(function(Y){return Y.mid}).join(" ")+`\r
`),K+=`a=ice-options:trickle\r
`,S.transceivers.forEach(function(Y,oe){K+=_(Y,Y.localCapabilities,"offer",Y.stream,S._dtlsRole),K+=`a=rtcp-rsize\r
`,!Y.iceGatherer||S.iceGatheringState==="new"||oe!==0&&S.usingBundle||(Y.iceGatherer.getLocalCandidates().forEach(function(le){le.component=1,K+="a="+x.writeCandidate(le)+`\r
`}),Y.iceGatherer.state==="completed"&&(K+=`a=end-of-candidates\r
`))});var ae=new l.RTCSessionDescription({type:"offer",sdp:K});return Promise.resolve(ae)},b.prototype.createAnswer=function(){var S=this;if(S._isClosed)return Promise.reject(p("InvalidStateError","Can not call createAnswer after close"));if(S.signalingState!=="have-remote-offer"&&S.signalingState!=="have-local-pranswer")return Promise.reject(p("InvalidStateError","Can not call createAnswer in signalingState "+S.signalingState));var u=x.writeSessionBoilerplate(S._sdpSessionId,S._sdpSessionVersion++);S.usingBundle&&(u+="a=group:BUNDLE "+S.transceivers.map(function(K){return K.mid}).join(" ")+`\r
`),u+=`a=ice-options:trickle\r
`;var k=x.getMediaSections(S._remoteDescription.sdp).length;S.transceivers.forEach(function(K,ae){if(!(ae+1>k)){if(K.rejected)return K.kind==="application"?K.protocol==="DTLS/SCTP"?u+=`m=application 0 DTLS/SCTP 5000\r
`:u+="m=application 0 "+K.protocol+` webrtc-datachannel\r
`:K.kind==="audio"?u+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:K.kind==="video"&&(u+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),void(u+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+K.mid+`\r
`);var Y;K.stream&&(K.kind==="audio"?Y=K.stream.getAudioTracks()[0]:K.kind==="video"&&(Y=K.stream.getVideoTracks()[0]),Y&&C>=15019&&K.kind==="video"&&!K.sendEncodingParameters[0].rtx&&(K.sendEncodingParameters[0].rtx={ssrc:K.sendEncodingParameters[0].ssrc+1}));var oe=g(K.localCapabilities,K.remoteCapabilities);!oe.codecs.filter(function(le){return le.name.toLowerCase()==="rtx"}).length&&K.sendEncodingParameters[0].rtx&&delete K.sendEncodingParameters[0].rtx,u+=_(K,oe,"answer",K.stream,S._dtlsRole),K.rtcpParameters&&K.rtcpParameters.reducedSize&&(u+=`a=rtcp-rsize\r
`)}});var R=new l.RTCSessionDescription({type:"answer",sdp:u});return Promise.resolve(R)},b.prototype.addIceCandidate=function(S){var u,k=this;return S&&S.sdpMLineIndex===void 0&&!S.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(R,K){if(!k._remoteDescription)return K(p("InvalidStateError","Can not add ICE candidate without a remote description"));if(S&&S.candidate!==""){var ae=S.sdpMLineIndex;if(S.sdpMid){for(var Y=0;Y<k.transceivers.length;Y++)if(k.transceivers[Y].mid===S.sdpMid){ae=Y;break}}var oe=k.transceivers[ae];if(!oe)return K(p("OperationError","Can not add ICE candidate"));if(oe.rejected)return R();var le=Object.keys(S.candidate).length>0?x.parseCandidate(S.candidate):{};if(le.protocol==="tcp"&&(le.port===0||le.port===9)||le.component&&le.component!==1)return R();if((ae===0||ae>0&&oe.iceTransport!==k.transceivers[0].iceTransport)&&!w(oe.iceTransport,le))return K(p("OperationError","Can not add ICE candidate"));var Ee=S.candidate.trim();Ee.indexOf("a=")===0&&(Ee=Ee.substr(2)),(u=x.getMediaSections(k._remoteDescription.sdp))[ae]+="a="+(le.type?Ee:"end-of-candidates")+`\r
`,k._remoteDescription.sdp=x.getDescription(k._remoteDescription.sdp)+u.join("")}else for(var me=0;me<k.transceivers.length&&(k.transceivers[me].rejected||(k.transceivers[me].iceTransport.addRemoteCandidate({}),(u=x.getMediaSections(k._remoteDescription.sdp))[me]+=`a=end-of-candidates\r
`,k._remoteDescription.sdp=x.getDescription(k._remoteDescription.sdp)+u.join(""),!k.usingBundle));me++);R()})},b.prototype.getStats=function(S){if(S&&S instanceof l.MediaStreamTrack){var u=null;if(this.transceivers.forEach(function(R){R.rtpSender&&R.rtpSender.track===S?u=R.rtpSender:R.rtpReceiver&&R.rtpReceiver.track===S&&(u=R.rtpReceiver)}),!u)throw p("InvalidAccessError","Invalid selector.");return u.getStats()}var k=[];return this.transceivers.forEach(function(R){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(K){R[K]&&k.push(R[K].getStats())})}),Promise.all(k).then(function(R){var K=new Map;return R.forEach(function(ae){ae.forEach(function(Y){K.set(Y.id,Y)})}),K})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(S){var u=l[S];if(u&&u.prototype&&u.prototype.getStats){var k=u.prototype.getStats;u.prototype.getStats=function(){return k.apply(this).then(function(R){var K=new Map;return Object.keys(R).forEach(function(ae){var Y;R[ae].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(Y=R[ae]).type]||Y.type,K.set(ae,R[ae])}),K})}}});var F=["createOffer","createAnswer"];return F.forEach(function(S){var u=b.prototype[S];b.prototype[S]=function(){var k=arguments;return typeof k[0]=="function"||typeof k[1]=="function"?u.apply(this,[arguments[2]]).then(function(R){typeof k[0]=="function"&&k[0].apply(null,[R])},function(R){typeof k[1]=="function"&&k[1].apply(null,[R])}):u.apply(this,arguments)}}),(F=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(S){var u=b.prototype[S];b.prototype[S]=function(){var k=arguments;return typeof k[1]=="function"||typeof k[2]=="function"?u.apply(this,arguments).then(function(){typeof k[1]=="function"&&k[1].apply(null)},function(R){typeof k[2]=="function"&&k[2].apply(null,[R])}):u.apply(this,arguments)}}),["getStats"].forEach(function(S){var u=b.prototype[S];b.prototype[S]=function(){var k=arguments;return typeof k[1]=="function"?u.apply(this,arguments).then(function(){typeof k[1]=="function"&&k[1].apply(null)}):u.apply(this,arguments)}}),b}},2281:function(ye){var Z={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};Z.localCName=Z.generateIdentifier(),Z.splitLines=function(P){return P.trim().split(`
`).map(function(x){return x.trim()})},Z.splitSections=function(P){return P.split(`
m=`).map(function(x,_){return(_>0?"m="+x:x).trim()+`\r
`})},Z.getDescription=function(P){var x=Z.splitSections(P);return x&&x[0]},Z.getMediaSections=function(P){var x=Z.splitSections(P);return x.shift(),x},Z.matchPrefix=function(P,x){return Z.splitLines(P).filter(function(_){return _.indexOf(x)===0})},Z.parseCandidate=function(P){for(var x,_={foundation:(x=P.indexOf("a=candidate:")===0?P.substring(12).split(" "):P.substring(10).split(" "))[0],component:parseInt(x[1],10),protocol:x[2].toLowerCase(),priority:parseInt(x[3],10),ip:x[4],address:x[4],port:parseInt(x[5],10),type:x[7]},g=8;g<x.length;g+=2)switch(x[g]){case"raddr":_.relatedAddress=x[g+1];break;case"rport":_.relatedPort=parseInt(x[g+1],10);break;case"tcptype":_.tcpType=x[g+1];break;case"ufrag":_.ufrag=x[g+1],_.usernameFragment=x[g+1];break;default:_[x[g]]=x[g+1]}return _},Z.writeCandidate=function(P){var x=[];x.push(P.foundation),x.push(P.component),x.push(P.protocol.toUpperCase()),x.push(P.priority),x.push(P.address||P.ip),x.push(P.port);var _=P.type;return x.push("typ"),x.push(_),_!=="host"&&P.relatedAddress&&P.relatedPort&&(x.push("raddr"),x.push(P.relatedAddress),x.push("rport"),x.push(P.relatedPort)),P.tcpType&&P.protocol.toLowerCase()==="tcp"&&(x.push("tcptype"),x.push(P.tcpType)),(P.usernameFragment||P.ufrag)&&(x.push("ufrag"),x.push(P.usernameFragment||P.ufrag)),"candidate:"+x.join(" ")},Z.parseIceOptions=function(P){return P.substr(14).split(" ")},Z.parseRtpMap=function(P){var x=P.substr(9).split(" "),_={payloadType:parseInt(x.shift(),10)};return x=x[0].split("/"),_.name=x[0],_.clockRate=parseInt(x[1],10),_.channels=x.length===3?parseInt(x[2],10):1,_.numChannels=_.channels,_},Z.writeRtpMap=function(P){var x=P.payloadType;P.preferredPayloadType!==void 0&&(x=P.preferredPayloadType);var _=P.channels||P.numChannels||1;return"a=rtpmap:"+x+" "+P.name+"/"+P.clockRate+(_!==1?"/"+_:"")+`\r
`},Z.parseExtmap=function(P){var x=P.substr(9).split(" ");return{id:parseInt(x[0],10),direction:x[0].indexOf("/")>0?x[0].split("/")[1]:"sendrecv",uri:x[1]}},Z.writeExtmap=function(P){return"a=extmap:"+(P.id||P.preferredId)+(P.direction&&P.direction!=="sendrecv"?"/"+P.direction:"")+" "+P.uri+`\r
`},Z.parseFmtp=function(P){for(var x,_={},g=P.substr(P.indexOf(" ")+1).split(";"),y=0;y<g.length;y++)_[(x=g[y].trim().split("="))[0].trim()]=x[1];return _},Z.writeFmtp=function(P){var x="",_=P.payloadType;if(P.preferredPayloadType!==void 0&&(_=P.preferredPayloadType),P.parameters&&Object.keys(P.parameters).length){var g=[];Object.keys(P.parameters).forEach(function(y){P.parameters[y]?g.push(y+"="+P.parameters[y]):g.push(y)}),x+="a=fmtp:"+_+" "+g.join(";")+`\r
`}return x},Z.parseRtcpFb=function(P){var x=P.substr(P.indexOf(" ")+1).split(" ");return{type:x.shift(),parameter:x.join(" ")}},Z.writeRtcpFb=function(P){var x="",_=P.payloadType;return P.preferredPayloadType!==void 0&&(_=P.preferredPayloadType),P.rtcpFeedback&&P.rtcpFeedback.length&&P.rtcpFeedback.forEach(function(g){x+="a=rtcp-fb:"+_+" "+g.type+(g.parameter&&g.parameter.length?" "+g.parameter:"")+`\r
`}),x},Z.parseSsrcMedia=function(P){var x=P.indexOf(" "),_={ssrc:parseInt(P.substr(7,x-7),10)},g=P.indexOf(":",x);return g>-1?(_.attribute=P.substr(x+1,g-x-1),_.value=P.substr(g+1)):_.attribute=P.substr(x+1),_},Z.parseSsrcGroup=function(P){var x=P.substr(13).split(" ");return{semantics:x.shift(),ssrcs:x.map(function(_){return parseInt(_,10)})}},Z.getMid=function(P){var x=Z.matchPrefix(P,"a=mid:")[0];if(x)return x.substr(6)},Z.parseFingerprint=function(P){var x=P.substr(14).split(" ");return{algorithm:x[0].toLowerCase(),value:x[1]}},Z.getDtlsParameters=function(P,x){return{role:"auto",fingerprints:Z.matchPrefix(P+x,"a=fingerprint:").map(Z.parseFingerprint)}},Z.writeDtlsParameters=function(P,x){var _="a=setup:"+x+`\r
`;return P.fingerprints.forEach(function(g){_+="a=fingerprint:"+g.algorithm+" "+g.value+`\r
`}),_},Z.parseCryptoLine=function(P){var x=P.substr(9).split(" ");return{tag:parseInt(x[0],10),cryptoSuite:x[1],keyParams:x[2],sessionParams:x.slice(3)}},Z.writeCryptoLine=function(P){return"a=crypto:"+P.tag+" "+P.cryptoSuite+" "+(typeof P.keyParams=="object"?Z.writeCryptoKeyParams(P.keyParams):P.keyParams)+(P.sessionParams?" "+P.sessionParams.join(" "):"")+`\r
`},Z.parseCryptoKeyParams=function(P){if(P.indexOf("inline:")!==0)return null;var x=P.substr(7).split("|");return{keyMethod:"inline",keySalt:x[0],lifeTime:x[1],mkiValue:x[2]?x[2].split(":")[0]:void 0,mkiLength:x[2]?x[2].split(":")[1]:void 0}},Z.writeCryptoKeyParams=function(P){return P.keyMethod+":"+P.keySalt+(P.lifeTime?"|"+P.lifeTime:"")+(P.mkiValue&&P.mkiLength?"|"+P.mkiValue+":"+P.mkiLength:"")},Z.getCryptoParameters=function(P,x){return Z.matchPrefix(P+x,"a=crypto:").map(Z.parseCryptoLine)},Z.getIceParameters=function(P,x){var _=Z.matchPrefix(P+x,"a=ice-ufrag:")[0],g=Z.matchPrefix(P+x,"a=ice-pwd:")[0];return _&&g?{usernameFragment:_.substr(12),password:g.substr(10)}:null},Z.writeIceParameters=function(P){return"a=ice-ufrag:"+P.usernameFragment+`\r
a=ice-pwd:`+P.password+`\r
`},Z.parseRtpParameters=function(P){for(var x={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},_=Z.splitLines(P)[0].split(" "),g=3;g<_.length;g++){var y=_[g],w=Z.matchPrefix(P,"a=rtpmap:"+y+" ")[0];if(w){var p=Z.parseRtpMap(w),l=Z.matchPrefix(P,"a=fmtp:"+y+" ");switch(p.parameters=l.length?Z.parseFmtp(l[0]):{},p.rtcpFeedback=Z.matchPrefix(P,"a=rtcp-fb:"+y+" ").map(Z.parseRtcpFb),x.codecs.push(p),p.name.toUpperCase()){case"RED":case"ULPFEC":x.fecMechanisms.push(p.name.toUpperCase())}}}return Z.matchPrefix(P,"a=extmap:").forEach(function(C){x.headerExtensions.push(Z.parseExtmap(C))}),x},Z.writeRtpDescription=function(P,x){var _="";_+="m="+P+" ",_+=x.codecs.length>0?"9":"0",_+=" UDP/TLS/RTP/SAVPF ",_+=x.codecs.map(function(y){return y.preferredPayloadType!==void 0?y.preferredPayloadType:y.payloadType}).join(" ")+`\r
`,_+=`c=IN IP4 0.0.0.0\r
`,_+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,x.codecs.forEach(function(y){_+=Z.writeRtpMap(y),_+=Z.writeFmtp(y),_+=Z.writeRtcpFb(y)});var g=0;return x.codecs.forEach(function(y){y.maxptime>g&&(g=y.maxptime)}),g>0&&(_+="a=maxptime:"+g+`\r
`),_+=`a=rtcp-mux\r
`,x.headerExtensions&&x.headerExtensions.forEach(function(y){_+=Z.writeExtmap(y)}),_},Z.parseRtpEncodingParameters=function(P){var x,_=[],g=Z.parseRtpParameters(P),y=g.fecMechanisms.indexOf("RED")!==-1,w=g.fecMechanisms.indexOf("ULPFEC")!==-1,p=Z.matchPrefix(P,"a=ssrc:").map(function(m){return Z.parseSsrcMedia(m)}).filter(function(m){return m.attribute==="cname"}),l=p.length>0&&p[0].ssrc,C=Z.matchPrefix(P,"a=ssrc-group:FID").map(function(m){return m.substr(17).split(" ").map(function(b){return parseInt(b,10)})});C.length>0&&C[0].length>1&&C[0][0]===l&&(x=C[0][1]),g.codecs.forEach(function(m){if(m.name.toUpperCase()==="RTX"&&m.parameters.apt){var b={ssrc:l,codecPayloadType:parseInt(m.parameters.apt,10)};l&&x&&(b.rtx={ssrc:x}),_.push(b),y&&((b=JSON.parse(JSON.stringify(b))).fec={ssrc:l,mechanism:w?"red+ulpfec":"red"},_.push(b))}}),_.length===0&&l&&_.push({ssrc:l});var W=Z.matchPrefix(P,"b=");return W.length&&(W=W[0].indexOf("b=TIAS:")===0?parseInt(W[0].substr(7),10):W[0].indexOf("b=AS:")===0?1e3*parseInt(W[0].substr(5),10)*.95-16e3:void 0,_.forEach(function(m){m.maxBitrate=W})),_},Z.parseRtcpParameters=function(P){var x={},_=Z.matchPrefix(P,"a=ssrc:").map(function(w){return Z.parseSsrcMedia(w)}).filter(function(w){return w.attribute==="cname"})[0];_&&(x.cname=_.value,x.ssrc=_.ssrc);var g=Z.matchPrefix(P,"a=rtcp-rsize");x.reducedSize=g.length>0,x.compound=g.length===0;var y=Z.matchPrefix(P,"a=rtcp-mux");return x.mux=y.length>0,x},Z.parseMsid=function(P){var x,_=Z.matchPrefix(P,"a=msid:");if(_.length===1)return{stream:(x=_[0].substr(7).split(" "))[0],track:x[1]};var g=Z.matchPrefix(P,"a=ssrc:").map(function(y){return Z.parseSsrcMedia(y)}).filter(function(y){return y.attribute==="msid"});return g.length>0?{stream:(x=g[0].value.split(" "))[0],track:x[1]}:void 0},Z.parseSctpDescription=function(P){var x,_=Z.parseMLine(P),g=Z.matchPrefix(P,"a=max-message-size:");g.length>0&&(x=parseInt(g[0].substr(19),10)),isNaN(x)&&(x=65536);var y=Z.matchPrefix(P,"a=sctp-port:");if(y.length>0)return{port:parseInt(y[0].substr(12),10),protocol:_.fmt,maxMessageSize:x};if(Z.matchPrefix(P,"a=sctpmap:").length>0){var w=Z.matchPrefix(P,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(w[0],10),protocol:w[1],maxMessageSize:x}}},Z.writeSctpDescription=function(P,x){var _=[];return _=P.protocol!=="DTLS/SCTP"?["m="+P.kind+" 9 "+P.protocol+" "+x.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+x.port+`\r
`]:["m="+P.kind+" 9 "+P.protocol+" "+x.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+x.port+" "+x.protocol+` 65535\r
`],x.maxMessageSize!==void 0&&_.push("a=max-message-size:"+x.maxMessageSize+`\r
`),_.join("")},Z.generateSessionId=function(){return Math.random().toString().substr(2,21)},Z.writeSessionBoilerplate=function(P,x,_){var g=x!==void 0?x:2;return`v=0\r
o=`+(_||"thisisadapterortc")+" "+(P||Z.generateSessionId())+" "+g+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},Z.writeMediaSection=function(P,x,_,g){var y=Z.writeRtpDescription(P.kind,x);if(y+=Z.writeIceParameters(P.iceGatherer.getLocalParameters()),y+=Z.writeDtlsParameters(P.dtlsTransport.getLocalParameters(),_==="offer"?"actpass":"active"),y+="a=mid:"+P.mid+`\r
`,P.direction?y+="a="+P.direction+`\r
`:P.rtpSender&&P.rtpReceiver?y+=`a=sendrecv\r
`:P.rtpSender?y+=`a=sendonly\r
`:P.rtpReceiver?y+=`a=recvonly\r
`:y+=`a=inactive\r
`,P.rtpSender){var w="msid:"+g.id+" "+P.rtpSender.track.id+`\r
`;y+="a="+w,y+="a=ssrc:"+P.sendEncodingParameters[0].ssrc+" "+w,P.sendEncodingParameters[0].rtx&&(y+="a=ssrc:"+P.sendEncodingParameters[0].rtx.ssrc+" "+w,y+="a=ssrc-group:FID "+P.sendEncodingParameters[0].ssrc+" "+P.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return y+="a=ssrc:"+P.sendEncodingParameters[0].ssrc+" cname:"+Z.localCName+`\r
`,P.rtpSender&&P.sendEncodingParameters[0].rtx&&(y+="a=ssrc:"+P.sendEncodingParameters[0].rtx.ssrc+" cname:"+Z.localCName+`\r
`),y},Z.getDirection=function(P,x){for(var _=Z.splitLines(P),g=0;g<_.length;g++)switch(_[g]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return _[g].substr(2)}return x?Z.getDirection(x):"sendrecv"},Z.getKind=function(P){return Z.splitLines(P)[0].split(" ")[0].substr(2)},Z.isRejected=function(P){return P.split(" ",2)[1]==="0"},Z.parseMLine=function(P){var x=Z.splitLines(P)[0].substr(2).split(" ");return{kind:x[0],port:parseInt(x[1],10),protocol:x[2],fmt:x.slice(3).join(" ")}},Z.parseOLine=function(P){var x=Z.matchPrefix(P,"o=")[0].substr(2).split(" ");return{username:x[0],sessionId:x[1],sessionVersion:parseInt(x[2],10),netType:x[3],addressType:x[4],address:x[5]}},Z.isValidSDP=function(P){if(typeof P!="string"||P.length===0)return!1;for(var x=Z.splitLines(P),_=0;_<x.length;_++)if(x[_].length<2||x[_].charAt(1)!=="=")return!1;return!0},ye.exports=Z},4661:function(ye){var Z;Z=()=>(()=>{var P={276:y=>{var w,p=(w=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0,function(l){var C,W,m=(l=l||{})!==void 0?l:{};m.ready=new Promise(function(h,E){C=h,W=E});var b,F={};for(b in m)m.hasOwnProperty(b)&&(F[b]=m[b]);var S,u,k="./this.program",R=function(h,E){throw E},K="";typeof document!="undefined"&&document.currentScript&&(K=document.currentScript.src),w&&(K=w),K=K.indexOf("blob:")!==0?K.substr(0,K.lastIndexOf("/")+1):"",S=function(h){var E=new XMLHttpRequest;return E.open("GET",h,!1),E.send(null),E.responseText},u=function(h,E,U){var L=new XMLHttpRequest;L.open("GET",h,!0),L.responseType="arraybuffer",L.onload=function(){L.status==200||L.status==0&&L.response?E(L.response):U()},L.onerror=U,L.send(null)};var ae,Y=m.print||console.log.bind(console),oe=m.printErr||console.warn.bind(console);for(b in F)F.hasOwnProperty(b)&&(m[b]=F[b]);F=null,m.arguments&&m.arguments,m.thisProgram&&(k=m.thisProgram),m.quit&&(R=m.quit),m.wasmBinary&&(ae=m.wasmBinary);var le,Ee=m.noExitRuntime||!0;typeof WebAssembly!="object"&&Ze("no native wasm support detected");var me,Oe,Ke,Pe,we=!1,yt=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function Pt(h,E,U){for(var L=E+U,H=E;h[H]&&!(H>=L);)++H;if(H-E>16&&h.subarray&&yt)return yt.decode(h.subarray(E,H));for(var ie="";E<H;){var J=h[E++];if(128&J){var ke=63&h[E++];if((224&J)!=192){var De=63&h[E++];if((J=(240&J)==224?(15&J)<<12|ke<<6|De:(7&J)<<18|ke<<12|De<<6|63&h[E++])<65536)ie+=String.fromCharCode(J);else{var Ye=J-65536;ie+=String.fromCharCode(55296|Ye>>10,56320|1023&Ye)}}else ie+=String.fromCharCode((31&J)<<6|ke)}else ie+=String.fromCharCode(J)}return ie}function Mt(h,E){return h?Pt(Ke,h,E):""}function rt(h,E,U,L){if(!(L>0))return 0;for(var H=U,ie=U+L-1,J=0;J<h.length;++J){var ke=h.charCodeAt(J);if(ke>=55296&&ke<=57343&&(ke=65536+((1023&ke)<<10)|1023&h.charCodeAt(++J)),ke<=127){if(U>=ie)break;E[U++]=ke}else if(ke<=2047){if(U+1>=ie)break;E[U++]=192|ke>>6,E[U++]=128|63&ke}else if(ke<=65535){if(U+2>=ie)break;E[U++]=224|ke>>12,E[U++]=128|ke>>6&63,E[U++]=128|63&ke}else{if(U+3>=ie)break;E[U++]=240|ke>>18,E[U++]=128|ke>>12&63,E[U++]=128|ke>>6&63,E[U++]=128|63&ke}}return E[U]=0,U-H}function Rt(h){for(var E=0,U=0;U<h.length;++U){var L=h.charCodeAt(U);L>=55296&&L<=57343&&(L=65536+((1023&L)<<10)|1023&h.charCodeAt(++U)),L<=127?++E:E+=L<=2047?2:L<=65535?3:4}return E}function Kt(h){me=h,m.HEAP8=Oe=new Int8Array(h),m.HEAP16=new Int16Array(h),m.HEAP32=Pe=new Int32Array(h),m.HEAPU8=Ke=new Uint8Array(h),m.HEAPU16=new Uint16Array(h),m.HEAPU32=new Uint32Array(h),m.HEAPF32=new Float32Array(h),m.HEAPF64=new Float64Array(h)}m.INITIAL_MEMORY;var Wt,Be=[],yi=[],Et=[];function gn(){return Ee||!1}var Ie,pe,ge,Ce,Ae,ut=0,it=null;function et(h){ut++,m.monitorRunDependencies&&m.monitorRunDependencies(ut)}function bt(h){if(ut--,m.monitorRunDependencies&&m.monitorRunDependencies(ut),ut==0&&it){var E=it;it=null,E()}}function Ze(h){m.onAbort&&m.onAbort(h),oe(h+=""),we=!0,h="abort("+h+"). Build with -s ASSERTIONS=1 for more info.";var E=new WebAssembly.RuntimeError(h);throw W(E),E}function _t(h){return h.startsWith("data:application/octet-stream;base64,")}function vn(h){try{if(h==Ie&&ae)return new Uint8Array(ae);throw"both async and sync fetching of the wasm failed"}catch(E){Ze(E)}}function Jt(h){for(;h.length>0;){var E=h.shift();if(typeof E!="function"){var U=E.func;typeof U=="number"?E.arg===void 0?Wt.get(U)():Wt.get(U)(E.arg):U(E.arg===void 0?null:E.arg)}else E(m)}}function Lt(h){this.excPtr=h,this.ptr=h-16,this.set_type=function(E){Pe[this.ptr+4>>2]=E},this.get_type=function(){return Pe[this.ptr+4>>2]},this.set_destructor=function(E){Pe[this.ptr+8>>2]=E},this.get_destructor=function(){return Pe[this.ptr+8>>2]},this.set_refcount=function(E){Pe[this.ptr>>2]=E},this.set_caught=function(E){E=E?1:0,Oe[this.ptr+12>>0]=E},this.get_caught=function(){return Oe[this.ptr+12>>0]!=0},this.set_rethrown=function(E){E=E?1:0,Oe[this.ptr+13>>0]=E},this.get_rethrown=function(){return Oe[this.ptr+13>>0]!=0},this.init=function(E,U){this.set_type(E),this.set_destructor(U),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var E=Pe[this.ptr>>2];Pe[this.ptr>>2]=E+1},this.release_ref=function(){var E=Pe[this.ptr>>2];return Pe[this.ptr>>2]=E-1,E===1}}function yn(h){try{return le.grow(h-me.byteLength+65535>>>16),Kt(le.buffer),1}catch{}}m.preloadedImages={},m.preloadedAudios={},_t(Ie="vsl_impl.wasm")||(pe=Ie,Ie=m.locateFile?m.locateFile(pe,K):K+pe),Ae=function(){return performance.now()};var lt={};function kn(){if(!kn.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:k||"./this.program"};for(var E in lt)lt[E]===void 0?delete h[E]:h[E]=lt[E];var U=[];for(var E in h)U.push(E+"="+h[E]);kn.strings=U}return kn.strings}var st={splitPath:function(h){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1)},normalizeArray:function(h,E){for(var U=0,L=h.length-1;L>=0;L--){var H=h[L];H==="."?h.splice(L,1):H===".."?(h.splice(L,1),U++):U&&(h.splice(L,1),U--)}if(E)for(;U;U--)h.unshift("..");return h},normalize:function(h){var E=h.charAt(0)==="/",U=h.substr(-1)==="/";return(h=st.normalizeArray(h.split("/").filter(function(L){return!!L}),!E).join("/"))||E||(h="."),h&&U&&(h+="/"),(E?"/":"")+h},dirname:function(h){var E=st.splitPath(h),U=E[0],L=E[1];return U||L?(L&&(L=L.substr(0,L.length-1)),U+L):"."},basename:function(h){if(h==="/")return"/";var E=(h=(h=st.normalize(h)).replace(/\/$/,"")).lastIndexOf("/");return E===-1?h:h.substr(E+1)},extname:function(h){return st.splitPath(h)[3]},join:function(){var h=Array.prototype.slice.call(arguments,0);return st.normalize(h.join("/"))},join2:function(h,E){return st.normalize(h+"/"+E)}},Ln={resolve:function(){for(var h="",E=!1,U=arguments.length-1;U>=-1&&!E;U--){var L=U>=0?arguments[U]:z.cwd();if(typeof L!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!L)return"";h=L+"/"+h,E=L.charAt(0)==="/"}return(E?"/":"")+(h=st.normalizeArray(h.split("/").filter(function(H){return!!H}),!E).join("/"))||"."},relative:function(h,E){function U(Ye){for(var dt=0;dt<Ye.length&&Ye[dt]==="";dt++);for(var wt=Ye.length-1;wt>=0&&Ye[wt]==="";wt--);return dt>wt?[]:Ye.slice(dt,wt-dt+1)}h=Ln.resolve(h).substr(1),E=Ln.resolve(E).substr(1);for(var L=U(h.split("/")),H=U(E.split("/")),ie=Math.min(L.length,H.length),J=ie,ke=0;ke<ie;ke++)if(L[ke]!==H[ke]){J=ke;break}var De=[];for(ke=J;ke<L.length;ke++)De.push("..");return(De=De.concat(H.slice(J))).join("/")}},Rn={ttys:[],init:function(){},shutdown:function(){},register:function(h,E){Rn.ttys[h]={input:[],output:[],ops:E},z.registerDevice(h,Rn.stream_ops)},stream_ops:{open:function(h){var E=Rn.ttys[h.node.rdev];if(!E)throw new z.ErrnoError(43);h.tty=E,h.seekable=!1},close:function(h){h.tty.ops.flush(h.tty)},flush:function(h){h.tty.ops.flush(h.tty)},read:function(h,E,U,L,H){if(!h.tty||!h.tty.ops.get_char)throw new z.ErrnoError(60);for(var ie=0,J=0;J<L;J++){var ke;try{ke=h.tty.ops.get_char(h.tty)}catch{throw new z.ErrnoError(29)}if(ke===void 0&&ie===0)throw new z.ErrnoError(6);if(ke==null)break;ie++,E[U+J]=ke}return ie&&(h.node.timestamp=Date.now()),ie},write:function(h,E,U,L,H){if(!h.tty||!h.tty.ops.put_char)throw new z.ErrnoError(60);try{for(var ie=0;ie<L;ie++)h.tty.ops.put_char(h.tty,E[U+ie])}catch{throw new z.ErrnoError(29)}return L&&(h.node.timestamp=Date.now()),ie}},default_tty_ops:{get_char:function(h){if(!h.input.length){var E=null;if(typeof window!="undefined"&&typeof window.prompt=="function"?(E=window.prompt("Input: "))!==null&&(E+=`
`):typeof readline=="function"&&(E=readline())!==null&&(E+=`
`),!E)return null;h.input=Si(E,!0)}return h.input.shift()},put_char:function(h,E){E===null||E===10?(Y(Pt(h.output,0)),h.output=[]):E!=0&&h.output.push(E)},flush:function(h){h.output&&h.output.length>0&&(Y(Pt(h.output,0)),h.output=[])}},default_tty1_ops:{put_char:function(h,E){E===null||E===10?(oe(Pt(h.output,0)),h.output=[]):E!=0&&h.output.push(E)},flush:function(h){h.output&&h.output.length>0&&(oe(Pt(h.output,0)),h.output=[])}}},Ct={ops_table:null,mount:function(h){return Ct.createNode(null,"/",16895,0)},createNode:function(h,E,U,L){if(z.isBlkdev(U)||z.isFIFO(U))throw new z.ErrnoError(63);Ct.ops_table||(Ct.ops_table={dir:{node:{getattr:Ct.node_ops.getattr,setattr:Ct.node_ops.setattr,lookup:Ct.node_ops.lookup,mknod:Ct.node_ops.mknod,rename:Ct.node_ops.rename,unlink:Ct.node_ops.unlink,rmdir:Ct.node_ops.rmdir,readdir:Ct.node_ops.readdir,symlink:Ct.node_ops.symlink},stream:{llseek:Ct.stream_ops.llseek}},file:{node:{getattr:Ct.node_ops.getattr,setattr:Ct.node_ops.setattr},stream:{llseek:Ct.stream_ops.llseek,read:Ct.stream_ops.read,write:Ct.stream_ops.write,allocate:Ct.stream_ops.allocate,mmap:Ct.stream_ops.mmap,msync:Ct.stream_ops.msync}},link:{node:{getattr:Ct.node_ops.getattr,setattr:Ct.node_ops.setattr,readlink:Ct.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ct.node_ops.getattr,setattr:Ct.node_ops.setattr},stream:z.chrdev_stream_ops}});var H=z.createNode(h,E,U,L);return z.isDir(H.mode)?(H.node_ops=Ct.ops_table.dir.node,H.stream_ops=Ct.ops_table.dir.stream,H.contents={}):z.isFile(H.mode)?(H.node_ops=Ct.ops_table.file.node,H.stream_ops=Ct.ops_table.file.stream,H.usedBytes=0,H.contents=null):z.isLink(H.mode)?(H.node_ops=Ct.ops_table.link.node,H.stream_ops=Ct.ops_table.link.stream):z.isChrdev(H.mode)&&(H.node_ops=Ct.ops_table.chrdev.node,H.stream_ops=Ct.ops_table.chrdev.stream),H.timestamp=Date.now(),h&&(h.contents[E]=H,h.timestamp=H.timestamp),H},getFileDataAsTypedArray:function(h){return h.contents?h.contents.subarray?h.contents.subarray(0,h.usedBytes):new Uint8Array(h.contents):new Uint8Array(0)},expandFileStorage:function(h,E){var U=h.contents?h.contents.length:0;if(!(U>=E)){E=Math.max(E,U*(U<1048576?2:1.125)>>>0),U!=0&&(E=Math.max(E,256));var L=h.contents;h.contents=new Uint8Array(E),h.usedBytes>0&&h.contents.set(L.subarray(0,h.usedBytes),0)}},resizeFileStorage:function(h,E){if(h.usedBytes!=E)if(E==0)h.contents=null,h.usedBytes=0;else{var U=h.contents;h.contents=new Uint8Array(E),U&&h.contents.set(U.subarray(0,Math.min(E,h.usedBytes))),h.usedBytes=E}},node_ops:{getattr:function(h){var E={};return E.dev=z.isChrdev(h.mode)?h.id:1,E.ino=h.id,E.mode=h.mode,E.nlink=1,E.uid=0,E.gid=0,E.rdev=h.rdev,z.isDir(h.mode)?E.size=4096:z.isFile(h.mode)?E.size=h.usedBytes:z.isLink(h.mode)?E.size=h.link.length:E.size=0,E.atime=new Date(h.timestamp),E.mtime=new Date(h.timestamp),E.ctime=new Date(h.timestamp),E.blksize=4096,E.blocks=Math.ceil(E.size/E.blksize),E},setattr:function(h,E){E.mode!==void 0&&(h.mode=E.mode),E.timestamp!==void 0&&(h.timestamp=E.timestamp),E.size!==void 0&&Ct.resizeFileStorage(h,E.size)},lookup:function(h,E){throw z.genericErrors[44]},mknod:function(h,E,U,L){return Ct.createNode(h,E,U,L)},rename:function(h,E,U){if(z.isDir(h.mode)){var L;try{L=z.lookupNode(E,U)}catch{}if(L)for(var H in L.contents)throw new z.ErrnoError(55)}delete h.parent.contents[h.name],h.parent.timestamp=Date.now(),h.name=U,E.contents[U]=h,E.timestamp=h.parent.timestamp,h.parent=E},unlink:function(h,E){delete h.contents[E],h.timestamp=Date.now()},rmdir:function(h,E){var U=z.lookupNode(h,E);for(var L in U.contents)throw new z.ErrnoError(55);delete h.contents[E],h.timestamp=Date.now()},readdir:function(h){var E=[".",".."];for(var U in h.contents)h.contents.hasOwnProperty(U)&&E.push(U);return E},symlink:function(h,E,U){var L=Ct.createNode(h,E,41471,0);return L.link=U,L},readlink:function(h){if(!z.isLink(h.mode))throw new z.ErrnoError(28);return h.link}},stream_ops:{read:function(h,E,U,L,H){var ie=h.node.contents;if(H>=h.node.usedBytes)return 0;var J=Math.min(h.node.usedBytes-H,L);if(J>8&&ie.subarray)E.set(ie.subarray(H,H+J),U);else for(var ke=0;ke<J;ke++)E[U+ke]=ie[H+ke];return J},write:function(h,E,U,L,H,ie){if(E.buffer===Oe.buffer&&(ie=!1),!L)return 0;var J=h.node;if(J.timestamp=Date.now(),E.subarray&&(!J.contents||J.contents.subarray)){if(ie)return J.contents=E.subarray(U,U+L),J.usedBytes=L,L;if(J.usedBytes===0&&H===0)return J.contents=E.slice(U,U+L),J.usedBytes=L,L;if(H+L<=J.usedBytes)return J.contents.set(E.subarray(U,U+L),H),L}if(Ct.expandFileStorage(J,H+L),J.contents.subarray&&E.subarray)J.contents.set(E.subarray(U,U+L),H);else for(var ke=0;ke<L;ke++)J.contents[H+ke]=E[U+ke];return J.usedBytes=Math.max(J.usedBytes,H+L),L},llseek:function(h,E,U){var L=E;if(U===1?L+=h.position:U===2&&z.isFile(h.node.mode)&&(L+=h.node.usedBytes),L<0)throw new z.ErrnoError(28);return L},allocate:function(h,E,U){Ct.expandFileStorage(h.node,E+U),h.node.usedBytes=Math.max(h.node.usedBytes,E+U)},mmap:function(h,E,U,L,H,ie){if(E!==0)throw new z.ErrnoError(28);if(!z.isFile(h.node.mode))throw new z.ErrnoError(43);var J,ke,De=h.node.contents;if(2&ie||De.buffer!==me){if((L>0||L+U<De.length)&&(De=De.subarray?De.subarray(L,L+U):Array.prototype.slice.call(De,L,L+U)),ke=!0,!(J=function(Ye){Ye=function(wt,ot){return 65536*Math.ceil(wt/65536)}(Ye);var dt=fi(65536,Ye);return dt?(function(wt,ot){Ke.fill(0,wt,wt+ot)}(dt,Ye),dt):0}(U)))throw new z.ErrnoError(48);Oe.set(De,J)}else ke=!1,J=De.byteOffset;return{ptr:J,allocated:ke}},msync:function(h,E,U,L,H){if(!z.isFile(h.node.mode))throw new z.ErrnoError(43);return 2&H||Ct.stream_ops.write(h,E,0,L,U,!1),0}}},z={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(h,E){if(E=E||{},!(h=Ln.resolve(z.cwd(),h)))return{path:"",node:null};var U={follow_mount:!0,recurse_count:0};for(var L in U)E[L]===void 0&&(E[L]=U[L]);if(E.recurse_count>8)throw new z.ErrnoError(32);for(var H=st.normalizeArray(h.split("/").filter(function(wt){return!!wt}),!1),ie=z.root,J="/",ke=0;ke<H.length;ke++){var De=ke===H.length-1;if(De&&E.parent)break;if(ie=z.lookupNode(ie,H[ke]),J=st.join2(J,H[ke]),z.isMountpoint(ie)&&(!De||De&&E.follow_mount)&&(ie=ie.mounted.root),!De||E.follow)for(var Ye=0;z.isLink(ie.mode);){var dt=z.readlink(J);if(J=Ln.resolve(st.dirname(J),dt),ie=z.lookupPath(J,{recurse_count:E.recurse_count}).node,Ye++>40)throw new z.ErrnoError(32)}}return{path:J,node:ie}},getPath:function(h){for(var E;;){if(z.isRoot(h)){var U=h.mount.mountpoint;return E?U[U.length-1]!=="/"?U+"/"+E:U+E:U}E=E?h.name+"/"+E:h.name,h=h.parent}},hashName:function(h,E){for(var U=0,L=0;L<E.length;L++)U=(U<<5)-U+E.charCodeAt(L)|0;return(h+U>>>0)%z.nameTable.length},hashAddNode:function(h){var E=z.hashName(h.parent.id,h.name);h.name_next=z.nameTable[E],z.nameTable[E]=h},hashRemoveNode:function(h){var E=z.hashName(h.parent.id,h.name);if(z.nameTable[E]===h)z.nameTable[E]=h.name_next;else for(var U=z.nameTable[E];U;){if(U.name_next===h){U.name_next=h.name_next;break}U=U.name_next}},lookupNode:function(h,E){var U=z.mayLookup(h);if(U)throw new z.ErrnoError(U,h);for(var L=z.hashName(h.id,E),H=z.nameTable[L];H;H=H.name_next){var ie=H.name;if(H.parent.id===h.id&&ie===E)return H}return z.lookup(h,E)},createNode:function(h,E,U,L){var H=new z.FSNode(h,E,U,L);return z.hashAddNode(H),H},destroyNode:function(h){z.hashRemoveNode(h)},isRoot:function(h){return h===h.parent},isMountpoint:function(h){return!!h.mounted},isFile:function(h){return(61440&h)==32768},isDir:function(h){return(61440&h)==16384},isLink:function(h){return(61440&h)==40960},isChrdev:function(h){return(61440&h)==8192},isBlkdev:function(h){return(61440&h)==24576},isFIFO:function(h){return(61440&h)==4096},isSocket:function(h){return(49152&h)==49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(h){var E=z.flagModes[h];if(E===void 0)throw new Error("Unknown file open mode: "+h);return E},flagsToPermissionString:function(h){var E=["r","w","rw"][3&h];return 512&h&&(E+="w"),E},nodePermissions:function(h,E){return z.ignorePermissions||(!E.includes("r")||292&h.mode)&&(!E.includes("w")||146&h.mode)&&(!E.includes("x")||73&h.mode)?0:2},mayLookup:function(h){return z.nodePermissions(h,"x")||(h.node_ops.lookup?0:2)},mayCreate:function(h,E){try{return z.lookupNode(h,E),20}catch{}return z.nodePermissions(h,"wx")},mayDelete:function(h,E,U){var L;try{L=z.lookupNode(h,E)}catch(ie){return ie.errno}var H=z.nodePermissions(h,"wx");if(H)return H;if(U){if(!z.isDir(L.mode))return 54;if(z.isRoot(L)||z.getPath(L)===z.cwd())return 10}else if(z.isDir(L.mode))return 31;return 0},mayOpen:function(h,E){return h?z.isLink(h.mode)?32:z.isDir(h.mode)&&(z.flagsToPermissionString(E)!=="r"||512&E)?31:z.nodePermissions(h,z.flagsToPermissionString(E)):44},MAX_OPEN_FDS:4096,nextfd:function(h,E){h=h||0,E=E||z.MAX_OPEN_FDS;for(var U=h;U<=E;U++)if(!z.streams[U])return U;throw new z.ErrnoError(33)},getStream:function(h){return z.streams[h]},createStream:function(h,E,U){z.FSStream||(z.FSStream=function(){},z.FSStream.prototype={object:{get:function(){return this.node},set:function(J){this.node=J}},isRead:{get:function(){return(2097155&this.flags)!=1}},isWrite:{get:function(){return(2097155&this.flags)!=0}},isAppend:{get:function(){return 1024&this.flags}}});var L=new z.FSStream;for(var H in h)L[H]=h[H];h=L;var ie=z.nextfd(E,U);return h.fd=ie,z.streams[ie]=h,h},closeStream:function(h){z.streams[h]=null},chrdev_stream_ops:{open:function(h){var E=z.getDevice(h.node.rdev);h.stream_ops=E.stream_ops,h.stream_ops.open&&h.stream_ops.open(h)},llseek:function(){throw new z.ErrnoError(70)}},major:function(h){return h>>8},minor:function(h){return 255&h},makedev:function(h,E){return h<<8|E},registerDevice:function(h,E){z.devices[h]={stream_ops:E}},getDevice:function(h){return z.devices[h]},getMounts:function(h){for(var E=[],U=[h];U.length;){var L=U.pop();E.push(L),U.push.apply(U,L.mounts)}return E},syncfs:function(h,E){typeof h=="function"&&(E=h,h=!1),z.syncFSRequests++,z.syncFSRequests>1&&oe("warning: "+z.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var U=z.getMounts(z.root.mount),L=0;function H(J){return z.syncFSRequests--,E(J)}function ie(J){if(J)return ie.errored?void 0:(ie.errored=!0,H(J));++L>=U.length&&H(null)}U.forEach(function(J){if(!J.type.syncfs)return ie(null);J.type.syncfs(J,h,ie)})},mount:function(h,E,U){var L,H=U==="/",ie=!U;if(H&&z.root)throw new z.ErrnoError(10);if(!H&&!ie){var J=z.lookupPath(U,{follow_mount:!1});if(U=J.path,L=J.node,z.isMountpoint(L))throw new z.ErrnoError(10);if(!z.isDir(L.mode))throw new z.ErrnoError(54)}var ke={type:h,opts:E,mountpoint:U,mounts:[]},De=h.mount(ke);return De.mount=ke,ke.root=De,H?z.root=De:L&&(L.mounted=ke,L.mount&&L.mount.mounts.push(ke)),De},unmount:function(h){var E=z.lookupPath(h,{follow_mount:!1});if(!z.isMountpoint(E.node))throw new z.ErrnoError(28);var U=E.node,L=U.mounted,H=z.getMounts(L);Object.keys(z.nameTable).forEach(function(J){for(var ke=z.nameTable[J];ke;){var De=ke.name_next;H.includes(ke.mount)&&z.destroyNode(ke),ke=De}}),U.mounted=null;var ie=U.mount.mounts.indexOf(L);U.mount.mounts.splice(ie,1)},lookup:function(h,E){return h.node_ops.lookup(h,E)},mknod:function(h,E,U){var L=z.lookupPath(h,{parent:!0}).node,H=st.basename(h);if(!H||H==="."||H==="..")throw new z.ErrnoError(28);var ie=z.mayCreate(L,H);if(ie)throw new z.ErrnoError(ie);if(!L.node_ops.mknod)throw new z.ErrnoError(63);return L.node_ops.mknod(L,H,E,U)},create:function(h,E){return E=E!==void 0?E:438,E&=4095,E|=32768,z.mknod(h,E,0)},mkdir:function(h,E){return E=E!==void 0?E:511,E&=1023,E|=16384,z.mknod(h,E,0)},mkdirTree:function(h,E){for(var U=h.split("/"),L="",H=0;H<U.length;++H)if(U[H]){L+="/"+U[H];try{z.mkdir(L,E)}catch(ie){if(ie.errno!=20)throw ie}}},mkdev:function(h,E,U){return U===void 0&&(U=E,E=438),E|=8192,z.mknod(h,E,U)},symlink:function(h,E){if(!Ln.resolve(h))throw new z.ErrnoError(44);var U=z.lookupPath(E,{parent:!0}).node;if(!U)throw new z.ErrnoError(44);var L=st.basename(E),H=z.mayCreate(U,L);if(H)throw new z.ErrnoError(H);if(!U.node_ops.symlink)throw new z.ErrnoError(63);return U.node_ops.symlink(U,L,h)},rename:function(h,E){var U,L,H=st.dirname(h),ie=st.dirname(E),J=st.basename(h),ke=st.basename(E);if(U=z.lookupPath(h,{parent:!0}).node,L=z.lookupPath(E,{parent:!0}).node,!U||!L)throw new z.ErrnoError(44);if(U.mount!==L.mount)throw new z.ErrnoError(75);var De,Ye=z.lookupNode(U,J),dt=Ln.relative(h,ie);if(dt.charAt(0)!==".")throw new z.ErrnoError(28);if((dt=Ln.relative(E,H)).charAt(0)!==".")throw new z.ErrnoError(55);try{De=z.lookupNode(L,ke)}catch{}if(Ye!==De){var wt=z.isDir(Ye.mode),ot=z.mayDelete(U,J,wt);if(ot)throw new z.ErrnoError(ot);if(ot=De?z.mayDelete(L,ke,wt):z.mayCreate(L,ke))throw new z.ErrnoError(ot);if(!U.node_ops.rename)throw new z.ErrnoError(63);if(z.isMountpoint(Ye)||De&&z.isMountpoint(De))throw new z.ErrnoError(10);if(L!==U&&(ot=z.nodePermissions(U,"w")))throw new z.ErrnoError(ot);try{z.trackingDelegate.willMovePath&&z.trackingDelegate.willMovePath(h,E)}catch(ct){oe("FS.trackingDelegate['willMovePath']('"+h+"', '"+E+"') threw an exception: "+ct.message)}z.hashRemoveNode(Ye);try{U.node_ops.rename(Ye,L,ke)}catch(ct){throw ct}finally{z.hashAddNode(Ye)}try{z.trackingDelegate.onMovePath&&z.trackingDelegate.onMovePath(h,E)}catch(ct){oe("FS.trackingDelegate['onMovePath']('"+h+"', '"+E+"') threw an exception: "+ct.message)}}},rmdir:function(h){var E=z.lookupPath(h,{parent:!0}).node,U=st.basename(h),L=z.lookupNode(E,U),H=z.mayDelete(E,U,!0);if(H)throw new z.ErrnoError(H);if(!E.node_ops.rmdir)throw new z.ErrnoError(63);if(z.isMountpoint(L))throw new z.ErrnoError(10);try{z.trackingDelegate.willDeletePath&&z.trackingDelegate.willDeletePath(h)}catch(ie){oe("FS.trackingDelegate['willDeletePath']('"+h+"') threw an exception: "+ie.message)}E.node_ops.rmdir(E,U),z.destroyNode(L);try{z.trackingDelegate.onDeletePath&&z.trackingDelegate.onDeletePath(h)}catch(ie){oe("FS.trackingDelegate['onDeletePath']('"+h+"') threw an exception: "+ie.message)}},readdir:function(h){var E=z.lookupPath(h,{follow:!0}).node;if(!E.node_ops.readdir)throw new z.ErrnoError(54);return E.node_ops.readdir(E)},unlink:function(h){var E=z.lookupPath(h,{parent:!0}).node,U=st.basename(h),L=z.lookupNode(E,U),H=z.mayDelete(E,U,!1);if(H)throw new z.ErrnoError(H);if(!E.node_ops.unlink)throw new z.ErrnoError(63);if(z.isMountpoint(L))throw new z.ErrnoError(10);try{z.trackingDelegate.willDeletePath&&z.trackingDelegate.willDeletePath(h)}catch(ie){oe("FS.trackingDelegate['willDeletePath']('"+h+"') threw an exception: "+ie.message)}E.node_ops.unlink(E,U),z.destroyNode(L);try{z.trackingDelegate.onDeletePath&&z.trackingDelegate.onDeletePath(h)}catch(ie){oe("FS.trackingDelegate['onDeletePath']('"+h+"') threw an exception: "+ie.message)}},readlink:function(h){var E=z.lookupPath(h).node;if(!E)throw new z.ErrnoError(44);if(!E.node_ops.readlink)throw new z.ErrnoError(28);return Ln.resolve(z.getPath(E.parent),E.node_ops.readlink(E))},stat:function(h,E){var U=z.lookupPath(h,{follow:!E}).node;if(!U)throw new z.ErrnoError(44);if(!U.node_ops.getattr)throw new z.ErrnoError(63);return U.node_ops.getattr(U)},lstat:function(h){return z.stat(h,!0)},chmod:function(h,E,U){var L;if(!(L=typeof h=="string"?z.lookupPath(h,{follow:!U}).node:h).node_ops.setattr)throw new z.ErrnoError(63);L.node_ops.setattr(L,{mode:4095&E|-4096&L.mode,timestamp:Date.now()})},lchmod:function(h,E){z.chmod(h,E,!0)},fchmod:function(h,E){var U=z.getStream(h);if(!U)throw new z.ErrnoError(8);z.chmod(U.node,E)},chown:function(h,E,U,L){var H;if(!(H=typeof h=="string"?z.lookupPath(h,{follow:!L}).node:h).node_ops.setattr)throw new z.ErrnoError(63);H.node_ops.setattr(H,{timestamp:Date.now()})},lchown:function(h,E,U){z.chown(h,E,U,!0)},fchown:function(h,E,U){var L=z.getStream(h);if(!L)throw new z.ErrnoError(8);z.chown(L.node,E,U)},truncate:function(h,E){if(E<0)throw new z.ErrnoError(28);var U;if(!(U=typeof h=="string"?z.lookupPath(h,{follow:!0}).node:h).node_ops.setattr)throw new z.ErrnoError(63);if(z.isDir(U.mode))throw new z.ErrnoError(31);if(!z.isFile(U.mode))throw new z.ErrnoError(28);var L=z.nodePermissions(U,"w");if(L)throw new z.ErrnoError(L);U.node_ops.setattr(U,{size:E,timestamp:Date.now()})},ftruncate:function(h,E){var U=z.getStream(h);if(!U)throw new z.ErrnoError(8);if((2097155&U.flags)==0)throw new z.ErrnoError(28);z.truncate(U.node,E)},utime:function(h,E,U){var L=z.lookupPath(h,{follow:!0}).node;L.node_ops.setattr(L,{timestamp:Math.max(E,U)})},open:function(h,E,U,L,H){if(h==="")throw new z.ErrnoError(44);var ie;if(U=U===void 0?438:U,U=64&(E=typeof E=="string"?z.modeStringToFlags(E):E)?4095&U|32768:0,typeof h=="object")ie=h;else{h=st.normalize(h);try{ie=z.lookupPath(h,{follow:!(131072&E)}).node}catch{}}var J=!1;if(64&E)if(ie){if(128&E)throw new z.ErrnoError(20)}else ie=z.mknod(h,U,0),J=!0;if(!ie)throw new z.ErrnoError(44);if(z.isChrdev(ie.mode)&&(E&=-513),65536&E&&!z.isDir(ie.mode))throw new z.ErrnoError(54);if(!J){var ke=z.mayOpen(ie,E);if(ke)throw new z.ErrnoError(ke)}512&E&&z.truncate(ie,0),E&=-131713;var De=z.createStream({node:ie,path:z.getPath(ie),flags:E,seekable:!0,position:0,stream_ops:ie.stream_ops,ungotten:[],error:!1},L,H);De.stream_ops.open&&De.stream_ops.open(De),!m.logReadFiles||1&E||(z.readFiles||(z.readFiles={}),h in z.readFiles||(z.readFiles[h]=1,oe("FS.trackingDelegate error on read file: "+h)));try{if(z.trackingDelegate.onOpenFile){var Ye=0;(2097155&E)!=1&&(Ye|=z.tracking.openFlags.READ),(2097155&E)!=0&&(Ye|=z.tracking.openFlags.WRITE),z.trackingDelegate.onOpenFile(h,Ye)}}catch(dt){oe("FS.trackingDelegate['onOpenFile']('"+h+"', flags) threw an exception: "+dt.message)}return De},close:function(h){if(z.isClosed(h))throw new z.ErrnoError(8);h.getdents&&(h.getdents=null);try{h.stream_ops.close&&h.stream_ops.close(h)}catch(E){throw E}finally{z.closeStream(h.fd)}h.fd=null},isClosed:function(h){return h.fd===null},llseek:function(h,E,U){if(z.isClosed(h))throw new z.ErrnoError(8);if(!h.seekable||!h.stream_ops.llseek)throw new z.ErrnoError(70);if(U!=0&&U!=1&&U!=2)throw new z.ErrnoError(28);return h.position=h.stream_ops.llseek(h,E,U),h.ungotten=[],h.position},read:function(h,E,U,L,H){if(L<0||H<0)throw new z.ErrnoError(28);if(z.isClosed(h))throw new z.ErrnoError(8);if((2097155&h.flags)==1)throw new z.ErrnoError(8);if(z.isDir(h.node.mode))throw new z.ErrnoError(31);if(!h.stream_ops.read)throw new z.ErrnoError(28);var ie=H!==void 0;if(ie){if(!h.seekable)throw new z.ErrnoError(70)}else H=h.position;var J=h.stream_ops.read(h,E,U,L,H);return ie||(h.position+=J),J},write:function(h,E,U,L,H,ie){if(L<0||H<0)throw new z.ErrnoError(28);if(z.isClosed(h))throw new z.ErrnoError(8);if((2097155&h.flags)==0)throw new z.ErrnoError(8);if(z.isDir(h.node.mode))throw new z.ErrnoError(31);if(!h.stream_ops.write)throw new z.ErrnoError(28);h.seekable&&1024&h.flags&&z.llseek(h,0,2);var J=H!==void 0;if(J){if(!h.seekable)throw new z.ErrnoError(70)}else H=h.position;var ke=h.stream_ops.write(h,E,U,L,H,ie);J||(h.position+=ke);try{h.path&&z.trackingDelegate.onWriteToFile&&z.trackingDelegate.onWriteToFile(h.path)}catch(De){oe("FS.trackingDelegate['onWriteToFile']('"+h.path+"') threw an exception: "+De.message)}return ke},allocate:function(h,E,U){if(z.isClosed(h))throw new z.ErrnoError(8);if(E<0||U<=0)throw new z.ErrnoError(28);if((2097155&h.flags)==0)throw new z.ErrnoError(8);if(!z.isFile(h.node.mode)&&!z.isDir(h.node.mode))throw new z.ErrnoError(43);if(!h.stream_ops.allocate)throw new z.ErrnoError(138);h.stream_ops.allocate(h,E,U)},mmap:function(h,E,U,L,H,ie){if((2&H)!=0&&(2&ie)==0&&(2097155&h.flags)!=2)throw new z.ErrnoError(2);if((2097155&h.flags)==1)throw new z.ErrnoError(2);if(!h.stream_ops.mmap)throw new z.ErrnoError(43);return h.stream_ops.mmap(h,E,U,L,H,ie)},msync:function(h,E,U,L,H){return h&&h.stream_ops.msync?h.stream_ops.msync(h,E,U,L,H):0},munmap:function(h){return 0},ioctl:function(h,E,U){if(!h.stream_ops.ioctl)throw new z.ErrnoError(59);return h.stream_ops.ioctl(h,E,U)},readFile:function(h,E){if((E=E||{}).flags=E.flags||0,E.encoding=E.encoding||"binary",E.encoding!=="utf8"&&E.encoding!=="binary")throw new Error('Invalid encoding type "'+E.encoding+'"');var U,L=z.open(h,E.flags),H=z.stat(h).size,ie=new Uint8Array(H);return z.read(L,ie,0,H,0),E.encoding==="utf8"?U=Pt(ie,0):E.encoding==="binary"&&(U=ie),z.close(L),U},writeFile:function(h,E,U){(U=U||{}).flags=U.flags||577;var L=z.open(h,U.flags,U.mode);if(typeof E=="string"){var H=new Uint8Array(Rt(E)+1),ie=rt(E,H,0,H.length);z.write(L,H,0,ie,void 0,U.canOwn)}else{if(!ArrayBuffer.isView(E))throw new Error("Unsupported data type");z.write(L,E,0,E.byteLength,void 0,U.canOwn)}z.close(L)},cwd:function(){return z.currentPath},chdir:function(h){var E=z.lookupPath(h,{follow:!0});if(E.node===null)throw new z.ErrnoError(44);if(!z.isDir(E.node.mode))throw new z.ErrnoError(54);var U=z.nodePermissions(E.node,"x");if(U)throw new z.ErrnoError(U);z.currentPath=E.path},createDefaultDirectories:function(){z.mkdir("/tmp"),z.mkdir("/home"),z.mkdir("/home/web_user")},createDefaultDevices:function(){z.mkdir("/dev"),z.registerDevice(z.makedev(1,3),{read:function(){return 0},write:function(E,U,L,H,ie){return H}}),z.mkdev("/dev/null",z.makedev(1,3)),Rn.register(z.makedev(5,0),Rn.default_tty_ops),Rn.register(z.makedev(6,0),Rn.default_tty1_ops),z.mkdev("/dev/tty",z.makedev(5,0)),z.mkdev("/dev/tty1",z.makedev(6,0));var h=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var E=new Uint8Array(1);return function(){return crypto.getRandomValues(E),E[0]}}return function(){Ze("randomDevice")}}();z.createDevice("/dev","random",h),z.createDevice("/dev","urandom",h),z.mkdir("/dev/shm"),z.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){z.mkdir("/proc");var h=z.mkdir("/proc/self");z.mkdir("/proc/self/fd"),z.mount({mount:function(){var E=z.createNode(h,"fd",16895,73);return E.node_ops={lookup:function(U,L){var H=+L,ie=z.getStream(H);if(!ie)throw new z.ErrnoError(8);var J={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return ie.path}}};return J.parent=J,J}},E}},{},"/proc/self/fd")},createStandardStreams:function(){m.stdin?z.createDevice("/dev","stdin",m.stdin):z.symlink("/dev/tty","/dev/stdin"),m.stdout?z.createDevice("/dev","stdout",null,m.stdout):z.symlink("/dev/tty","/dev/stdout"),m.stderr?z.createDevice("/dev","stderr",null,m.stderr):z.symlink("/dev/tty1","/dev/stderr"),z.open("/dev/stdin",0),z.open("/dev/stdout",1),z.open("/dev/stderr",1)},ensureErrnoError:function(){z.ErrnoError||(z.ErrnoError=function(h,E){this.node=E,this.setErrno=function(U){this.errno=U},this.setErrno(h),this.message="FS error"},z.ErrnoError.prototype=new Error,z.ErrnoError.prototype.constructor=z.ErrnoError,[44].forEach(function(h){z.genericErrors[h]=new z.ErrnoError(h),z.genericErrors[h].stack="<generic error, no stack>"}))},staticInit:function(){z.ensureErrnoError(),z.nameTable=new Array(4096),z.mount(Ct,{},"/"),z.createDefaultDirectories(),z.createDefaultDevices(),z.createSpecialDirectories(),z.filesystems={MEMFS:Ct}},init:function(h,E,U){z.init.initialized=!0,z.ensureErrnoError(),m.stdin=h||m.stdin,m.stdout=E||m.stdout,m.stderr=U||m.stderr,z.createStandardStreams()},quit:function(){z.init.initialized=!1;var h=m._fflush;h&&h(0);for(var E=0;E<z.streams.length;E++){var U=z.streams[E];U&&z.close(U)}},getMode:function(h,E){var U=0;return h&&(U|=365),E&&(U|=146),U},findObject:function(h,E){var U=z.analyzePath(h,E);return U.exists?U.object:null},analyzePath:function(h,E){try{h=(L=z.lookupPath(h,{follow:!E})).path}catch{}var U={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var L=z.lookupPath(h,{parent:!0});U.parentExists=!0,U.parentPath=L.path,U.parentObject=L.node,U.name=st.basename(h),L=z.lookupPath(h,{follow:!E}),U.exists=!0,U.path=L.path,U.object=L.node,U.name=L.node.name,U.isRoot=L.path==="/"}catch(H){U.error=H.errno}return U},createPath:function(h,E,U,L){h=typeof h=="string"?h:z.getPath(h);for(var H=E.split("/").reverse();H.length;){var ie=H.pop();if(ie){var J=st.join2(h,ie);try{z.mkdir(J)}catch{}h=J}}return J},createFile:function(h,E,U,L,H){var ie=st.join2(typeof h=="string"?h:z.getPath(h),E),J=z.getMode(L,H);return z.create(ie,J)},createDataFile:function(h,E,U,L,H,ie){var J=E?st.join2(typeof h=="string"?h:z.getPath(h),E):h,ke=z.getMode(L,H),De=z.create(J,ke);if(U){if(typeof U=="string"){for(var Ye=new Array(U.length),dt=0,wt=U.length;dt<wt;++dt)Ye[dt]=U.charCodeAt(dt);U=Ye}z.chmod(De,146|ke);var ot=z.open(De,577);z.write(ot,U,0,U.length,0,ie),z.close(ot),z.chmod(De,ke)}return De},createDevice:function(h,E,U,L){var H=st.join2(typeof h=="string"?h:z.getPath(h),E),ie=z.getMode(!!U,!!L);z.createDevice.major||(z.createDevice.major=64);var J=z.makedev(z.createDevice.major++,0);return z.registerDevice(J,{open:function(ke){ke.seekable=!1},close:function(ke){L&&L.buffer&&L.buffer.length&&L(10)},read:function(ke,De,Ye,dt,wt){for(var ot=0,ct=0;ct<dt;ct++){var bn;try{bn=U()}catch{throw new z.ErrnoError(29)}if(bn===void 0&&ot===0)throw new z.ErrnoError(6);if(bn==null)break;ot++,De[Ye+ct]=bn}return ot&&(ke.node.timestamp=Date.now()),ot},write:function(ke,De,Ye,dt,wt){for(var ot=0;ot<dt;ot++)try{L(De[Ye+ot])}catch{throw new z.ErrnoError(29)}return dt&&(ke.node.timestamp=Date.now()),ot}}),z.mkdev(H,ie,J)},forceLoadFile:function(h){if(h.isDevice||h.isFolder||h.link||h.contents)return!0;if(typeof XMLHttpRequest!="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!S)throw new Error("Cannot load without read() or XMLHttpRequest.");try{h.contents=Si(S(h.url),!0),h.usedBytes=h.contents.length}catch{throw new z.ErrnoError(29)}},createLazyFile:function(h,E,U,L,H){if(typeof XMLHttpRequest!="undefined")throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ie={isDevice:!1,url:U},J=z.createFile(h,E,ie,L,H);ie.contents?J.contents=ie.contents:ie.url&&(J.contents=null,J.url=ie.url),Object.defineProperties(J,{usedBytes:{get:function(){return this.contents.length}}});var ke={};return Object.keys(J.stream_ops).forEach(function(De){var Ye=J.stream_ops[De];ke[De]=function(){return z.forceLoadFile(J),Ye.apply(null,arguments)}}),ke.read=function(De,Ye,dt,wt,ot){z.forceLoadFile(J);var ct=De.node.contents;if(ot>=ct.length)return 0;var bn=Math.min(ct.length-ot,wt);if(ct.slice)for(var at=0;at<bn;at++)Ye[dt+at]=ct[ot+at];else for(at=0;at<bn;at++)Ye[dt+at]=ct.get(ot+at);return bn},J.stream_ops=ke,J},createPreloadedFile:function(h,E,U,L,H,ie,J,ke,De,Ye){Browser.init();var dt=E?Ln.resolve(st.join2(h,E)):h;function wt(ot){function ct(at){Ye&&Ye(),ke||z.createDataFile(h,E,at,L,H,De),ie&&ie(),bt()}var bn=!1;m.preloadPlugins.forEach(function(at){bn||at.canHandle(dt)&&(at.handle(ot,dt,ct,function(){J&&J(),bt()}),bn=!0)}),bn||ct(ot)}et(),typeof U=="string"?function(ot,ct,bn,at){var Ht="al "+ot;u(ot,function(jn){jn||Ze('Assertion failed: Loading data file "'+ot+'" failed (no arrayBuffer).'),function(Sn){wt(Sn)}(new Uint8Array(jn)),Ht&&bt()},function(jn){if(!bn)throw'Loading data file "'+ot+'" failed.';bn()}),Ht&&et()}(U,0,J):wt(U)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(h,E,U){E=E||function(){},U=U||function(){};var L=z.indexedDB();try{var H=L.open(z.DB_NAME(),z.DB_VERSION)}catch(ie){return U(ie)}H.onupgradeneeded=function(){Y("creating db"),H.result.createObjectStore(z.DB_STORE_NAME)},H.onsuccess=function(){var ie=H.result.transaction([z.DB_STORE_NAME],"readwrite"),J=ie.objectStore(z.DB_STORE_NAME),ke=0,De=0,Ye=h.length;function dt(){De==0?E():U()}h.forEach(function(wt){var ot=J.put(z.analyzePath(wt).object.contents,wt);ot.onsuccess=function(){++ke+De==Ye&&dt()},ot.onerror=function(){De++,ke+De==Ye&&dt()}}),ie.onerror=U},H.onerror=U},loadFilesFromDB:function(h,E,U){E=E||function(){},U=U||function(){};var L=z.indexedDB();try{var H=L.open(z.DB_NAME(),z.DB_VERSION)}catch(ie){return U(ie)}H.onupgradeneeded=U,H.onsuccess=function(){var ie=H.result;try{var J=ie.transaction([z.DB_STORE_NAME],"readonly")}catch(ot){return void U(ot)}var ke=J.objectStore(z.DB_STORE_NAME),De=0,Ye=0,dt=h.length;function wt(){Ye==0?E():U()}h.forEach(function(ot){var ct=ke.get(ot);ct.onsuccess=function(){z.analyzePath(ot).exists&&z.unlink(ot),z.createDataFile(st.dirname(ot),st.basename(ot),ct.result,!0,!0,!0),++De+Ye==dt&&wt()},ct.onerror=function(){Ye++,De+Ye==dt&&wt()}}),J.onerror=U},H.onerror=U}},Fn={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(h,E,U){if(E[0]==="/")return E;var L;if(h===-100)L=z.cwd();else{var H=z.getStream(h);if(!H)throw new z.ErrnoError(8);L=H.path}if(E.length==0){if(!U)throw new z.ErrnoError(44);return L}return st.join2(L,E)},doStat:function(h,E,U){try{var L=h(E)}catch(H){if(H&&H.node&&st.normalize(E)!==st.normalize(z.getPath(H.node)))return-54;throw H}return Pe[U>>2]=L.dev,Pe[U+4>>2]=0,Pe[U+8>>2]=L.ino,Pe[U+12>>2]=L.mode,Pe[U+16>>2]=L.nlink,Pe[U+20>>2]=L.uid,Pe[U+24>>2]=L.gid,Pe[U+28>>2]=L.rdev,Pe[U+32>>2]=0,Ce=[L.size>>>0,(ge=L.size,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],Pe[U+40>>2]=Ce[0],Pe[U+44>>2]=Ce[1],Pe[U+48>>2]=4096,Pe[U+52>>2]=L.blocks,Pe[U+56>>2]=L.atime.getTime()/1e3|0,Pe[U+60>>2]=0,Pe[U+64>>2]=L.mtime.getTime()/1e3|0,Pe[U+68>>2]=0,Pe[U+72>>2]=L.ctime.getTime()/1e3|0,Pe[U+76>>2]=0,Ce=[L.ino>>>0,(ge=L.ino,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],Pe[U+80>>2]=Ce[0],Pe[U+84>>2]=Ce[1],0},doMsync:function(h,E,U,L,H){var ie=Ke.slice(h,h+U);z.msync(E,ie,H,U,L)},doMkdir:function(h,E){return(h=st.normalize(h))[h.length-1]==="/"&&(h=h.substr(0,h.length-1)),z.mkdir(h,E,0),0},doMknod:function(h,E,U){switch(61440&E){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return z.mknod(h,E,U),0},doReadlink:function(h,E,U){if(U<=0)return-28;var L=z.readlink(h),H=Math.min(U,Rt(L)),ie=Oe[E+H];return rt(L,Ke,E,U+1),Oe[E+H]=ie,H},doAccess:function(h,E){if(-8&E)return-28;var U;if(!(U=z.lookupPath(h,{follow:!0}).node))return-44;var L="";return 4&E&&(L+="r"),2&E&&(L+="w"),1&E&&(L+="x"),L&&z.nodePermissions(U,L)?-2:0},doDup:function(h,E,U){var L=z.getStream(U);return L&&z.close(L),z.open(h,E,0,U,U).fd},doReadv:function(h,E,U,L){for(var H=0,ie=0;ie<U;ie++){var J=Pe[E+8*ie>>2],ke=Pe[E+(8*ie+4)>>2],De=z.read(h,Oe,J,ke,L);if(De<0)return-1;if(H+=De,De<ke)break}return H},doWritev:function(h,E,U,L){for(var H=0,ie=0;ie<U;ie++){var J=Pe[E+8*ie>>2],ke=Pe[E+(8*ie+4)>>2],De=z.write(h,Oe,J,ke,L);if(De<0)return-1;H+=De}return H},varargs:void 0,get:function(){return Fn.varargs+=4,Pe[Fn.varargs-4>>2]},getStr:function(h){return Mt(h)},getStreamFromFD:function(h){var E=z.getStream(h);if(!E)throw new z.ErrnoError(8);return E},get64:function(h,E){return h}};function Jn(h){return h%4==0&&(h%100!=0||h%400==0)}function xi(h,E){for(var U=0,L=0;L<=E;U+=h[L++]);return U}var Ir=[31,29,31,30,31,30,31,31,30,31,30,31],ki=[31,28,31,30,31,30,31,31,30,31,30,31];function wi(h,E){for(var U=new Date(h.getTime());E>0;){var L=Jn(U.getFullYear()),H=U.getMonth(),ie=(L?Ir:ki)[H];if(!(E>ie-U.getDate()))return U.setDate(U.getDate()+E),U;E-=ie-U.getDate()+1,U.setDate(1),H<11?U.setMonth(H+1):(U.setMonth(0),U.setFullYear(U.getFullYear()+1))}return U}var qe=function(h,E,U,L){h||(h=this),this.parent=h,this.mount=h.mount,this.mounted=null,this.id=z.nextInode++,this.name=E,this.mode=U,this.node_ops={},this.stream_ops={},this.rdev=L};function Si(h,E,U){var L=U>0?U:Rt(h)+1,H=new Array(L),ie=rt(h,H,0,H.length);return E&&(H.length=ie),H}Object.defineProperties(qe.prototype,{read:{get:function(){return(365&this.mode)==365},set:function(h){h?this.mode|=365:this.mode&=-366}},write:{get:function(){return(146&this.mode)==146},set:function(h){h?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return z.isDir(this.mode)}},isDevice:{get:function(){return z.isChrdev(this.mode)}}}),z.FSNode=qe,z.staticInit();var dn,_i={c:function(h){return Gt(h+16)+16},b:function(h,E,U){throw new Lt(h).init(E,U),h},a:function(){Ze()},m:function(h,E){var U;if(h===0)U=Date.now();else{if(h!==1&&h!==4)return Pe[Tn()>>2]=28,-1;U=Ae()}return Pe[E>>2]=U/1e3|0,Pe[E+4>>2]=U%1e3*1e3*1e3|0,0},i:function(h,E){Ze("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},e:function(h,E){Ze("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},f:function(){return 2147483648},k:function(h,E,U){Ke.copyWithin(h,E,E+U)},l:function(h){var E,U=Ke.length,L=2147483648;if((h>>>=0)>L)return!1;for(var H=1;H<=4;H*=2){var ie=U*(1+.2/H);if(ie=Math.min(ie,h+100663296),yn(Math.min(L,((E=Math.max(h,ie))%65536>0&&(E+=65536-E%65536),E))))return!0}return!1},o:function(h){for(var E=Ae();Ae()-E<h;);},p:function(h,E){var U=0;return kn().forEach(function(L,H){var ie=E+U;Pe[h+4*H>>2]=ie,function(J,ke,De){for(var Ye=0;Ye<J.length;++Ye)Oe[ke++>>0]=J.charCodeAt(Ye);Oe[ke>>0]=0}(L,ie),U+=L.length+1}),0},q:function(h,E){var U=kn();Pe[h>>2]=U.length;var L=0;return U.forEach(function(H){L+=H.length+1}),Pe[E>>2]=L,0},r:function(h){(function(E,U){var L;L=E,gn()||(m.onExit&&m.onExit(L),we=!0),R(L,new Je(L))})(h)},h:function(h){try{var E=Fn.getStreamFromFD(h);return z.close(E),0}catch(U){return z!==void 0&&U instanceof z.ErrnoError||Ze(U),U.errno}},g:function(h,E,U,L){try{var H=Fn.getStreamFromFD(h),ie=Fn.doReadv(H,E,U);return Pe[L>>2]=ie,0}catch(J){return z!==void 0&&J instanceof z.ErrnoError||Ze(J),J.errno}},j:function(h,E,U,L,H){try{var ie=Fn.getStreamFromFD(h),J=4294967296*U+(E>>>0),ke=9007199254740992;return J<=-ke||J>=ke?-61:(z.llseek(ie,J,L),Ce=[ie.position>>>0,(ge=ie.position,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],Pe[H>>2]=Ce[0],Pe[H+4>>2]=Ce[1],ie.getdents&&J===0&&L===0&&(ie.getdents=null),0)}catch(De){return z!==void 0&&De instanceof z.ErrnoError||Ze(De),De.errno}},d:function(h,E,U,L){try{var H=Fn.getStreamFromFD(h),ie=Fn.doWritev(H,E,U);return Pe[L>>2]=ie,0}catch(J){return z!==void 0&&J instanceof z.ErrnoError||Ze(J),J.errno}},n:function(h,E,U,L){return function(H,ie,J,ke){var De=Pe[ke+40>>2],Ye={tm_sec:Pe[ke>>2],tm_min:Pe[ke+4>>2],tm_hour:Pe[ke+8>>2],tm_mday:Pe[ke+12>>2],tm_mon:Pe[ke+16>>2],tm_year:Pe[ke+20>>2],tm_wday:Pe[ke+24>>2],tm_yday:Pe[ke+28>>2],tm_isdst:Pe[ke+32>>2],tm_gmtoff:Pe[ke+36>>2],tm_zone:De?Mt(De):""},dt=Mt(J),wt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ot in wt)dt=dt.replace(new RegExp(ot,"g"),wt[ot]);var ct=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bn=["January","February","March","April","May","June","July","August","September","October","November","December"];function at(Te,nt,ft){for(var vt=typeof Te=="number"?Te.toString():Te||"";vt.length<nt;)vt=ft[0]+vt;return vt}function Ht(Te,nt){return at(Te,nt,"0")}function jn(Te,nt){function ft(Ot){return Ot<0?-1:Ot>0?1:0}var vt;return(vt=ft(Te.getFullYear()-nt.getFullYear()))===0&&(vt=ft(Te.getMonth()-nt.getMonth()))===0&&(vt=ft(Te.getDate()-nt.getDate())),vt}function Sn(Te){switch(Te.getDay()){case 0:return new Date(Te.getFullYear()-1,11,29);case 1:return Te;case 2:return new Date(Te.getFullYear(),0,3);case 3:return new Date(Te.getFullYear(),0,2);case 4:return new Date(Te.getFullYear(),0,1);case 5:return new Date(Te.getFullYear()-1,11,31);case 6:return new Date(Te.getFullYear()-1,11,30)}}function he(Te){var nt=wi(new Date(Te.tm_year+1900,0,1),Te.tm_yday),ft=new Date(nt.getFullYear(),0,4),vt=new Date(nt.getFullYear()+1,0,4),Ot=Sn(ft),Yt=Sn(vt);return jn(Ot,nt)<=0?jn(Yt,nt)<=0?nt.getFullYear()+1:nt.getFullYear():nt.getFullYear()-1}var Me={"%a":function(Te){return ct[Te.tm_wday].substring(0,3)},"%A":function(Te){return ct[Te.tm_wday]},"%b":function(Te){return bn[Te.tm_mon].substring(0,3)},"%B":function(Te){return bn[Te.tm_mon]},"%C":function(Te){return Ht((Te.tm_year+1900)/100|0,2)},"%d":function(Te){return Ht(Te.tm_mday,2)},"%e":function(Te){return at(Te.tm_mday,2," ")},"%g":function(Te){return he(Te).toString().substring(2)},"%G":function(Te){return he(Te)},"%H":function(Te){return Ht(Te.tm_hour,2)},"%I":function(Te){var nt=Te.tm_hour;return nt==0?nt=12:nt>12&&(nt-=12),Ht(nt,2)},"%j":function(Te){return Ht(Te.tm_mday+xi(Jn(Te.tm_year+1900)?Ir:ki,Te.tm_mon-1),3)},"%m":function(Te){return Ht(Te.tm_mon+1,2)},"%M":function(Te){return Ht(Te.tm_min,2)},"%n":function(){return`
`},"%p":function(Te){return Te.tm_hour>=0&&Te.tm_hour<12?"AM":"PM"},"%S":function(Te){return Ht(Te.tm_sec,2)},"%t":function(){return"	"},"%u":function(Te){return Te.tm_wday||7},"%U":function(Te){var nt=new Date(Te.tm_year+1900,0,1),ft=nt.getDay()===0?nt:wi(nt,7-nt.getDay()),vt=new Date(Te.tm_year+1900,Te.tm_mon,Te.tm_mday);if(jn(ft,vt)<0){var Ot=xi(Jn(vt.getFullYear())?Ir:ki,vt.getMonth()-1)-31,Yt=31-ft.getDate()+Ot+vt.getDate();return Ht(Math.ceil(Yt/7),2)}return jn(ft,nt)===0?"01":"00"},"%V":function(Te){var nt,ft=new Date(Te.tm_year+1900,0,4),vt=new Date(Te.tm_year+1901,0,4),Ot=Sn(ft),Yt=Sn(vt),Cn=wi(new Date(Te.tm_year+1900,0,1),Te.tm_yday);return jn(Cn,Ot)<0?"53":jn(Yt,Cn)<=0?"01":(nt=Ot.getFullYear()<Te.tm_year+1900?Te.tm_yday+32-Ot.getDate():Te.tm_yday+1-Ot.getDate(),Ht(Math.ceil(nt/7),2))},"%w":function(Te){return Te.tm_wday},"%W":function(Te){var nt=new Date(Te.tm_year,0,1),ft=nt.getDay()===1?nt:wi(nt,nt.getDay()===0?1:7-nt.getDay()+1),vt=new Date(Te.tm_year+1900,Te.tm_mon,Te.tm_mday);if(jn(ft,vt)<0){var Ot=xi(Jn(vt.getFullYear())?Ir:ki,vt.getMonth()-1)-31,Yt=31-ft.getDate()+Ot+vt.getDate();return Ht(Math.ceil(Yt/7),2)}return jn(ft,nt)===0?"01":"00"},"%y":function(Te){return(Te.tm_year+1900).toString().substring(2)},"%Y":function(Te){return Te.tm_year+1900},"%z":function(Te){var nt=Te.tm_gmtoff,ft=nt>=0;return nt=(nt=Math.abs(nt)/60)/60*100+nt%60,(ft?"+":"-")+String("0000"+nt).slice(-4)},"%Z":function(Te){return Te.tm_zone},"%%":function(){return"%"}};for(var ot in Me)dt.includes(ot)&&(dt=dt.replace(new RegExp(ot,"g"),Me[ot](Ye)));var Ge=Si(dt,!1);return Ge.length>ie?0:(function(Te,nt){Oe.set(Te,nt)}(Ge,H),Ge.length-1)}(h,E,U,L)}},Gt=(function(){var h={a:_i};function E(H,ie){var J,ke=H.exports;m.asm=ke,Kt((le=m.asm.s).buffer),Wt=m.asm.T,J=m.asm.t,yi.unshift(J),bt()}function U(H){E(H.instance)}function L(H){return(ae||typeof fetch!="function"?Promise.resolve().then(function(){return vn(Ie)}):fetch(Ie,{credentials:"same-origin"}).then(function(ie){if(!ie.ok)throw"failed to load wasm binary file at '"+Ie+"'";return ie.arrayBuffer()}).catch(function(){return vn(Ie)})).then(function(ie){return WebAssembly.instantiate(ie,h)}).then(function(ie){return ie}).then(H,function(ie){oe("failed to asynchronously prepare wasm: "+ie),Ze(ie)})}if(et(),m.instantiateWasm)try{return m.instantiateWasm(h,E)}catch(H){return oe("Module.instantiateWasm callback failed with error: "+H),!1}(ae||typeof WebAssembly.instantiateStreaming!="function"||_t(Ie)||typeof fetch!="function"?L(U):fetch(Ie,{credentials:"same-origin"}).then(function(H){return WebAssembly.instantiateStreaming(H,h).then(U,function(ie){return oe("wasm streaming compile failed: "+ie),oe("falling back to ArrayBuffer instantiation"),L(U)})})).catch(W)}(),m.___wasm_call_ctors=function(){return(m.___wasm_call_ctors=m.asm.t).apply(null,arguments)},m._getModelBufferMemoryOffset=function(){return(m._getModelBufferMemoryOffset=m.asm.u).apply(null,arguments)},m._getNumFaces=function(){return(m._getNumFaces=m.asm.v).apply(null,arguments)},m._getInputMemoryOffset=function(){return(m._getInputMemoryOffset=m.asm.w).apply(null,arguments)},m._getInputName=function(){return(m._getInputName=m.asm.x).apply(null,arguments)},m._getInputHeight=function(){return(m._getInputHeight=m.asm.y).apply(null,arguments)},m._getInputWidth=function(){return(m._getInputWidth=m.asm.z).apply(null,arguments)},m._getInputChannelCount=function(){return(m._getInputChannelCount=m.asm.A).apply(null,arguments)},m._getOutputMemoryOffset=function(){return(m._getOutputMemoryOffset=m.asm.B).apply(null,arguments)},m._getOutputHeight=function(){return(m._getOutputHeight=m.asm.C).apply(null,arguments)},m._getOutputName=function(){return(m._getOutputName=m.asm.D).apply(null,arguments)},m._getOutputWidth=function(){return(m._getOutputWidth=m.asm.E).apply(null,arguments)},m._getOutputChannelCount=function(){return(m._getOutputChannelCount=m.asm.F).apply(null,arguments)},m._getFrameTLx=function(){return(m._getFrameTLx=m.asm.G).apply(null,arguments)},m._getFrameTLy=function(){return(m._getFrameTLy=m.asm.H).apply(null,arguments)},m._getFrameWidth=function(){return(m._getFrameWidth=m.asm.I).apply(null,arguments)},m._getFrameHeight=function(){return(m._getFrameHeight=m.asm.J).apply(null,arguments)},m._getLargestFaceTLx=function(){return(m._getLargestFaceTLx=m.asm.K).apply(null,arguments)},m._getLargestFaceTLy=function(){return(m._getLargestFaceTLy=m.asm.L).apply(null,arguments)},m._getLargestFaceWidth=function(){return(m._getLargestFaceWidth=m.asm.M).apply(null,arguments)},m._getLargestFaceHeight=function(){return(m._getLargestFaceHeight=m.asm.N).apply(null,arguments)},m._getFaceEnhanceSatBoost=function(){return(m._getFaceEnhanceSatBoost=m.asm.O).apply(null,arguments)},m._getFaceEnhanceCurvePoly=function(){return(m._getFaceEnhanceCurvePoly=m.asm.P).apply(null,arguments)},m._loadModel=function(){return(m._loadModel=m.asm.Q).apply(null,arguments)},m._malloc=function(){return(Gt=m._malloc=m.asm.R).apply(null,arguments)}),Tn=(m._infer=function(){return(m._infer=m.asm.S).apply(null,arguments)},m.___errno_location=function(){return(Tn=m.___errno_location=m.asm.U).apply(null,arguments)}),fi=m._memalign=function(){return(fi=m._memalign=m.asm.V).apply(null,arguments)};function Je(h){this.name="ExitStatus",this.message="Program terminated with exit("+h+")",this.status=h}function Le(h){function E(){dn||(dn=!0,m.calledRun=!0,we||(m.noFSInit||z.init.initialized||z.init(),z.ignorePermissions=!1,Jt(yi),C(m),m.onRuntimeInitialized&&m.onRuntimeInitialized(),function(){if(m.postRun)for(typeof m.postRun=="function"&&(m.postRun=[m.postRun]);m.postRun.length;)U=m.postRun.shift(),Et.unshift(U);var U;Jt(Et)}()))}ut>0||(function(){if(m.preRun)for(typeof m.preRun=="function"&&(m.preRun=[m.preRun]);m.preRun.length;)U=m.preRun.shift(),Be.unshift(U);var U;Jt(Be)}(),ut>0||(m.setStatus?(m.setStatus("Running..."),setTimeout(function(){setTimeout(function(){m.setStatus("")},1),E()},1)):E()))}if(it=function h(){dn||Le(),dn||(it=h)},m.run=Le,m.preInit)for(typeof m.preInit=="function"&&(m.preInit=[m.preInit]);m.preInit.length>0;)m.preInit.pop()();return Le(),l.ready});y.exports=p}},x={};function _(y){var w=x[y];if(w!==void 0)return w.exports;var p=x[y]={exports:{}};return P[y](p,p.exports,_),p.exports}_.n=y=>{var w=y&&y.__esModule?()=>y.default:()=>y;return _.d(w,{a:w}),w},_.d=(y,w)=>{for(var p in w)_.o(w,p)&&!_.o(y,p)&&Object.defineProperty(y,p,{enumerable:!0,get:w[p]})},_.o=(y,w)=>Object.prototype.hasOwnProperty.call(y,w),_.r=y=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var g={};return(()=>{_.r(g),_.d(g,{VSLError:()=>C,VideoFilter:()=>F,VideoFilterError:()=>W});var y=_(276),w=_.n(y);const p="vsl_impl.bin",l="vsl_impl.wasm";class C extends Error{constructor(u,k){super(u,{cause:k}),this.name="VSLError"}}class W extends C{constructor(u,k){super(u,{cause:k}),this.name="VideoFilterError"}}class m{constructor(u){this.initDone_=!1,this.imgLogList_=[],this.fps_=30,this.frameSubSample_=15,this.setLogDurationSec(3),this.frameCount_=0,this.imgLogLen_=Math.round(this.logDurationSec_*this.fps_/this.frameSubSample_),this.init(u),this.backgroundRed_=0,this.backgroundBlue_=0,this.backgroundGreen_=0,this.textureInit_=!1,this.uploadBackground_=!1,this.updateBackgroundColor_=!1,this.initBackgroundColorDone_=!1,this.isVideoBackground_=!1,this.isBokeh_=!0,this.backgroundImageBitmap_=null,this.initDone_=!0,this.debug_=!1}setDebug(u){this.debug_=u}setSaturation(u){this.gl_.uniform1f(this.satAdjust_,u)}setToneMapPoly(u,k,R){this.gl_.uniform3f(this.toneMapPoly_,u,k,R)}setLogDurationSec(u){this.logDurationSec_=u,this.frameCount_=0,this.imgLogLen_=Math.round(this.logDurationSec_*this.fps_/this.frameSubSample_),this.debug_===!0&&console.debug("[Segmentation: setLogDurationSec]: duration =",u,"sec")}setFaceSmoothStrengthVal(u,k,R){let K=u/Math.max(0,R-k);this.gl_.uniform1f(this.faceSmoothEps_,.001*K)}setOperationMode(u){if(u==="bokeh")this.isBokeh_=!0;else if(u==="replace")if(this.isVideoBackground_===!1)if(this.backgroundImageBitmap_!==null)this.isBokeh_=!1,this.uploadBackground_=!0;else{if(this.initBackgroundColorDone_!==!0)throw"[Segmentation: setOperationMode] Failure to switch to background mode. Background image has not been set.";this.isBokeh_=!1,this.updateBackgroundColor_=!0}else{if(this.backgroundVideoSrc_===null)throw"[Segmentation: setOperationMode] Failure to switch to background mode. Background video source has not been set.";this.isBokeh_=!1}else this.isBokeh_=!0}setBackgroundImageBitmap(u){this.backgroundImageBitmap_!==null&&this.backgroundImageBitmap_.close(),this.backgroundImageBitmap_=u,this.isVideoBackground_=!1,this.uploadBackground_=!0}setBackgroundVideoSrc(u){this.backgroundVideoSrc_=u,this.updateBackgroundVideo_=!0,this.isVideoBackground_=!0}setBackgroundColor(u,k,R){this.backgroundRed_=u,this.backgroundGreen_=k,this.backgroundBlue_=R,this.isVideoBackground_=!1,this.updateBackgroundColor_=!0,this.initBackgroundColorDone_=!0}pauseBackgroundVideo(){this.isVideoBackground_=!1}setZoomScale(u){this.initDone_&&this.gl_.uniform1f(this.zoomScale_,u)}setPanTilt(u,k){this.initDone_&&this.gl_.uniform2f(this.panTilt_,u,k)}getVideoLog(){const u="DLB_VSLw0001";let k=[];for(var R=0;R<u.length;++R)k.push(u.charCodeAt(R));let K=new Uint8Array(k),ae=this.imgLogList_.length,Y=0;for(R=0;R<this.imgLogList_.length;++R)Y+=this.imgLogList_[R].byteLength;let oe,le=new Uint8Array(K.byteLength+2+4*ae+Y),Ee=0;for(le.set(new Uint8Array(K),Ee),Ee+=K.byteLength,le.set(new Uint8Array([(65280&ae)>>8,255&ae]),Ee),Ee+=2,R=0;R<ae;++R)oe=this.imgLogList_[R].byteLength,le.set(new Uint8Array([(4278190080&oe)>>24,(16711680&oe)>>16,(65280&oe)>>8,255&oe]),Ee),Ee+=4,le.set(new Uint8Array(this.imgLogList_[R]),Ee),Ee+=oe;return le}createDiagCanvas(){this.diagCanvas_===null&&(this.diagImageWidth_=640,this.diagImageHeight_=180,this.diagCanvas_=document.createElement("canvas"),this.diagCanvas_.setAttribute("width",this.diagImageWidth_),this.diagCanvas_.setAttribute("height",this.diagImageHeight_))}destroyDiagCanvas(){this.diagCanvas_!==null&&(document.removeChild(this.diagCanvas_),this.diagCanvas_=null)}init(u){this.debug_===!0&&console.debug("[Segmentation: init] Initializing WebGL."),this.facialSmoothNeedInit_=!0,this.diagCanvas_=null,this.createDiagCanvas(),this.widthModel_=160,this.heightModel_=96,this.canvas_=u;const k=this.canvas_.getContext("webgl2",{antialias:!1,premultipliedAlpha:!0});if(!k)throw"[Segmentation: init] Failure to create WebGL2 context. Please check whether WebGL2 is supported by your browser/hardware.";this.gl_=k,this.shaderOperationModeOptions_={blend:1,downscale:2,blur:3,smooth_mask:4,copy:5,fillmask:6,cropresize:7,smooth:8,denoise_update:9,downscale_subtract:10,flood:11,saturate:12,precompute_gf:13,compute_gf_coeff:14};const R=this.loadShader_(k.VERTEX_SHADER,`
      attribute vec2 a_position;
      attribute vec2 a_texCoord;
      uniform vec2 u_resolution;			
      uniform float u_flipY;
      varying vec2 v_texCoord;

      void main() {
        // Convert pixels coordinates to -1->+1 (clipSpace)					
        vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;
        gl_Position = vec4(clipSpace * vec2(1, -u_flipY), 0, 1);				
        v_texCoord = a_texCoord;
      }`),K=this.loadShader_(k.FRAGMENT_SHADER,`
      #define BLEND_MODE		 	        1
      #define DOWNSCALE_MODE			    2
      #define BLUR_MODE			          3
      #define SMOOTHMASK_MODE			    4
      #define COPY_MODE			          5
      #define FILLMASK_MODE	    		  6
      #define CROPRESIZE_MODE			    7
      #define SMOOTH_MODE			        8
      #define DENOISE_UPDATE_MODE		  9
      #define DOWNSCALE_SUBTRACT_MODE 10
      #define FLOOD_MODE			        11
      #define SATURATE_MODE			      12
      #define PRECOMPUTE_GF_MODE      13
      #define COMPUTE_GF_COEFF_MODE   14      

      precision lowp  float;        
      uniform float   u_faceSmoothEps;
      uniform float 	u_zoomScale;
      uniform float 	u_satAdjust;
      uniform vec3    u_toneMapPoly;
      uniform vec2    u_panTilt;
      uniform vec2    u_denoiseTl;
      uniform vec2    u_denoiseBr;
      uniform int 	  u_operationMode;
      uniform int 	  u_facialSmoothInit;
      uniform sampler2D u_image; 
      uniform sampler2D u_image_alpha;
      uniform sampler2D u_image_bkground;
      uniform sampler2D u_image_denoise;	
      uniform vec2 u_textureSize;    
      uniform vec2 u_direction; 			
      varying vec2 v_texCoord;        			
      void main() {			
        if (u_operationMode == FILLMASK_MODE) {
          vec3 color = texture2D(u_image, v_texCoord).rgb;
          vec2 offset = vec2(1.,1.) / u_textureSize;
          float alpha = texture2D(u_image, v_texCoord).a;

          // Compute the mask for left-right+top-bottom edges
          float lrMask = texture2D(u_image, v_texCoord - vec2(2.5*offset[0],0.)).a + 
                texture2D(u_image, v_texCoord - vec2(offset[0],0.)).a - 								
                texture2D(u_image, v_texCoord + vec2(2.5*offset[0],0.)).a - 
                texture2D(u_image, v_texCoord + vec2(offset[0],0.)).a;					
          lrMask = mix(1.0, 0.0, step(0.5, lrMask));
          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord - 1.5*vec2(offset[0],0.)).rgb + 
              0.5*texture2D(u_image, v_texCoord - 3.*vec2(offset[0],0.)).rgb)*(1.-lrMask);

          lrMask = texture2D(u_image, v_texCoord + vec2(2.5*offset[0],0.)).a + 
                texture2D(u_image, v_texCoord + vec2(offset[0],0.)).a - 								
                texture2D(u_image, v_texCoord - vec2(2.5*offset[0],0.)).a - 
                texture2D(u_image, v_texCoord - vec2(offset[0],0.)).a;
          lrMask = mix(1.0, 0.0, step(0.5, lrMask));
          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord + 1.5*vec2(offset[0],0.)).rgb +
              0.5*texture2D(u_image, v_texCoord + 3.*vec2(offset[0],0.)).rgb)*(1.-lrMask);

          lrMask = texture2D(u_image, v_texCoord + vec2(0.,2.5*offset[0])).a + 
                texture2D(u_image, v_texCoord + vec2(0.,offset[0])).a - 								
                texture2D(u_image, v_texCoord - vec2(0.,2.5*offset[0])).a - 
                texture2D(u_image, v_texCoord - vec2(0.,offset[0])).a;
          lrMask = mix(1.0, 0.0, step(0.5, lrMask));
          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord + 1.5*vec2(0.,offset[0])).rgb +
                0.5*texture2D(u_image, v_texCoord + 3.*vec2(0.,offset[0])).rgb)*(1.-lrMask);
                
          lrMask = texture2D(u_image, v_texCoord - vec2(0.,2.5*offset[0])).a + 
                texture2D(u_image, v_texCoord - vec2(0.,offset[0])).a - 								
                texture2D(u_image, v_texCoord + vec2(0.,2.5*offset[0])).a - 
                texture2D(u_image, v_texCoord + vec2(0.,offset[0])).a;
          lrMask = mix(1.0, 0.0, step(0.5, lrMask));
          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord- 1.5*vec2(0.,offset[0])).rgb +
                0.5*texture2D(u_image, v_texCoord - 3.*vec2(0.,offset[0])).rgb)*(1.-lrMask);
          gl_FragColor = vec4(color, alpha);					
        }
        if (u_operationMode == BLEND_MODE) {          
          vec3 background = texture2D(u_image_bkground, u_zoomScale*v_texCoord+u_panTilt).rgb;
          vec3 foreground = texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).rgb;
          float alpha = texture2D(u_image_alpha, u_zoomScale*v_texCoord+u_panTilt).a;									
          //alpha = smoothstep(0.25,0.45, alpha);
          alpha = smoothstep(0.3,0.55, alpha);

          if (u_satAdjust != 1.) {
            const vec3 W = vec3(0.2125, 0.7154, 0.0721);
            vec3 intensity = vec3(dot(foreground, W));
            foreground = mix(intensity, foreground, u_satAdjust);
          }
          foreground = u_toneMapPoly[0] + foreground*u_toneMapPoly[1] + foreground*foreground*u_toneMapPoly[2];
          
          gl_FragColor = vec4(mix(foreground,background,alpha),1);
          return;
        }
        if (u_operationMode == CROPRESIZE_MODE) {
          vec3 rgb = texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).rgb;

          rgb = u_toneMapPoly[0] + rgb*u_toneMapPoly[1] + rgb*rgb*u_toneMapPoly[2];
          if (u_satAdjust != 1.) {
            const vec3 W = vec3(0.2125, 0.7154, 0.0721);
            
            vec3 intensity = vec3(dot(rgb, W));
            gl_FragColor = vec4(mix(intensity, rgb, u_satAdjust), 1.);
          }
          else {
            gl_FragColor = vec4(rgb,1.);
          }
          return;
        }
        if (u_operationMode == DOWNSCALE_MODE) {
          vec2 offset = 0.4*vec2(1.,1.) / u_textureSize;
        
          gl_FragColor = (1./3.)*(texture2D(u_image, v_texCoord) + 
                0.5*texture2D(u_image, v_texCoord + vec2(offset[0],0.)) + 0.5*texture2D(u_image, v_texCoord - vec2(offset[0],0.)) +
                0.5*texture2D(u_image, v_texCoord + vec2(0,offset[1])) + 0.5*texture2D(u_image, v_texCoord - vec2(0.,offset[1])));		
          return;
        }

        if (u_operationMode == BLUR_MODE) {
          vec3 color = vec3(0.0);					
          
          float alpha = 0.;
          //vec2 off1_a = vec2(1.3333333333333333) * u_direction / u_textureSize;
          vec2 off1_a = vec2(1.15) * u_direction / u_textureSize;
          alpha += texture2D(u_image, v_texCoord).a * 0.29411764705882354;
          alpha += texture2D(u_image, v_texCoord + off1_a).a * 0.35294117647058826;
          alpha += texture2D(u_image, v_texCoord - off1_a).a * 0.35294117647058826;
          
          vec2 off1 = vec2(1.3846153846) * u_direction / u_textureSize;
          vec2 off2 = vec2(3.2307692308) * u_direction / u_textureSize;
          color += texture2D(u_image, v_texCoord).rgb * 0.2270270270;
          color += texture2D(u_image, v_texCoord + off1).rgb * 0.3162162162;
          color += texture2D(u_image, v_texCoord - off1).rgb * 0.3162162162;
          color += texture2D(u_image, v_texCoord + off2).rgb * 0.0702702703;
          color += texture2D(u_image, v_texCoord - off2).rgb * 0.0702702703;
          
          gl_FragColor = vec4(color, alpha);
          return;
        }
        if (u_operationMode == FLOOD_MODE) {
          vec3 color = vec3(0.0);					
          vec2 off1 = vec2(1.5) * u_direction / u_textureSize;
          vec2 off2 = vec2(3.) * u_direction / u_textureSize;
          color += texture2D(u_image, v_texCoord).rgb;
          color += texture2D(u_image, v_texCoord + off1).rgb;
          color += texture2D(u_image, v_texCoord - off1).rgb;
          color += texture2D(u_image, v_texCoord + off2).rgb;
          color += texture2D(u_image, v_texCoord - off2).rgb;
          color = clamp(color,0.,1.);
          gl_FragColor = vec4(color, 1.);
          return;
        }
        if (u_operationMode == SMOOTHMASK_MODE) {
          // Compute the smoothing constant based on the motion 
          float smooth_coef = 1.;
          float out_smooth;
          out_smooth = smooth_coef*texture2D(u_image, v_texCoord).a + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord).a;
          float motion = length(out_smooth-texture2D(u_image_alpha, v_texCoord).a);
          //if (motion < 0.1) smooth_coef = 0.125;
          //else  smooth_coef = 0.85;
          float max_smooth = 0.85;//0.8;
          float min_smooth = 0.1275;	
          float max_motion_val = 0.9;//0.8;
          float min_motion_val = 0.05;//0.1;

          float slope = (max_smooth - min_smooth)/(max_motion_val - min_motion_val);
          float offset = max_smooth - slope*max_motion_val;
          smooth_coef = min(max(slope*motion + offset,min_smooth),max_smooth);
                    
          gl_FragColor = vec4(texture2D(u_image, v_texCoord).rgb,
                  smooth_coef*texture2D(u_image, v_texCoord).a + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord).a);
          
          return;
        }
        
        if (u_operationMode == SATURATE_MODE) {					
          const vec3 W = vec3(0.2125, 0.7154, 0.0721);
          vec3 rgb = texture2D(u_image, v_texCoord).rgb;
          vec3 intensity = vec3(dot(rgb, W));
          gl_FragColor = vec4(mix(intensity, rgb, u_satAdjust), 1.);
          return;
        }
        
        if (u_operationMode == SMOOTH_MODE) {					
          float smooth_coef = 0.25;
          gl_FragColor = smooth_coef*texture2D(u_image, v_texCoord) + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord);												
          return;
        }
        
        if (u_operationMode == DOWNSCALE_SUBTRACT_MODE) {
          vec2 offset = 0.4*vec2(1.,1.) / u_textureSize;
          float smooth_coef = 0.25;
          vec3 in1 = (texture2D(u_image, v_texCoord).rgb);
          vec3 in2 = smooth_coef*in1 + (1.-smooth_coef)*(texture2D(u_image_bkground, v_texCoord).rgb);
          float alpha = abs((in1.r + in1.g + in1.b) - (in2.r + in2.g + in2.b));
          float alpha2 = mix(0.0, 1.0, step(0.2, alpha));	
          alpha = 1.-smoothstep(0.0,0.00015, alpha);
          alpha = clamp(alpha,0.25,1.);
          gl_FragColor = vec4(alpha2,alpha,alpha,1);					
          return;
        }

        if (u_operationMode == DENOISE_UPDATE_MODE) {
          // u_image_alpha = noisy image, u_image_bkground = previously clean image
          float smooth_coef = 0.25;
          float alpha  = texture2D(u_image, v_texCoord).g;
          vec3 noisy = texture2D(u_image_alpha, v_texCoord).rgb;
          vec3 clean = smooth_coef*noisy + (1.-smooth_coef)*(texture2D(u_image_denoise, v_texCoord).rgb);
          if ((v_texCoord.x>u_denoiseTl.x)&&(v_texCoord.y>u_denoiseTl.y)&&(v_texCoord.x<u_denoiseBr.x)&&(v_texCoord.y<u_denoiseBr.y))
          {
            alpha = 1.;
          }
          gl_FragColor = vec4(mix(noisy,clean,alpha),1.);
          return;
        }	

        if (u_operationMode == COPY_MODE) {
          gl_FragColor = texture2D(u_image, v_texCoord);
          return;
        }			
        
        if (u_operationMode == PRECOMPUTE_GF_MODE) {   
          vec2 off1 = vec2(0.8*1.3846153846, 0.) / u_textureSize;
          vec2 off2 = vec2(0., 0.8*1.3846153846) / u_textureSize;
          vec2 off3 = vec2(3.2307692308, 0.) / u_textureSize;
          vec2 off4 = vec2(0., 3.2307692308) / u_textureSize;

          vec3 rgb   = texture2D(u_image, v_texCoord).rgb;
          float intensity  = dot(rgb, vec3(0.299, 0.587, 0.114));
          float intensitySquareMean = intensity*intensity*(1./5.);
          float intensityMean = intensity*(1./5.);

          float intensityTmp = dot(texture2D(u_image, v_texCoord + off1).rgb, vec3(0.299, 0.587, 0.114));
          intensityMean += (1./5.)*intensityTmp;
          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;

          intensityTmp = dot(texture2D(u_image, v_texCoord - off1).rgb, vec3(0.299, 0.587, 0.114));
          intensityMean += (1./5.)*intensityTmp;
          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;

          intensityTmp = dot(texture2D(u_image, v_texCoord + off2).rgb, vec3(0.299, 0.587, 0.114));
          intensityMean += (1./5.)*intensityTmp;
          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;

          intensityTmp = dot(texture2D(u_image, v_texCoord - off2).rgb, vec3(0.299, 0.587, 0.114));
          intensityMean += (1./5.)*intensityTmp;
          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;
                    
          //step(a,x)*step(x,b);
          float isSkinColor;
          //isSkinColor = step(80./255., intensity)*step(intensity, 1.);
          isSkinColor = step(80./255., intensity)*step(intensity, 1.);
          float Cb = dot(rgb, vec3(-0.169, -0.331, 0.499))+0.5;
          //isSkinColor = isSkinColor*step(85./255., Cb)*step(Cb, 135./255.);
          isSkinColor = isSkinColor*step(85./255., Cb)*step(Cb, 124./255.);
          //isSkinColor = isSkinColor*step(85./255., Cb)*step(Cb, 122./255.);
          float Cr = dot(rgb, vec3(0.499, -0.418, -0.0813))+0.5;
          isSkinColor = isSkinColor*step(120./255., Cr)*step(Cr, 180./255.);

          // compute the alpha blending weight
          float alpha = intensitySquareMean - intensityMean*intensityMean;
          if (!((v_texCoord.x>u_denoiseTl.x)&&(v_texCoord.y>u_denoiseTl.y)&&(v_texCoord.x<u_denoiseBr.x)&&(v_texCoord.y<u_denoiseBr.y)))
          {
            isSkinColor = 0.;
          }
          alpha = alpha/(alpha + u_faceSmoothEps*isSkinColor);

          if (u_facialSmoothInit == 0) {
            float smooth_coef = 0.25;
            alpha = smooth_coef*alpha + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord).a;
          }

          rgb.x  = intensityMean;
          gl_FragColor = vec4(rgb,alpha);
          return;
        }
               
        if (u_operationMode == COMPUTE_GF_COEFF_MODE) {
          vec3 ycbcrOrig = vec3(0.0);                 
          vec3 rgb = texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).rgb;
          vec3 imgOrig = texture2D(u_image_bkground, u_zoomScale*v_texCoord+u_panTilt).rgb;					

          ycbcrOrig.x = dot(imgOrig, vec3(0.299, 0.587, 0.114));
          
          ycbcrOrig.y = dot(imgOrig, vec3(-0.169, -0.331, 0.499))+0.5;
          ycbcrOrig.z = dot(imgOrig, vec3(0.499, -0.418, -0.0813))+0.5;
          ycbcrOrig.x = mix(rgb.x, ycbcrOrig.x, texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).a);
          //ycbcrOrig.x = rgb.x;
          ycbcrOrig = clamp(ycbcrOrig, 0., 1.);
          
          rgb.x = ycbcrOrig.x + 1.402*(ycbcrOrig.z-0.5);
          rgb.y = ycbcrOrig.x - 0.344*(ycbcrOrig.y-0.5) - 0.714*(ycbcrOrig.z-0.5);
          rgb.z = ycbcrOrig.x + 1.772*(ycbcrOrig.y-0.5);
          
          rgb = u_toneMapPoly[0] + rgb*u_toneMapPoly[1] + rgb*rgb*u_toneMapPoly[2];
          if (u_satAdjust != 1.) {
            const vec3 W = vec3(0.2125, 0.7154, 0.0721);
            
            vec3 intensity = vec3(dot(rgb, W));
            gl_FragColor = vec4(mix(intensity, rgb, u_satAdjust), 1.);
          }
          else {
            gl_FragColor = vec4(rgb,1.);
          }          
          return;  
        }
      }`);if(!R||!K)return;const ae=k.createProgram();if(k.attachShader(ae,R),k.attachShader(ae,K),k.linkProgram(ae),!k.getProgramParameter(ae,k.LINK_STATUS))throw k.getProgramInfoLog(ae),k.deleteProgram(ae),"[Segmentation] Error linking program:\n${infoLog}";k.deleteShader(R),k.deleteShader(K),this.programSegment_=ae,this.positionLocation_=k.getAttribLocation(this.programSegment_,"a_position"),k.enableVertexAttribArray(this.positionLocation_),k.bindBuffer(k.ARRAY_BUFFER,k.createBuffer()),k.vertexAttribPointer(this.positionLocation_,2,k.FLOAT,!1,0,0),this.positionArray_=new Float32Array([0,0,u.width,0,0,u.height,0,u.height,u.width,0,u.width,u.height]),k.bufferData(k.ARRAY_BUFFER,this.positionArray_,k.STATIC_DRAW),this.texcoordLocation_=k.getAttribLocation(this.programSegment_,"a_texCoord"),k.enableVertexAttribArray(this.texcoordLocation_),k.bindBuffer(k.ARRAY_BUFFER,k.createBuffer()),k.vertexAttribPointer(this.texcoordLocation_,2,k.FLOAT,!1,0,0),k.bufferData(k.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),k.STATIC_DRAW),this.textureSizeLocation_=k.getUniformLocation(this.programSegment_,"u_textureSize"),this.resolutionLocation_=k.getUniformLocation(this.programSegment_,"u_resolution"),this.directionLocation_=k.getUniformLocation(this.programSegment_,"u_direction"),this.flipYLocation_=k.getUniformLocation(this.programSegment_,"u_flipY"),this.shaderOperationMode_=k.getUniformLocation(this.programSegment_,"u_operationMode"),this.facialSmoothInit_=k.getUniformLocation(this.programSegment_,"u_facialSmoothInit"),this.zoomScale_=k.getUniformLocation(this.programSegment_,"u_zoomScale"),this.faceSmoothEps_=k.getUniformLocation(this.programSegment_,"u_faceSmoothEps"),this.satAdjust_=k.getUniformLocation(this.programSegment_,"u_satAdjust"),this.toneMapPoly_=k.getUniformLocation(this.programSegment_,"u_toneMapPoly"),this.panTilt_=k.getUniformLocation(this.programSegment_,"u_panTilt"),this.denoiseTl_=k.getUniformLocation(this.programSegment_,"u_denoiseTl"),this.denoiseBr_=k.getUniformLocation(this.programSegment_,"u_denoiseBr"),k.viewport(0,0,this.widthModel_,this.heightModel_),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),k.useProgram(this.programSegment_),k.uniform1f(this.flipYLocation_,1),k.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.blend),k.uniform1i(this.facialSmoothInit_,1),k.uniform1f(this.faceSmoothEps_,.001),k.uniform1f(this.zoomScale_,1),k.uniform2f(this.panTilt_,0,0),k.uniform1f(this.satAdjust_,1),k.uniform3f(this.toneMapPoly_,0,1,0),k.uniform2f(this.denoiseTl_,2,2),k.uniform2f(this.denoiseBr_,-1,-1),k.uniform2f(this.resolutionLocation_,u.width,u.height),k.uniform2f(this.textureSizeLocation_,this.widthModel_,this.heightModel_),this.u_imageLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image"),this.gl_.uniform1i(this.u_imageLocation_,0),this.u_imageBkgndLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image_bkground"),this.gl_.uniform1i(this.u_imageBkgndLocation_,1),this.u_imageAlphaLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image_alpha"),this.gl_.uniform1i(this.u_imageAlphaLocation_,2),this.u_imageDenoiseLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image_denoise"),this.gl_.uniform1i(this.u_imageDenoiseLocation_,3),this.inPixels_=new Uint8Array(4*this.widthModel_*this.heightModel_),this.textureBackground_=b(this.gl_),this.texturePrevMask_=b(this.gl_),k.texImage2D(k.TEXTURE_2D,0,k.RGBA,this.widthModel_,this.heightModel_,0,k.RGBA,k.UNSIGNED_BYTE,null),this.gl_.activeTexture(this.gl_.TEXTURE2),this.fbPrevMask_=k.createFramebuffer(),k.bindFramebuffer(k.FRAMEBUFFER,this.fbPrevMask_),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,this.texturePrevMask_,0),this.fbTmp_=[],this.textureTmp_=[];for(let le=0;le<2;le++){var Y=b(this.gl_);this.textureTmp_.push(Y),k.texImage2D(k.TEXTURE_2D,0,k.RGBA,this.widthModel_,this.heightModel_,0,k.RGBA,k.UNSIGNED_BYTE,null);var oe=k.createFramebuffer();this.fbTmp_.push(oe),k.bindFramebuffer(k.FRAMEBUFFER,oe),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,Y,0)}this.textureDenoiseInit_=!1,this.textureDenoiseHist_=[],this.fbDenoiseHist_=[];for(let le=0;le<2;le++)this.textureDenoiseHist_.push(b(this.gl_)),k.texImage2D(k.TEXTURE_2D,0,k.RGBA,u.width,u.height,0,k.RGBA,k.UNSIGNED_BYTE,null),this.fbDenoiseHist_.push(k.createFramebuffer()),k.bindFramebuffer(k.FRAMEBUFFER,this.fbDenoiseHist_[le]),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,this.textureDenoiseHist_[le],0);this.denoiseHistIndex_=0,this.fbFacialSmooth_=[],this.textureFacialSmooth_=b(this.gl_),k.texImage2D(k.TEXTURE_2D,0,k.RGBA,this.widthModel_,this.heightModel_,0,k.RGBA,k.UNSIGNED_BYTE,null),this.fbFacialSmooth_=k.createFramebuffer(),k.bindFramebuffer(k.FRAMEBUFFER,this.fbFacialSmooth_),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,this.textureFacialSmooth_,0),this.texture_=b(this.gl_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),k.bindFramebuffer(k.FRAMEBUFFER,null)}reinitTextures(u,k){if(this.textureInit_=!1,this.width_!==u||this.height_!==k){this.width_=u,this.height_=k,this.canvas_.setAttribute("width",this.width_),this.canvas_.setAttribute("height",this.height_),this.debug_===!0&&console.debug("[Segmentation::reinitTextures] Resolution",this.width_,this.height_,"canvas",this.canvas_.width,this.canvas_.height),this.textureInit_=!1;for(let R=0;R<this.textureDenoiseHist_.length;R++)this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[R]),this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGBA,this.width_,this.height_,0,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,null);this.denoiseHistIndex_=0}this.denoiseReset()}smoothMaskReset(){this.init_prev_mask_=!1}denoiseReset(){this.textureDenoiseInit_=!1}faceSmoothReset(){this.facialSmoothNeedInit_=!0}async passthrough(u){let k=new Uint8Array(4);this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.viewport(0,0,1,1),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[0]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.readPixels(0,0,1,1,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,k),this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.textureInit_==0?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,u),this.textureInit_=!0):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,u),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}async applyDenoise(u){let k,R,K,ae;this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.denoiseHistIndex_=(this.denoiseHistIndex_+1)%2,this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[this.denoiseHistIndex_]),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.textureInit_===!1?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,u),this.textureInit_=!0):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,u),this.gl_.activeTexture(this.gl_.TEXTURE2),this.textureDenoiseInit_===!1&&(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,u),this.textureDenoiseInit_=!0),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[this.denoiseHistIndex_]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.downscale_subtract),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.readPixels(0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_),k=2*this.widthModel_,R=-1,K=2*this.heightModel_,ae=-1;for(var Y=0;Y<this.heightModel_;Y++)for(var oe=0;oe<this.widthModel_;oe++)if(this.inPixels_[4*(Y*this.widthModel_+oe)+0]>200){k=Math.min(k,oe);break}for(Y=0;Y<this.heightModel_;Y++)for(oe=this.widthModel_-1;oe>0;oe--)if(this.inPixels_[4*(Y*this.widthModel_+oe)+0]>200){R=Math.max(R,oe);break}for(oe=0;oe<this.widthModel_;oe++)for(Y=0;Y<this.heightModel_;Y++)if(this.inPixels_[4*(Y*this.widthModel_+oe)+0]>200){K=Math.min(K,Y);break}for(oe=0;oe<this.widthModel_;oe++)for(Y=this.heightModel_-1;Y>0;Y--)if(this.inPixels_[4*(Y*this.widthModel_+oe)+0]>200){ae=Math.max(ae,Y);break}k/=this.widthModel_-1,R/=this.widthModel_-1,K/=this.heightModel_-1,ae/=this.heightModel_-1,k*=.9,K*=.9,R=Math.min(1,1.1*R),ae=Math.min(1,1.1*ae),this.gl_.uniform2f(this.denoiseTl_,k,K),this.gl_.uniform2f(this.denoiseBr_,R,ae),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[this.denoiseHistIndex_]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.denoise_update),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbDenoiseHist_[(this.denoiseHistIndex_+1)%2]),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}copyDenoiseToCanvas(){this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[[(this.denoiseHistIndex_+1)%2]]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}async preProcess(u,k){this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),k===!0?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]):(this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.textureInit_==0?this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,u):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,u)),this.readPixelSuccess=!1,this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.downscale),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[0]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.readPixels(0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_),this.readPixelSuccess=!0}putinferEngineInData(u,k){if(this.readPixelSuccess){let K=0;for(let ae=0;ae<this.widthModel_*this.heightModel_*4;ae+=4)u.HEAPF32[k+K]=this.inPixels_[ae]/255,u.HEAPF32[k+K+1]=this.inPixels_[ae+1]/255,u.HEAPF32[k+K+2]=this.inPixels_[ae+2]/255,K+=3}}putinferEngineMask(u,k){this.gl_.activeTexture(this.gl_.TEXTURE0);let R=0;for(var K=0;K<this.inPixels_.length;K+=4)this.inPixels_[K+3]=Math.min(Math.max(255-64*u.HEAPF32[k+R],0),255),R+=1;this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.textureInit_==0?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGBA,this.widthModel_,this.heightModel_,0,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_),this.textureInit_=!0):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_)}getData(u){let k=0;for(let R=0;R<this.widthModel_*this.heightModel_*4;R+=4)u[k]=this.inPixels_[R]/255,u[k+1]=this.inPixels_[R+1]/255,u[k+2]=this.inPixels_[R+2]/255,k+=3}getPixelBuffer(){return this.inPixels_}async reframeOnly(u,k,R){this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.cropresize),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),this.gl_.activeTexture(this.gl_.TEXTURE0),k===!0?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]):this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}facialSmoothing(u,k,R){let K,ae,Y,oe;this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.activeTexture(this.gl_.TEXTURE1),k===!0?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]):this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureFacialSmooth_),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_),K=u._getLargestFaceTLx(),Y=u._getLargestFaceTLy(),ae=K+u._getLargestFaceWidth(),oe=Y+u._getLargestFaceHeight(),K/=this.widthModel_-1,ae/=this.widthModel_-1,Y/=this.heightModel_-1,oe/=this.heightModel_-1,K*=.95,Y*=.95,ae=Math.min(1,1.05*ae),oe=Math.min(1,1.05*oe),this.gl_.uniform2f(this.denoiseTl_,K,Y),this.gl_.uniform2f(this.denoiseBr_,ae,oe),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.precompute_gf),u._getNumFaces()==0&&(this.facialSmoothNeedInit_=!0),this.facialSmoothNeedInit_===!0&&this.gl_.uniform1i(this.facialSmoothInit_,1),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.facialSmoothNeedInit_===!0&&(this.gl_.uniform1i(this.facialSmoothInit_,0),this.facialSmoothNeedInit_=!1),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbFacialSmooth_),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.compute_gf_coeff),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),R===!0?(this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)):(this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbDenoiseHist_[this.denoiseHistIndex_]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_)}async postProcess(u,k){let R;this.gl_.activeTexture(this.gl_.TEXTURE1),R=k===!0?this.textureDenoiseHist_[this.denoiseHistIndex_]:u===!0?this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]:this.texture_,this.gl_.bindTexture(this.gl_.TEXTURE_2D,R),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.fillmask),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.blur);var K=-1;for(let ae=0;ae<2;ae++)K*=-1,this.gl_.uniform1f(this.flipYLocation_,K),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[ae%2]),ae%2==0?this.gl_.uniform2f(this.directionLocation_,0,1):this.gl_.uniform2f(this.directionLocation_,1,0),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[ae%2]);if(this.gl_.uniform2f(this.directionLocation_,0,1),this.gl_.uniform1f(this.flipYLocation_,-K),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[0]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.init_prev_mask_==1?this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.smooth_mask):(this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.init_prev_mask_=!0),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbPrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,R),this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.blend),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),this.uploadBackground_===!0&&this.isVideoBackground_===!1&&(this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureBackground_),this.backgroundImageBitmap_!==null&&(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,this.backgroundImageBitmap_),this.uploadBackground_=!1)),this.updateBackgroundColor_===!0&&this.isVideoBackground_===!1){this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureBackground_);let ae=new Uint8Array(3);ae[0]=this.backgroundRed_,ae[1]=this.backgroundGreen_,ae[2]=this.backgroundBlue_,this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,1,1,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,ae),this.debug_===!0&&console.debug("[Segmentation: postProcess] Has set background color to",this.backgroundRed_,this.backgroundGreen_,this.backgroundBlue_),this.updateBackgroundColor_=!1}this.gl_.activeTexture(this.gl_.TEXTURE1),this.isBokeh_==1?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]):this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureBackground_),this.backgroundVideoSrc_!==null&&this.isVideoBackground_===!0&&this.isBokeh_==0&&this.backgroundVideoSrc_.videoWidth>0&&(this.imageBitmapBgndVid_=await createImageBitmap(this.backgroundVideoSrc_),this.updateBackgroundVideo_===!0?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,this.imageBitmapBgndVid_),this.updateBackgroundVideo_=!1):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,this.imageBitmapBgndVid_),this.imageBitmapBgndVid_.close()),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,R),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}async captureImage(u){if(this.imgLogLen_!=0){if(this.frameCount_=this.frameCount_+1,this.frameCount_>=this.frameSubSample_){const k=this.diagCanvas_.getContext("2d");for(k.drawImage(u,0,0,this.canvas_.width,this.canvas_.height,0,0,this.diagCanvas_.width/2,this.diagCanvas_.height),k.drawImage(this.canvas_,0,0,this.canvas_.width,this.canvas_.height,this.diagCanvas_.width/2,0,this.diagCanvas_.width/2,this.diagCanvas_.height),this.imgLog_=this.diagCanvas_.toDataURL("image/jpg",.9);this.imgLogList_.length>=this.imgLogLen_;)this.imgLogList_.shift();this.imgLogList_.push(function(R){if(typeof R!="string")throw console.debug("Invalid argument: dataURI must be a string"),"[dataURItoArrayBuffer] Invalid argument: dataURI must be a string";(R=R.split(","))[0].split(":")[1].split(";")[0];for(var K=window.atob(R[1]),ae=K.length,Y=new ArrayBuffer(ae),oe=new Uint8Array(Y),le=0;le<ae;le++)oe[le]=K.charCodeAt(le);return oe}(this.imgLog_)),this.frameCount_=0}}else{for(;this.imgLogList_.length>0;)this.imgLogList_.pop();this.frameCount_=0}}loadShader_(u,k){const R=this.gl_,K=R.createShader(u);if(R.shaderSource(K,k),R.compileShader(K),!R.getShaderParameter(K,R.COMPILE_STATUS))throw R.getShaderInfoLog(K),R.deleteShader(K),"[Segmentation] Error compiling shader:\n${infoLog}";return K}destroy(){this.gl_&&(this.debug_===!0&&console.debug("[Segmentation] Forcing WebGL to lose context."),this.gl_.getExtension("WEBGL_lose_context").loseContext()),destroyDiagCanvas()}}function b(S){var u=S.createTexture();return S.bindTexture(S.TEXTURE_2D,u),S.pixelStorei(S.UNPACK_FLIP_Y_WEBGL,!1),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),u}class F{constructor(u,k={mode:"bokeh",wasm_filepath:l,model_filepath:p,passthrough:!1,debug:!1,autoframe:!1,background:"",logduration:0,process_enable:!0,denoise:!1,face_enhance:!1,face_smooth:!1,face_smooth_strength:100,processing_error_handler:null}){return(async()=>{if((navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")==-1&&navigator.userAgent.indexOf("FxiOS")==-1)===!0)throw W("Safari is not supported.");if((u instanceof HTMLVideoElement||u instanceof MediaStream)==0)throw W("Invalid argument: only MediaStream or HTMLVideoElement");this.setIntervalId_=null,this.localVideo_=null,this.videoElement_=null,this.inStream_=null,this.modelVersion_="",this.logDurationMin_=0,this.logDurationMax_=60,this.faceSmoothStrengthMin_=0,this.faceSmoothStrengthMax_=100,this.config_={};let R={mode:"bokeh",wasm_filepath:l,model_filepath:p,passthrough:!1,debug:!1,autoframe:!1,background:"",logduration:0,process_enable:!0,denoise:!1,face_enhance:!1,face_smooth:!1,face_smooth_strength:100};("mode"in k||typeof k.mode=="string"||k.mode instanceof String)&&(k.mode!=="bokeh"&&k.mode!=="replace"||(R.mode=k.mode)),("passthrough"in k||typeof k.passthrough=="boolean")&&(R.passthrough=k.passthrough),("debug"in k||typeof k.debug=="boolean")&&(R.debug=k.debug),("background"in k||typeof k.background=="string"||k.background instanceof String)&&(R.background=k.background),("autoframe"in k||typeof k.autoframe=="boolean")&&(R.autoframe=k.autoframe),("denoise"in k||typeof k.denoise=="boolean")&&(R.denoise=k.denoise),("logduration"in k||typeof k.logduration=="number")&&(R.logduration=k.logduration),("process_enable"in k||typeof k.process_enable=="boolean")&&(R.process_enable=k.process_enable),("face_enhance"in k||typeof k.face_enhance=="boolean")&&(R.face_enhance=k.face_enhance),("face_smooth"in k||typeof k.face_smooth=="boolean")&&(R.face_smooth=k.face_smooth),("face_smooth_strength"in k||typeof k.face_smooth_strength=="number")&&(R.face_smooth_strength=k.face_smooth_strength),("wasm_filepath"in k||typeof k.wasm_filepath=="string"||k.wasm_filepath instanceof String)&&(R.wasm_filepath=k.wasm_filepath),("model_filepath"in k||typeof k.model_filepath=="string"||k.model_filepath instanceof String)&&(R.model_filepath=k.model_filepath),R.debug===!0&&console.debug("[VideoFilter] About to set the params to",R),u instanceof HTMLVideoElement&&(this.videoElement_=u),u instanceof MediaStream&&(this.inStream_=u);let K=!1,ae=!1,Y=R.model_filepath;const oe=function(me){var Oe=me.split("/").pop();const Ke=(Oe=(Oe=Oe.split("?")[0]).split("#")[0]).indexOf(".");return Ke>0?Oe.substring(Ke+1):""}(Y);oe==="tflite"?(K=!1,R.debug===!0&&console.debug("[VideoFilter] Unencrypted model.")):K=!0,oe==="pkgtflite"&&(K=!1,ae=!0,R.debug===!0&&console.debug("[VideoFilter] Unencrypted packaged model.")),oe!=="pkgwvsl"&&oe!=="bin"||(K=!0,ae=!0),R.debug===!0&&console.debug("[VideoFilter] Model filename extension: ",oe);const le=await fetch(Y),Ee=await le.arrayBuffer();return R.debug===!0&&console.debug("[VideoFilter] Have downloaded inferEngine model with size:",Ee.byteLength),this.inferEngineObj_=await async function(me){try{return await w()({locateFile:function(){return me}})}catch(Oe){throw console.debug("[VideoFilter: loadInferEngine] Failed to create Infer SIMD WebAssembly module.",Oe),Oe}}(R.wasm_filepath),this.modelVersion_=await async function(me,Oe,Ke,Pe,we){const yt=me._getModelBufferMemoryOffset();if(we===!0&&console.debug("[VideoFilter: loadInferModel] Loading model buffer..."),me.HEAPU8.set(new Uint8Array(Oe),yt),me._loadModel(Oe.byteLength,Ke,Pe)==0==0)return"N/A";we===!0&&console.debug("[VideoFilter: loadInferModel] Model has been successfully loaded");let Pt=me._getInputName(),Mt=new Uint8Array(16);for(var rt=0;rt<Mt.length;rt++)Mt[rt]=me.HEAPU8[Pt+rt+8];let Rt=new TextDecoder().decode(Mt);return Rt.includes("_VER")===!1&&(Rt="N/A"),we===!0&&console.debug("[VideoFilter: loadInferModel] Model version  :",Rt),Rt}(this.inferEngineObj_,Ee,K,ae,R.debug),this.inputMemoryOffset_=this.inferEngineObj_._getInputMemoryOffset()/4,this.outputMemoryOffset_=this.inferEngineObj_._getOutputMemoryOffset(0)/4,this.inStream_!==null&&(this.width_=u.getVideoTracks()[0].getSettings().width,this.height_=u.getVideoTracks()[0].getSettings().height,this.fps_=u.getVideoTracks()[0].getSettings().frameRate),this.videoElement_!==null&&(this.width_=u.videoWidth,this.height_=u.videoHeight,this.fps_=30),this.canvas_=document.createElement("canvas"),this.canvas_.setAttribute("width",this.width_),this.canvas_.setAttribute("height",this.height_),this.Segment_=new m(this.canvas_),this.setDebugMode(R.debug),this.setPassthroughMode(R.passthrough),this.setAutoframeMode(R.autoframe),this.setFaceEnhanceMode(R.face_enhance),this.setFaceSmoothMode(R.face_smooth),this.setDenoiseMode(R.denoise),this.setProcessEnable(R.process_enable),this.setLogDuration(R.logduration),this.setFaceSmoothStrength(R.face_smooth_strength),R.background.length>0&&await this.changeBackground(R.background),this.inStream_!==null&&this.initStream(this.inStream_),this.videoElement_!==null&&this.initVideo(this.videoElement_),this.setBackgroundMode(R.mode),this.outStream_=this.canvas_.captureStream(),await this.applyConstraintsOnStream(this.outStream_,{frameRate:this.fps_}),R.debug===!0&&console.debug("[VideoFilter]: Capturing at",this.fps_,"fps,",this.width_,"x",this.height_),this})()}setProcessEnable(u){this.config_.process_enable=u}getProcessEnable(u){return this.config_.process_enable}setFaceEnhanceMode(u){this.config_.face_enhance=u}getFaceEnhanceMode(u){return this.config_.face_enhance}setFaceSmoothMode(u){this.Segment_.faceSmoothReset(),this.config_.face_smooth=u}getFaceSmoothMode(u){return this.config_.face_smooth}setLogDuration(u){let k=parseInt(u);k>=this.logDurationMin_&&k<=this.logDurationMax_?(this.Segment_.setLogDurationSec(k),this.config_.logduration=k):console.debug("[VideoFilter] Unable to setLogDuration: value is out of range.")}getLogDurationMin(){return this.logDurationMin_}getLogDurationMax(){return this.logDurationMax_}getLogDuration(){return this.config_.logduration}setFaceSmoothStrength(u){let k;k=typeof u=="number"?u:parseInt(u),k>=this.faceSmoothStrengthMin_&&k<=this.faceSmoothStrengthMax_?(this.Segment_.setFaceSmoothStrengthVal(k,this.faceSmoothStrengthMin_,this.faceSmoothStrengthMax_),this.config_.face_smooth_strength=k):console.debug("[VideoFilter] Unable to setFaceSmoothStrength: value is out of range.")}getFaceSmoothStrengthMax(){return this.faceSmoothStrengthMax_}getFaceSmoothStrengthMin(){return this.faceSmoothStrengthMin_}getFaceSmoothStrength(){return this.config_.face_smooth_strength}uploadVideoLog(){let u=this.Segment_.getVideoLog();(async function(k){return new Promise((R,K)=>{let ae=new FileReader;ae.onerror=K,ae.onload=Y=>R(ae.result),ae.readAsDataURL(k)})})(new Blob([u],{type:"image/png"})).then(k=>async function(R,K){let ae=new XMLHttpRequest;ae.responseType="blob",ae.onload=function(){let Y=document.createElement("a");Y.href=window.URL.createObjectURL(ae.response),Y.download="videoLog.bin",Y.style.display="none",document.body.appendChild(Y),Y.click(),Y.remove()},ae.open("GET",R),ae.send()}(k))}setPassthroughMode(u){this.Segment_.denoiseReset(),this.config_.passthrough=u}getPassthroughMode(){return this.config_.passthrough}setAutoframeMode(u){this.config_.autoframe=u}getAutoframeMode(){return this.config_.autoframe}setDenoiseMode(u){this.Segment_.denoiseReset(),this.config_.denoise=u}getDenoiseMode(){return this.config_.denoise}setDebugMode(u){this.Segment_.setDebug(u),this.config_.debug=u}getDebugMode(){return this.config_.debug}setBackgroundMode(u){u=="bokeh"?(this.Segment_.setOperationMode("bokeh"),this.config_.mode="bokeh"):u=="replace"?(this.Segment_.setOperationMode("replace"),this.config_.mode="replace"):(this.Segment_.setOperationMode("bokeh"),this.config_.mode="bokeh",console.log("[VideoFilter]: setBackgroundMode error:",u,"is invalid options. Valid options are {'bokeh','replace'}"))}setSaturation(u){this.Segment_.setSaturation(u)}getBackgroundMode(){return this.config_.mode}setProcessingErrorHandler(u){this.config_.processing_error_handler=u}async getImageBitMap(u){return new Promise(async(k,R)=>{let K=new Image;K.onload=async()=>{this.config_.debug===!0&&console.debug("[VideoFilter: getImageBitMap] About to createImageBitmap");let ae=await createImageBitmap(K);K=null,this.config_.debug===!0&&console.debug("[VideoFilter: getImageBitMap] Have been changed to",u),k(ae)},K.onerror=function(){K=null,console.log("[VideoFilter: getImageBitMap] backgroundImg.onerror"),R(null)},K.src=u,this.config_.debug===!0&&console.debug("[VideoFilter: getImageBitMap] backgroundImg_.src",u)})}getModelVersion(){return this.modelVersion_}async changeBackground(u){if(typeof u=="string"||u instanceof String)if(u.charAt(0)=="#"&&u.length==7){if(parseInt(u.slice(1),16).toString(16)!==u.slice(1).toLowerCase())throw new W("Invalid argument: input string does not contain hex values");this.changeBackgroundColor(u)}else u.split(".").pop()==="mp4"?await this.changeVideoBackground(u):await this.changeImageBackground(u);else await this.changeImageBackground(u)}changeBackgroundColor(u){let k=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(u),R=parseInt(k[1],16),K=parseInt(k[2],16),ae=parseInt(k[3],16);this.Segment_.setBackgroundColor(R,K,ae),this.config_.debug===!0&&console.debug("[VideoFilter: changeBackgroundColor]")}async changeImageBackground(u){try{let k;typeof u=="string"||u instanceof String?(this.config_.debug===!0&&console.debug("[VideoFilter: changeImageBackground] backgroundImg_.src",u),k=await this.getImageBitMap(u)):k=await createImageBitmap(u),k!==null&&(this.backgroundImageBitmap_=k,this.config_.background=u,this.Segment_.setBackgroundImageBitmap(k))}catch(k){throw new W("Failed to load background image",k)}}async changeVideoBackground(u){try{this.videoBackgroundSrc_==null&&(this.videoBackgroundSrc_=document.createElement("video"),this.videoBackgroundSrc_.addEventListener("loadeddata",function(){this.videoBackgroundSrc_.videoWidth>0&&(this.config_.debug===!0&&console.debug("[VideoFilter: changeVideoBackground] About to set the video background"),this.Segment_.setBackgroundVideoSrc(this.videoBackgroundSrc_),this.config_.debug===!0&&console.debug("[VideoFilter: changeVideoBackground] video background has changed"))}.bind(this))),this.localVideo_.onpause=()=>{this.config_.debug===!0&&console.debug("[VideoFilter: changeVideoBackground] 'pause': should pause background video")},typeof u=="string"||u instanceof String?(this.Segment_.pauseBackgroundVideo(),this.videoBackgroundSrc_.pause(),this.videoBackgroundSrc_.src="",this.videoBackgroundSrc_.srcObject=null,this.videoBackgroundSrc_.load(),this.videoBackgroundSrc_.src=u,this.videoBackgroundSrc_.type="video/mp4",this.videoBackgroundSrc_.autoplay=!0,this.videoBackgroundSrc_.loop=!0,this.config_.debug===!0&&console.debug("[VideoFilter: changeVideoBackground] backgroundVideo_.src",this.videoBackgroundSrc_)):console.warn("[VideoFilter: changeVideoBackground] ERROR: videoSrc is not a string")}catch(k){throw new W("Failed to load background video",k)}}initVideo(u){this.localVideo_=u,this.config_.debug===!0&&console.debug("[VideoFilter: initVideo] About to start the stream"),this.localVideo_.addEventListener("play",()=>{this.config_.debug===!0&&(console.debug("[VideoFilter: initVideo] 'play': setInterval",this.setIntervalId_,"this.videoElement_",this.videoElement_),this.config_.local_video_started=!0)}),this.localVideo_.onpause=()=>{this.config_.debug===!0&&console.debug("[VideoFilter: initStream] 'pause': calling filter stop"),this.config_.local_video_started=!1,this.stop()}}initStream(u){let k=document.createElement("video");k.srcObject=u,k.autoplay=!0,this.localVideo_=k,this.config_.debug===!0&&console.debug("[VideoFilter: initStream] About to start the stream"),this.config_.local_video_started=!1,this.localVideo_.addEventListener("play",()=>{this.config_.debug===!0&&console.debug("[VideoFilter: initStream] 'play': setInterval",this.setIntervalId_,"this.inStream_",this.inStream_),this.config_.local_video_started=!0}),this.localVideo_.onpause=()=>{this.config_.debug===!0&&console.debug("[VideoFilter: initStream] 'pause': calling filter stop"),this.config_.local_video_started=!1,this.stop()}}reinitStream(u){this.localVideo_.srcObject=u,this.config_.debug===!0&&console.debug("[VideoFilter: reinitStream] Setting to new stream")}stop(){this.localVideo_!==null&&this.setIntervalId_!==null&&(clearInterval(this.setIntervalId_),delete this.setIntervalId_,this.setIntervalId_=null,this.config_.debug===!0&&console.debug("[VideoFilter: stop] Have stopped video filter"))}start(){this.localVideo_!==null&&this.setIntervalId_===null&&(this.setIntervalId_=setInterval(this.processSafe.bind(this),1e3/this.fps_,this.localVideo_,this.Segment_,this.config_,this.inputMemoryOffset_,this.outputMemoryOffset_,this.inferEngineObj_),this.config_.debug===!0&&console.debug("[VideoFilter: start] Have started video filter, fps:",this.fps_))}restart(){this.localVideo_!==null&&this.setIntervalId_===null&&(this.setIntervalId_=setInterval(this.processSafe.bind(this),1e3/this.fps_,this.localVideo_,this.Segment_,this.config_,this.inputMemoryOffset_,this.outputMemoryOffset_,this.inferEngineObj_),this.config_.debug===!0&&console.debug("[VideoFilter: restart] Have restarted video filter"))}async changeInput(u){if((u instanceof HTMLVideoElement||u instanceof MediaStream)==0)throw new W("Failed to change an input. Invalid argument: only MediaStream or HTMLVideoElement for the source");if(u===null)throw new W("Failed to change an input. Invalid argument: source = null");u instanceof HTMLVideoElement&&(this.config_.local_video_started=!1,this.width_=u.videoWidth,this.height_=u.videoHeight,this.fps_=30,this.videoElement_=u,this.Segment_.reinitTextures(this.width_,this.height_),this.inStream_=null,this.Segment_.denoiseReset(),this.Segment_.smoothMaskReset(),this.initVideo(this.videoElement_),this.config_.debug===!0&&console.debug("[VideoFilter::changeInput]",this.videoElement_,this.width_,this.height_,u.videoWidth,u.videoHeight)),u instanceof MediaStream&&(this.config_.local_video_started=!1,this.width_===u.getVideoTracks()[0].getSettings().width&&this.height_===u.getVideoTracks()[0].getSettings().height||(this.width_=u.getVideoTracks()[0].getSettings().width,this.height_=u.getVideoTracks()[0].getSettings().height),this.fps_=u.getVideoTracks()[0].getSettings().frameRate,this.inStream_=u,this.Segment_.reinitTextures(this.width_,this.height_),this.videoElement_=null,this.Segment_.denoiseReset(),this.Segment_.smoothMaskReset(),this.reinitStream(this.inStream_),this.config_.debug===!0&&console.debug("[VideoFilter::changeInput]",this.inStream_))}async process(u,k,R,K,ae,Y){if(R.process_enable===!1||R.local_video_started===!1)return;let oe=await createImageBitmap(u),le=oe.width,Ee=oe.height;if(le<=0||Ee<=0)return console.warn("[VideoFilter: process] Invalid resolution:",le,"x",Ee),void oe.close();if(k.width_==le&&k.height_==Ee||(k.reinitTextures(le,Ee),k.smoothMaskReset(),R.debug===!0&&console.debug("[VideoFilter] Video resolution has changed to: ",le,"x",Ee)),R.passthrough===!0&&R.autoframe===!1&&R.face_enhance===!1&&R.face_smooth===!1)return R.denoise===!0?(await k.applyDenoise(oe),k.copyDenoiseToCanvas()):await k.passthrough(oe),void oe.close();if(R.denoise===!0&&await k.applyDenoise(oe),await k.preProcess(oe,R.denoise),k.putinferEngineInData(Y,K),Y._infer(R.passthrough===!1,R.autoframe===!0||R.face_enhance===!0||R.face_smooth===!0),R.face_enhance===!0){let Pe=Y._getFaceEnhanceSatBoost(),we=[];we.push(Y._getFaceEnhanceCurvePoly(0)),we.push(Y._getFaceEnhanceCurvePoly(1)),we.push(Y._getFaceEnhanceCurvePoly(2)),k.setSaturation(Pe),k.setToneMapPoly(Y._getFaceEnhanceCurvePoly(0),Y._getFaceEnhanceCurvePoly(1),Y._getFaceEnhanceCurvePoly(2))}else k.setSaturation(1),k.setToneMapPoly(0,1,0);let me=Y._getFrameWidth(),Oe=Y._getFrameTLx(),Ke=Y._getFrameTLy();if(k.setZoomScale(1),k.setPanTilt(0,0),R.face_smooth===!0)return R.passthrough===!0?(R.autoframe===!0&&(k.setZoomScale(me),k.setPanTilt(Oe,Ke)),k.facialSmoothing(Y,R.denoise,!0)):(k.facialSmoothing(Y,R.denoise,!1),k.putinferEngineMask(Y,ae),R.autoframe===!0&&(k.setZoomScale(me),k.setPanTilt(Oe,Ke)),k.setSaturation(1),k.setToneMapPoly(0,1,0),await k.postProcess(R.denoise,R.face_smooth)),void oe.close();R.autoframe===!0&&(k.setZoomScale(me),k.setPanTilt(Oe,Ke)),R.passthrough===!0?await k.reframeOnly(Y,R.denoise):(k.putinferEngineMask(Y,ae),await k.postProcess(R.denoise,R.face_smooth)),await k.captureImage(u),oe.close()}async processSafe(...u){try{await this.process(...u)}catch(k){if(typeof this.config_.processing_error_handler=="function")await this.config_.processing_error_handler(k);else{console.error("[VideoFilter: default InternalErrorHandler] Internal error occurred. Stopping...",k);try{this.stop()}catch(R){console.error("[VideoFilter: default InternalErrorHandler] Failed to stop a video filter while internal error occurred",R)}}}}async getOutput(){return this.outStream_}async changeOutputFrameRate(u){if(!this.outStream_||!this.outStream_.getVideoTracks().length)throw new W("Output video track is not available.");this.stop(),this.fps_=u,await this.applyConstraintsOnStream(this.outStream_,{frameRate:u}),this.start(),this.config_.debug===!0&&console.debug("[VideoFilter]: Framerate changed to",this.fps_)}async applyConstraintsOnStream(u,k){var ae;const R=u.getVideoTracks()[0],K={...(ae=R.getConstraints())!=null?ae:{},...k};await R.applyConstraints(K)}}})(),g})(),ye.exports=Z()},5595:function(ye,Z,P){const x=P(8058),_=P(4846),g=P(8254),y=P(2363).y,w=P(9968).m,p=P(5433).U,l=P(1113),C=P(7646),{fromCallback:W}=P(3096),{getCustomInspectSymbol:m}=P(7620),b=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,F=/[\x00-\x1F]/,S=[`
`,"\r","\0"],u=/[\x20-\x3A\x3C-\x7E]+/,k=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,R={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},K=2147483647e3,ae='Invalid sameSiteContext option for getCookies(); expected one of "strict", "lax", or "none"';function Y(Ie){l.validate(l.isNonEmptyString(Ie),Ie);const pe=String(Ie).toLowerCase();return pe==="none"||pe==="lax"||pe==="strict"?pe:null}const oe=Object.freeze({SILENT:"silent",STRICT:"strict",DISABLED:"unsafe-disabled"}),le=/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-f\d]{1,4}:){7}(?:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,2}|:)|(?:[a-f\d]{1,4}:){4}(?:(?::[a-f\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,3}|:)|(?:[a-f\d]{1,4}:){3}(?:(?::[a-f\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,4}|:)|(?:[a-f\d]{1,4}:){2}(?:(?::[a-f\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,5}|:)|(?:[a-f\d]{1,4}:){1}(?:(?::[a-f\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,7}|:)))$)/,Ee=`
\\[?(?:
(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|
(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|
(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|
(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|
(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:))
)(?:%[0-9a-zA-Z]{1,})?\\]?
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),me=new RegExp(`^${Ee}$`);function Oe(Ie,pe,ge,Ce){let Ae=0;for(;Ae<Ie.length;){const ut=Ie.charCodeAt(Ae);if(ut<=47||ut>=58)break;Ae++}return Ae<pe||Ae>ge?null:Ce||Ae==Ie.length?parseInt(Ie.substr(0,Ae),10):null}function Ke(Ie){const pe=Ie.split(":"),ge=[0,0,0];if(pe.length!==3)return null;for(let Ce=0;Ce<3;Ce++){const Ae=Ce==2,ut=Oe(pe[Ce],1,2,Ae);if(ut===null)return null;ge[Ce]=ut}return ge}function Pe(Ie){Ie=String(Ie).substr(0,3).toLowerCase();const pe=R[Ie];return pe>=0?pe:null}function we(Ie){if(!Ie)return;const pe=Ie.split(k);if(!pe)return;let ge=null,Ce=null,Ae=null,ut=null,it=null,et=null;for(let bt=0;bt<pe.length;bt++){const Ze=pe[bt].trim();if(!Ze.length)continue;let _t;Ae===null&&(_t=Ke(Ze),_t)?(ge=_t[0],Ce=_t[1],Ae=_t[2]):ut!==null||(_t=Oe(Ze,1,2,!0),_t===null)?it!==null||(_t=Pe(Ze),_t===null)?et===null&&(_t=Oe(Ze,2,4,!0),_t!==null&&(et=_t,et>=70&&et<=99?et+=1900:et>=0&&et<=69&&(et+=2e3))):it=_t:ut=_t}return ut===null||it===null||et===null||Ae===null||ut<1||ut>31||et<1601||ge>23||Ce>59||Ae>59?void 0:new Date(Date.UTC(et,it,ut,ge,Ce,Ae))}function yt(Ie){return Ie==null?null:(Ie=Ie.trim().replace(/^\./,""),me.test(Ie)&&(Ie=Ie.replace("[","").replace("]","")),x&&/[^\u0001-\u007f]/.test(Ie)&&(Ie=x.toASCII(Ie)),Ie.toLowerCase())}function Pt(Ie,pe,ge){if(Ie==null||pe==null)return null;if(ge!==!1&&(Ie=yt(Ie),pe=yt(pe)),Ie==pe)return!0;const Ce=Ie.lastIndexOf(pe);return!(Ce<=0||Ie.length!==pe.length+Ce||Ie.substr(Ce-1,1)!=="."||le.test(Ie))}function Mt(Ie){let pe;try{pe=JSON.parse(Ie)}catch(ge){return ge}return pe}function rt(Ie){if(!Ie||l.isEmptyString(Ie))return null;let pe;if(typeof Ie=="string"){if(pe=Mt(Ie),pe instanceof Error)return null}else pe=Ie;const ge=new Be;for(let Ce=0;Ce<Be.serializableProperties.length;Ce++){const Ae=Be.serializableProperties[Ce];pe[Ae]!==void 0&&pe[Ae]!==Wt[Ae]&&(Ae==="expires"||Ae==="creation"||Ae==="lastAccessed"?pe[Ae]===null?ge[Ae]=null:ge[Ae]=pe[Ae]=="Infinity"?"Infinity":new Date(pe[Ae]):ge[Ae]=pe[Ae])}return ge}function Rt(Ie,pe){l.validate(l.isObject(Ie),Ie),l.validate(l.isObject(pe),pe);let ge=0;const Ce=Ie.path?Ie.path.length:0;return ge=(pe.path?pe.path.length:0)-Ce,ge!==0||(ge=(Ie.creation?Ie.creation.getTime():K)-(pe.creation?pe.creation.getTime():K),ge!==0||(ge=Ie.creationIndex-pe.creationIndex)),ge}function Kt(Ie){if(Ie instanceof Object)return Ie;try{Ie=decodeURI(Ie)}catch{}return _(Ie)}const Wt={key:"",value:"",expires:"Infinity",maxAge:null,domain:null,path:null,secure:!1,httpOnly:!1,extensions:null,hostOnly:null,pathIsDefault:null,creation:null,lastAccessed:null,sameSite:void 0};class Be{constructor(pe={}){const ge=m();ge&&(this[ge]=this.inspect),Object.assign(this,Wt,pe),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++Be.cookiesCreated})}inspect(){const pe=Date.now(),ge=this.hostOnly!=null?this.hostOnly:"?",Ce=this.creation?pe-this.creation.getTime()+"ms":"?",Ae=this.lastAccessed?pe-this.lastAccessed.getTime()+"ms":"?";return`Cookie="${this.toString()}; hostOnly=${ge}; aAge=${Ae}; cAge=${Ce}"`}toJSON(){const pe={};for(const ge of Be.serializableProperties)this[ge]!==Wt[ge]&&(ge==="expires"||ge==="creation"||ge==="lastAccessed"?this[ge]===null?pe[ge]=null:pe[ge]=this[ge]=="Infinity"?"Infinity":this[ge].toISOString():ge==="maxAge"?this[ge]!==null&&(pe[ge]=this[ge]==1/0||this[ge]==-1/0?this[ge].toString():this[ge]):this[ge]!==Wt[ge]&&(pe[ge]=this[ge]));return pe}clone(){return rt(this.toJSON())}validate(){if(!b.test(this.value)||!(this.expires==1/0||this.expires instanceof Date||we(this.expires))||this.maxAge!=null&&this.maxAge<=0||this.path!=null&&!u.test(this.path))return!1;const pe=this.cdomain();return!(pe&&(pe.match(/\.$/)||g.getPublicSuffix(pe)==null))}setExpires(pe){pe instanceof Date?this.expires=pe:this.expires=we(pe)||"Infinity"}setMaxAge(pe){this.maxAge=pe===1/0||pe===-1/0?pe.toString():pe}cookieString(){let pe=this.value;return pe==null&&(pe=""),this.key===""?pe:`${this.key}=${pe}`}toString(){let pe=this.cookieString();this.expires!=1/0&&(this.expires instanceof Date?pe+=`; Expires=${ge=this.expires,l.validate(l.isDate(ge),ge),ge.toUTCString()}`:pe+=`; Expires=${this.expires}`),this.maxAge!=null&&this.maxAge!=1/0&&(pe+=`; Max-Age=${this.maxAge}`),this.domain&&!this.hostOnly&&(pe+=`; Domain=${this.domain}`),this.path&&(pe+=`; Path=${this.path}`),this.secure&&(pe+="; Secure"),this.httpOnly&&(pe+="; HttpOnly"),this.sameSite&&this.sameSite!=="none"&&(pe+=`; SameSite=${Be.sameSiteCanonical[this.sameSite.toLowerCase()]||this.sameSite}`);var ge;return this.extensions&&this.extensions.forEach(Ce=>{pe+=`; ${Ce}`}),pe}TTL(pe){if(this.maxAge!=null)return this.maxAge<=0?0:1e3*this.maxAge;let ge=this.expires;return ge!=1/0?(ge instanceof Date||(ge=we(ge)||1/0),ge==1/0?1/0:ge.getTime()-(pe||Date.now())):1/0}expiryTime(pe){if(this.maxAge!=null){const ge=pe||this.creation||new Date,Ce=this.maxAge<=0?-1/0:1e3*this.maxAge;return ge.getTime()+Ce}return this.expires==1/0?1/0:this.expires.getTime()}expiryDate(pe){const ge=this.expiryTime(pe);return ge==1/0?new Date(K):ge==-1/0?new Date(0):new Date(ge)}isPersistent(){return this.maxAge!=null||this.expires!=1/0}canonicalizedDomain(){return this.domain==null?null:yt(this.domain)}cdomain(){return this.canonicalizedDomain()}}function yi(Ie){if(Ie!=null){const pe=Ie.toLowerCase();switch(pe){case oe.STRICT:case oe.SILENT:case oe.DISABLED:return pe}}return oe.SILENT}Be.cookiesCreated=0,Be.parse=function(Ie,pe){if(pe&&typeof pe=="object"||(pe={}),l.isEmptyString(Ie)||!l.isString(Ie))return null;const ge=(Ie=Ie.trim()).indexOf(";"),Ce=function(it,et){it=function(Jt){if(l.isEmptyString(Jt))return Jt;for(let Lt=0;Lt<S.length;Lt++){const yn=Jt.indexOf(S[Lt]);yn!==-1&&(Jt=Jt.substr(0,yn))}return Jt}(it),l.validate(l.isString(it),it);let bt,Ze,_t=it.indexOf("=");if(et)_t===0&&(_t=(it=it.substr(1)).indexOf("="));else if(_t<=0)return;if(_t<=0?(bt="",Ze=it.trim()):(bt=it.substr(0,_t).trim(),Ze=it.substr(_t+1).trim()),F.test(bt)||F.test(Ze))return;const vn=new Be;return vn.key=bt,vn.value=Ze,vn}(ge===-1?Ie:Ie.substr(0,ge),!!pe.loose);if(!Ce)return;if(ge===-1)return Ce;const Ae=Ie.slice(ge+1).trim();if(Ae.length===0)return Ce;const ut=Ae.split(";");for(;ut.length;){const it=ut.shift().trim();if(it.length===0)continue;const et=it.indexOf("=");let bt,Ze;switch(et===-1?(bt=it,Ze=null):(bt=it.substr(0,et),Ze=it.substr(et+1)),bt=bt.trim().toLowerCase(),Ze&&(Ze=Ze.trim()),bt){case"expires":if(Ze){const _t=we(Ze);_t&&(Ce.expires=_t)}break;case"max-age":if(Ze&&/^-?[0-9]+$/.test(Ze)){const _t=parseInt(Ze,10);Ce.setMaxAge(_t)}break;case"domain":if(Ze){const _t=Ze.trim().replace(/^\./,"");_t&&(Ce.domain=_t.toLowerCase())}break;case"path":Ce.path=Ze&&Ze[0]==="/"?Ze:null;break;case"secure":Ce.secure=!0;break;case"httponly":Ce.httpOnly=!0;break;case"samesite":switch(Ze?Ze.toLowerCase():""){case"strict":Ce.sameSite="strict";break;case"lax":Ce.sameSite="lax";break;case"none":Ce.sameSite="none";break;default:Ce.sameSite=void 0}break;default:Ce.extensions=Ce.extensions||[],Ce.extensions.push(it)}}return Ce},Be.fromJSON=rt,Be.serializableProperties=Object.keys(Wt),Be.sameSiteLevel={strict:3,lax:2,none:1},Be.sameSiteCanonical={strict:"Strict",lax:"Lax"};class Et{constructor(pe,ge={rejectPublicSuffixes:!0}){typeof ge=="boolean"&&(ge={rejectPublicSuffixes:ge}),l.validate(l.isObject(ge),ge),this.rejectPublicSuffixes=ge.rejectPublicSuffixes,this.enableLooseMode=!!ge.looseMode,this.allowSpecialUseDomain=typeof ge.allowSpecialUseDomain!="boolean"||ge.allowSpecialUseDomain,this.store=pe||new w,this.prefixSecurity=yi(ge.prefixSecurity),this._cloneSync=gn("clone"),this._importCookiesSync=gn("_importCookies"),this.getCookiesSync=gn("getCookies"),this.getCookieStringSync=gn("getCookieString"),this.getSetCookieStringsSync=gn("getSetCookieStrings"),this.removeAllCookiesSync=gn("removeAllCookies"),this.setCookieSync=gn("setCookie"),this.serializeSync=gn("serialize")}setCookie(pe,ge,Ce,Ae){let ut;if(l.validate(l.isNonEmptyString(ge),Ae,Ce),l.isFunction(ge))return(Ae=ge)(new Error("No URL was specified"));const it=Kt(ge);if(l.isFunction(Ce)&&(Ae=Ce,Ce={}),l.validate(l.isFunction(Ae),Ae),!l.isNonEmptyString(pe)&&!l.isObject(pe)&&pe instanceof String&&pe.length==0)return Ae(null);const et=yt(it.hostname),bt=Ce.loose||this.enableLooseMode;let Ze=null;if(Ce.sameSiteContext&&(Ze=Y(Ce.sameSiteContext),!Ze))return Ae(new Error(ae));if(typeof pe=="string"||pe instanceof String){if(!(pe=Be.parse(pe,{loose:bt})))return ut=new Error("Cookie failed to parse"),Ae(Ce.ignoreError?null:ut)}else if(!(pe instanceof Be))return ut=new Error("First argument to setCookie must be a Cookie object or string"),Ae(Ce.ignoreError?null:ut);const _t=Ce.now||new Date;if(this.rejectPublicSuffixes&&pe.domain&&g.getPublicSuffix(pe.cdomain(),{allowSpecialUseDomain:this.allowSpecialUseDomain,ignoreError:Ce.ignoreError})==null&&!me.test(pe.domain))return ut=new Error("Cookie has domain set to a public suffix"),Ae(Ce.ignoreError?null:ut);if(pe.domain){if(!Pt(et,pe.cdomain(),!1))return ut=new Error(`Cookie not in this host's domain. Cookie:${pe.cdomain()} Request:${et}`),Ae(Ce.ignoreError?null:ut);pe.hostOnly==null&&(pe.hostOnly=!1)}else pe.hostOnly=!0,pe.domain=et;if(pe.path&&pe.path[0]==="/"||(pe.path=function(Lt){if(!Lt||Lt.substr(0,1)!=="/")return"/";if(Lt==="/")return Lt;const yn=Lt.lastIndexOf("/");return yn===0?"/":Lt.slice(0,yn)}(it.pathname),pe.pathIsDefault=!0),Ce.http===!1&&pe.httpOnly)return ut=new Error("Cookie is HttpOnly and this isn't an HTTP API"),Ae(Ce.ignoreError?null:ut);if(pe.sameSite!=="none"&&pe.sameSite!==void 0&&Ze&&Ze==="none")return ut=new Error("Cookie is SameSite but this is a cross-origin request"),Ae(Ce.ignoreError?null:ut);const vn=this.prefixSecurity===oe.SILENT;if(this.prefixSecurity!==oe.DISABLED){let Lt,yn=!1;if(function(lt){return l.validate(l.isObject(lt),lt),!lt.key.startsWith("__Secure-")||lt.secure}(pe)?function(lt){return l.validate(l.isObject(lt)),!lt.key.startsWith("__Host-")||lt.secure&&lt.hostOnly&&lt.path!=null&&lt.path==="/"}(pe)||(yn=!0,Lt="Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'"):(yn=!0,Lt="Cookie has __Secure prefix but Secure attribute is not set"),yn)return Ae(Ce.ignoreError||vn?null:new Error(Lt))}const Jt=this.store;Jt.updateCookie||(Jt.updateCookie=function(Lt,yn,lt){this.putCookie(yn,lt)}),Jt.findCookie(pe.domain,pe.path,pe.key,function(Lt,yn){if(Lt)return Ae(Lt);const lt=function(kn){if(kn)return Ae(kn);Ae(null,pe)};if(yn){if(Ce.http===!1&&yn.httpOnly)return Lt=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),Ae(Ce.ignoreError?null:Lt);pe.creation=yn.creation,pe.creationIndex=yn.creationIndex,pe.lastAccessed=_t,Jt.updateCookie(yn,pe,lt)}else pe.creation=pe.lastAccessed=_t,Jt.putCookie(pe,lt)})}getCookies(pe,ge,Ce){l.validate(l.isNonEmptyString(pe),Ce,pe);const Ae=Kt(pe);l.isFunction(ge)&&(Ce=ge,ge={}),l.validate(l.isObject(ge),Ce,ge),l.validate(l.isFunction(Ce),Ce);const ut=yt(Ae.hostname),it=Ae.pathname||"/";let et=ge.secure;et!=null||!Ae.protocol||Ae.protocol!="https:"&&Ae.protocol!="wss:"||(et=!0);let bt=0;if(ge.sameSiteContext){const lt=Y(ge.sameSiteContext);if(bt=Be.sameSiteLevel[lt],!bt)return Ce(new Error(ae))}let Ze=ge.http;Ze==null&&(Ze=!0);const _t=ge.now||Date.now(),vn=ge.expire!==!1,Jt=!!ge.allPaths,Lt=this.store;function yn(lt){if(lt.hostOnly){if(lt.domain!=ut)return!1}else if(!Pt(ut,lt.domain,!1))return!1;return!(!Jt&&!p(it,lt.path))&&!(lt.secure&&!et)&&!(lt.httpOnly&&!Ze)&&!(bt&&Be.sameSiteLevel[lt.sameSite||"none"]>bt)&&!(vn&&lt.expiryTime()<=_t&&(Lt.removeCookie(lt.domain,lt.path,lt.key,()=>{}),1))}Lt.findCookies(ut,Jt?null:it,this.allowSpecialUseDomain,(lt,kn)=>{if(lt)return Ce(lt);kn=kn.filter(yn),ge.sort!==!1&&(kn=kn.sort(Rt));const st=new Date;for(const Ln of kn)Ln.lastAccessed=st;Ce(null,kn)})}getCookieString(...pe){const ge=pe.pop();l.validate(l.isFunction(ge),ge),pe.push(function(Ce,Ae){Ce?ge(Ce):ge(null,Ae.sort(Rt).map(ut=>ut.cookieString()).join("; "))}),this.getCookies.apply(this,pe)}getSetCookieStrings(...pe){const ge=pe.pop();l.validate(l.isFunction(ge),ge),pe.push(function(Ce,Ae){Ce?ge(Ce):ge(null,Ae.map(ut=>ut.toString()))}),this.getCookies.apply(this,pe)}serialize(pe){l.validate(l.isFunction(pe),pe);let ge=this.store.constructor.name;l.isObject(ge)&&(ge=null);const Ce={version:`tough-cookie@${C}`,storeType:ge,rejectPublicSuffixes:!!this.rejectPublicSuffixes,enableLooseMode:!!this.enableLooseMode,allowSpecialUseDomain:!!this.allowSpecialUseDomain,prefixSecurity:yi(this.prefixSecurity),cookies:[]};if(!this.store.getAllCookies||typeof this.store.getAllCookies!="function")return pe(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies((Ae,ut)=>Ae?pe(Ae):(Ce.cookies=ut.map(it=>(delete(it=it instanceof Be?it.toJSON():it).creationIndex,it)),pe(null,Ce)))}toJSON(){return this.serializeSync()}_importCookies(pe,ge){let Ce=pe.cookies;if(!Ce||!Array.isArray(Ce))return ge(new Error("serialized jar has no cookies array"));Ce=Ce.slice();const Ae=ut=>{if(ut)return ge(ut);if(!Ce.length)return ge(ut,this);let it;try{it=rt(Ce.shift())}catch(et){return ge(et)}if(it===null)return Ae(null);this.store.putCookie(it,Ae)};Ae()}clone(pe,ge){arguments.length===1&&(ge=pe,pe=null),this.serialize((Ce,Ae)=>{if(Ce)return ge(Ce);Et.deserialize(Ae,pe,ge)})}cloneSync(pe){if(arguments.length===0)return this._cloneSync();if(!pe.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(pe)}removeAllCookies(pe){l.validate(l.isFunction(pe),pe);const ge=this.store;if(typeof ge.removeAllCookies=="function"&&ge.removeAllCookies!==y.prototype.removeAllCookies)return ge.removeAllCookies(pe);ge.getAllCookies((Ce,Ae)=>{if(Ce)return pe(Ce);if(Ae.length===0)return pe(null);let ut=0;const it=[];function et(bt){if(bt&&it.push(bt),ut++,ut===Ae.length)return pe(it.length?it[0]:null)}Ae.forEach(bt=>{ge.removeCookie(bt.domain,bt.path,bt.key,et)})})}static deserialize(pe,ge,Ce){let Ae;if(arguments.length!==3&&(Ce=ge,ge=null),l.validate(l.isFunction(Ce),Ce),typeof pe=="string"){if(Ae=Mt(pe),Ae instanceof Error)return Ce(Ae)}else Ae=pe;const ut=new Et(ge,{rejectPublicSuffixes:Ae.rejectPublicSuffixes,looseMode:Ae.enableLooseMode,allowSpecialUseDomain:Ae.allowSpecialUseDomain,prefixSecurity:Ae.prefixSecurity});ut._importCookies(Ae,it=>{if(it)return Ce(it);Ce(null,ut)})}static deserializeSync(pe,ge){const Ce=typeof pe=="string"?JSON.parse(pe):pe,Ae=new Et(ge,{rejectPublicSuffixes:Ce.rejectPublicSuffixes,looseMode:Ce.enableLooseMode});if(!Ae.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return Ae._importCookiesSync(Ce),Ae}}function gn(Ie){return function(...pe){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");let ge,Ce;if(this[Ie](...pe,(Ae,ut)=>{ge=Ae,Ce=ut}),ge)throw ge;return Ce}}Et.fromJSON=Et.deserializeSync,["_importCookies","clone","getCookies","getCookieString","getSetCookieStrings","removeAllCookies","serialize","setCookie"].forEach(Ie=>{Et.prototype[Ie]=W(Et.prototype[Ie])}),Et.deserialize=W(Et.deserialize),Z.US=Et,Z.Vj=Be,g.getPublicSuffix,P(6326).p,l.ParameterError},9968:function(ye,Z,P){const{fromCallback:x}=P(3096),_=P(2363).y,g=P(6326).p,y=P(5433).U,{getCustomInspectSymbol:w,getUtilInspect:p}=P(7620);class l extends _{constructor(){super(),this.synchronous=!0,this.idx={};const m=w();m&&(this[m]=this.inspect)}inspect(){return`{ idx: ${p(C)(this.idx,!1,2)} }`}findCookie(m,b,F,S){return this.idx[m]&&this.idx[m][b]?S(null,this.idx[m][b][F]||null):S(null,void 0)}findCookies(m,b,F,S){const u=[];if(typeof F=="function"&&(S=F,F=!0),!m)return S(null,[]);let k;k=b?function(ae){Object.keys(ae).forEach(Y=>{if(y(b,Y)){const oe=ae[Y];for(const le in oe)u.push(oe[le])}})}:function(ae){for(const Y in ae){const oe=ae[Y];for(const le in oe)u.push(oe[le])}};const R=g(m,F)||[m],K=this.idx;R.forEach(ae=>{const Y=K[ae];Y&&k(Y)}),S(null,u)}putCookie(m,b){this.idx[m.domain]||(this.idx[m.domain]={}),this.idx[m.domain][m.path]||(this.idx[m.domain][m.path]={}),this.idx[m.domain][m.path][m.key]=m,b(null)}updateCookie(m,b,F){this.putCookie(b,F)}removeCookie(m,b,F,S){this.idx[m]&&this.idx[m][b]&&this.idx[m][b][F]&&delete this.idx[m][b][F],S(null)}removeCookies(m,b,F){return this.idx[m]&&(b?delete this.idx[m][b]:delete this.idx[m]),F(null)}removeAllCookies(m){return this.idx={},m(null)}getAllCookies(m){const b=[],F=this.idx;Object.keys(F).forEach(S=>{Object.keys(F[S]).forEach(u=>{Object.keys(F[S][u]).forEach(k=>{k!==null&&b.push(F[S][u][k])})})}),b.sort((S,u)=>(S.creationIndex||0)-(u.creationIndex||0)),m(null,b)}}function C(W){const m=Object.keys(W);if(m.length===0)return"{}";let b=`{
`;return Object.keys(W).forEach((F,S)=>{b+=function(u,k){let R=`  '${u}': {
`;return Object.keys(k).forEach((K,ae,Y)=>{R+=function(oe,le){let Ee=`    '${oe}': {
`;return Object.keys(le).forEach((me,Oe,Ke)=>{const Pe=le[me];Ee+=`      ${me}: ${Pe.inspect()}`,Oe<Ke.length-1&&(Ee+=","),Ee+=`
`}),Ee+="    }",Ee}(K,k[K]),ae<Y.length-1&&(R+=","),R+=`
`}),R+="  }",R}(F,W[F]),S<m.length-1&&(b+=","),b+=`
`}),b+="}",b}["findCookie","findCookies","putCookie","updateCookie","removeCookie","removeCookies","removeAllCookies","getAllCookies"].forEach(W=>{l.prototype[W]=x(l.prototype[W])}),Z.m=l},5433:function(ye,Z){Z.U=function(P,x){return x===P||P.indexOf(x)===0&&(x.substr(-1)==="/"||P.substr(x.length,1)==="/")}},6326:function(ye,Z,P){const x=P(8254);Z.p=function(_,g){const y=x.getPublicSuffix(_,{allowSpecialUseDomain:g});if(!y)return null;if(y==_)return[_];_.slice(-1)=="."&&(_=_.slice(0,-1));const w=_.slice(0,-(y.length+1)).split(".").reverse();let p=y;const l=[p];for(;w.length;)p=`${w.shift()}.${p}`,l.push(p);return l}},8254:function(ye,Z,P){const x=P(3682),_=["local","example","invalid","localhost","test"],g=["localhost","invalid"];Z.getPublicSuffix=function(y,w={}){const p=y.split("."),l=p[p.length-1],C=!!w.allowSpecialUseDomain,W=!!w.ignoreError;if(C&&_.includes(l)){if(p.length>1)return`${p[p.length-2]}.${l}`;if(g.includes(l))return`${l}`}if(!W&&_.includes(l))throw new Error(`Cookie has domain set to the public suffix "${l}" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain:true, rejectPublicSuffixes: false}.`);return x.get(y)}},2363:function(ye,Z){Z.y=class{constructor(){this.synchronous=!1}findCookie(P,x,_,g){throw new Error("findCookie is not implemented")}findCookies(P,x,_,g){throw new Error("findCookies is not implemented")}putCookie(P,x){throw new Error("putCookie is not implemented")}updateCookie(P,x,_){throw new Error("updateCookie is not implemented")}removeCookie(P,x,_,g){throw new Error("removeCookie is not implemented")}removeCookies(P,x,_){throw new Error("removeCookies is not implemented")}removeAllCookies(P){throw new Error("removeAllCookies is not implemented")}getAllCookies(P){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}}},7620:function(ye,Z,P){function x(){try{return P(3339)}catch{return null}}function _(){return Symbol.for("nodejs.util.inspect.custom")}Z.getUtilInspect=function(g,y={}){const w=(y.requireUtil||x)();return function(p,l,C){return w?w.inspect(p,l,C):g(p)}},Z.getCustomInspectSymbol=function(g={}){return(g.lookupCustomInspectSymbol||_)()||function(y){const w=(y.requireUtil||x)();return w?w.inspect.custom:null}(g)}},1113:function(ye,Z){function P(y){return typeof y=="function"}function x(y){return typeof y=="string"||y instanceof String}function _(y){return toString.call(y)==="[object Object]"}class g extends Error{constructor(...w){super(...w)}}Z.ParameterError=g,Z.isFunction=P,Z.isNonEmptyString=function(y){return x(y)&&y!==""},Z.isDate=function(y){return function(w,p){try{return w instanceof p}catch{return!1}}(y,Date)&&function(w){return typeof w=="number"&&w%1==0}(y.getTime())},Z.isEmptyString=function(y){return y===""||y instanceof String&&y.toString()===""},Z.isString=x,Z.isObject=_,Z.validate=function(y,w,p){if(P(w)||(p=w,w=null),_(p)||(p={Error:"Failed Check"}),!y){if(!w)throw new g(p);w(new g(p))}}},7646:function(ye){ye.exports="4.1.2"},3096:function(ye,Z){Z.fromCallback=function(P){return Object.defineProperty(function(){if(typeof arguments[arguments.length-1]!="function")return new Promise((x,_)=>{arguments[arguments.length]=(g,y)=>{if(g)return _(g);x(y)},arguments.length++,P.apply(this,arguments)});P.apply(this,arguments)},"name",{value:P.name})},Z.fromPromise=function(P){return Object.defineProperty(function(){const x=arguments[arguments.length-1];if(typeof x!="function")return P.apply(this,arguments);delete arguments[arguments.length-1],arguments.length--,P.apply(this,arguments).then(_=>x(null,_),x)},"name",{value:P.name})}},4590:function(ye,Z,P){ye.exports=P.p+"voxeet-worklet.js"},6850:function(ye){ye.exports={leaveURI:"//www.voxeet.com/web-thank-you",wsSessionURI:"wss://comms.sdk.dolby.io",ackTimeout:3e4,keepAlive:3e4,peerConnection:{config:{bundlePolicy:"max-bundle",iceServers:[{urls:"stun:stun.l.google.com:19302"}]},constraints:{mandatory:{},optional:[{DtlsSrtpKeyAgreement:!0}]}},media:{dolbyProcessing:{constraints:{audio:{autoGainControl:!1,googAutoGainControl:!1,noiseSuppression:!1,echoCancellation:!0},video:{}}},constraints:{audio:{autoGainControl:!0,googAutoGainControl:!0,noiseSuppression:!0,echoCancellation:!0},video:{}}},audioSettings:{chromeCutOffVolume:.06,distanceModel:"inverse",refDistance:.3,maxDistance:15,rollOffFactor:4,gain:1},dialInTexts:{title:"Bad connection?",description:`It looks like you have a low quality IP connection. We'd suggest rejoining this conference from your phone \u2013 simply dial in using the Voxeet dial-in number and PIN below.
To find an alternative local number, verify your current location.`,phone_label:"Your dial-in number:",pin_label:"Your PIN:",qr_label:"You can also scan the QR code with your phone to autodial."},offLine:!1,videoSettings:{desktop:[{range:{min:0,max:384},resolution:240,fps:20,dimensions:{width:426,height:240}},{range:{min:384,max:900},resolution:360,fps:25,dimensions:{width:640,height:360}},{range:{min:900,max:1/0},resolution:720,fps:25,dimensions:{width:1280,height:720}}],mobile:[{range:{min:0,max:384},resolution:240,fps:20,dimensions:{width:426,height:240}},{range:{min:384,max:900},resolution:360,fps:25,dimensions:{width:640,height:360}},{range:{min:900,max:1/0},resolution:480,fps:25,dimensions:{width:854,height:480}}]},pluginDefs:{voxeetPlugin:{name:"Voxeet Plugin",mimeType:"application/x-voxeetplugin",activeXName:"VoxeetInc.VoxeetPlugin",guid:"987ae2fb-3c9c-5787-bf68-b66d84219b95",version:"1.1.0.0",installURL:{win:"http://app.voxeet.com/plugins/VoxeetPluginV1.1.exe",mac:"http://app.voxeet.com/plugins/VoxeetPluginV1.1.dmg"}}}}},4846:function(ye,Z,P){var x=P(7245),_=P(7375),g=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,y=/[\n\r\t]/g,w=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,p=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,C=/^[a-zA-Z]:/;function W(R){return(R||"").toString().replace(g,"")}var m=[["#","hash"],["?","query"],function(R,K){return S(K.protocol)?R.replace(/\\/g,"/"):R},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],b={hash:1,query:1};function F(R){var K,ae=(typeof window!="undefined"?window:typeof ri!="undefined"?ri:typeof self!="undefined"?self:{}).location||{},Y={},oe=typeof(R=R||ae);if(R.protocol==="blob:")Y=new k(unescape(R.pathname),{});else if(oe==="string")for(K in Y=new k(R,{}),b)delete Y[K];else if(oe==="object"){for(K in R)K in b||(Y[K]=R[K]);Y.slashes===void 0&&(Y.slashes=w.test(R.href))}return Y}function S(R){return R==="file:"||R==="ftp:"||R==="http:"||R==="https:"||R==="ws:"||R==="wss:"}function u(R,K){R=(R=W(R)).replace(y,""),K=K||{};var ae,Y=l.exec(R),oe=Y[1]?Y[1].toLowerCase():"",le=!!Y[2],Ee=!!Y[3],me=0;return le?Ee?(ae=Y[2]+Y[3]+Y[4],me=Y[2].length+Y[3].length):(ae=Y[2]+Y[4],me=Y[2].length):Ee?(ae=Y[3]+Y[4],me=Y[3].length):ae=Y[4],oe==="file:"?me>=2&&(ae=ae.slice(2)):S(oe)?ae=Y[4]:oe?le&&(ae=ae.slice(2)):me>=2&&S(K.protocol)&&(ae=Y[4]),{protocol:oe,slashes:le||S(oe),slashesCount:me,rest:ae}}function k(R,K,ae){if(R=(R=W(R)).replace(y,""),!(this instanceof k))return new k(R,K,ae);var Y,oe,le,Ee,me,Oe,Ke=m.slice(),Pe=typeof K,we=this,yt=0;for(Pe!=="object"&&Pe!=="string"&&(ae=K,K=null),ae&&typeof ae!="function"&&(ae=_.parse),Y=!(oe=u(R||"",K=F(K))).protocol&&!oe.slashes,we.slashes=oe.slashes||Y&&K.slashes,we.protocol=oe.protocol||K.protocol||"",R=oe.rest,(oe.protocol==="file:"&&(oe.slashesCount!==2||C.test(R))||!oe.slashes&&(oe.protocol||oe.slashesCount<2||!S(we.protocol)))&&(Ke[3]=[/(.*)/,"pathname"]);yt<Ke.length;yt++)typeof(Ee=Ke[yt])!="function"?(le=Ee[0],Oe=Ee[1],le!=le?we[Oe]=R:typeof le=="string"?~(me=le==="@"?R.lastIndexOf(le):R.indexOf(le))&&(typeof Ee[2]=="number"?(we[Oe]=R.slice(0,me),R=R.slice(me+Ee[2])):(we[Oe]=R.slice(me),R=R.slice(0,me))):(me=le.exec(R))&&(we[Oe]=me[1],R=R.slice(0,me.index)),we[Oe]=we[Oe]||Y&&Ee[3]&&K[Oe]||"",Ee[4]&&(we[Oe]=we[Oe].toLowerCase())):R=Ee(R,we);ae&&(we.query=ae(we.query)),Y&&K.slashes&&we.pathname.charAt(0)!=="/"&&(we.pathname!==""||K.pathname!=="")&&(we.pathname=function(Pt,Mt){if(Pt==="")return Mt;for(var rt=(Mt||"/").split("/").slice(0,-1).concat(Pt.split("/")),Rt=rt.length,Kt=rt[Rt-1],Wt=!1,Be=0;Rt--;)rt[Rt]==="."?rt.splice(Rt,1):rt[Rt]===".."?(rt.splice(Rt,1),Be++):Be&&(Rt===0&&(Wt=!0),rt.splice(Rt,1),Be--);return Wt&&rt.unshift(""),Kt!=="."&&Kt!==".."||rt.push(""),rt.join("/")}(we.pathname,K.pathname)),we.pathname.charAt(0)!=="/"&&S(we.protocol)&&(we.pathname="/"+we.pathname),x(we.port,we.protocol)||(we.host=we.hostname,we.port=""),we.username=we.password="",we.auth&&(~(me=we.auth.indexOf(":"))?(we.username=we.auth.slice(0,me),we.username=encodeURIComponent(decodeURIComponent(we.username)),we.password=we.auth.slice(me+1),we.password=encodeURIComponent(decodeURIComponent(we.password))):we.username=encodeURIComponent(decodeURIComponent(we.auth)),we.auth=we.password?we.username+":"+we.password:we.username),we.origin=we.protocol!=="file:"&&S(we.protocol)&&we.host?we.protocol+"//"+we.host:"null",we.href=we.toString()}k.prototype={set:function(R,K,ae){var Y=this;switch(R){case"query":typeof K=="string"&&K.length&&(K=(ae||_.parse)(K)),Y[R]=K;break;case"port":Y[R]=K,x(K,Y.protocol)?K&&(Y.host=Y.hostname+":"+K):(Y.host=Y.hostname,Y[R]="");break;case"hostname":Y[R]=K,Y.port&&(K+=":"+Y.port),Y.host=K;break;case"host":Y[R]=K,p.test(K)?(K=K.split(":"),Y.port=K.pop(),Y.hostname=K.join(":")):(Y.hostname=K,Y.port="");break;case"protocol":Y.protocol=K.toLowerCase(),Y.slashes=!ae;break;case"pathname":case"hash":if(K){var oe=R==="pathname"?"/":"#";Y[R]=K.charAt(0)!==oe?oe+K:K}else Y[R]=K;break;case"username":case"password":Y[R]=encodeURIComponent(K);break;case"auth":var le=K.indexOf(":");~le?(Y.username=K.slice(0,le),Y.username=encodeURIComponent(decodeURIComponent(Y.username)),Y.password=K.slice(le+1),Y.password=encodeURIComponent(decodeURIComponent(Y.password))):Y.username=encodeURIComponent(decodeURIComponent(K))}for(var Ee=0;Ee<m.length;Ee++){var me=m[Ee];me[4]&&(Y[me[1]]=Y[me[1]].toLowerCase())}return Y.auth=Y.password?Y.username+":"+Y.password:Y.username,Y.origin=Y.protocol!=="file:"&&S(Y.protocol)&&Y.host?Y.protocol+"//"+Y.host:"null",Y.href=Y.toString(),Y},toString:function(R){R&&typeof R=="function"||(R=_.stringify);var K,ae=this,Y=ae.host,oe=ae.protocol;oe&&oe.charAt(oe.length-1)!==":"&&(oe+=":");var le=oe+(ae.protocol&&ae.slashes||S(ae.protocol)?"//":"");return ae.username?(le+=ae.username,ae.password&&(le+=":"+ae.password),le+="@"):ae.password?(le+=":"+ae.password,le+="@"):ae.protocol!=="file:"&&S(ae.protocol)&&!Y&&ae.pathname!=="/"&&(le+="@"),(Y[Y.length-1]===":"||p.test(ae.hostname)&&!ae.port)&&(Y+=":"),le+=Y+ae.pathname,(K=typeof ae.query=="object"?R(ae.query):ae.query)&&(le+=K.charAt(0)!=="?"?"?"+K:K),ae.hash&&(le+=ae.hash),le}},k.extractProtocol=u,k.location=F,k.trimLeft=W,k.qs=_,ye.exports=k},2382:function(ye,Z,P){var x=P(3475);ye.exports=function(_,g){var y=_&&_.window,w={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var p in g)hasOwnProperty.call(g,p)&&(w[p]=g[p]);var l=x.log,C=x.detectBrowser(y),W=P(629)||null,m=P(7435)||null,b=P(4449)||null,F=P(4477)||null,S=P(1594)||null,u={browserDetails:C,commonShim:S,extractVersion:x.extractVersion,disableLog:x.disableLog,disableWarnings:x.disableWarnings};switch(C.browser){case"chrome":if(!W||!W.shimPeerConnection||!w.shimChrome)return l("Chrome shim is not included in this adapter release."),u;l("adapter.js shimming chrome."),u.browserShim=W,S.shimCreateObjectURL(y),W.shimGetUserMedia(y),W.shimMediaStream(y),W.shimSourceObject(y),W.shimPeerConnection(y),W.shimOnTrack(y),W.shimAddTrackRemoveTrack(y),W.shimGetSendersWithDtmf(y),W.shimSenderReceiverGetStats(y),W.fixNegotiationNeeded(y),S.shimRTCIceCandidate(y),S.shimMaxMessageSize(y),S.shimSendThrowTypeError(y);break;case"firefox":if(!b||!b.shimPeerConnection||!w.shimFirefox)return l("Firefox shim is not included in this adapter release."),u;l("adapter.js shimming firefox."),u.browserShim=b,S.shimCreateObjectURL(y),b.shimGetUserMedia(y),b.shimSourceObject(y),b.shimPeerConnection(y),b.shimOnTrack(y),b.shimRemoveStream(y),b.shimSenderGetStats(y),b.shimReceiverGetStats(y),b.shimRTCDataChannel(y),S.shimRTCIceCandidate(y),S.shimMaxMessageSize(y),S.shimSendThrowTypeError(y);break;case"edge":if(!m||!m.shimPeerConnection||!w.shimEdge)return l("MS edge shim is not included in this adapter release."),u;l("adapter.js shimming edge."),u.browserShim=m,S.shimCreateObjectURL(y),m.shimGetUserMedia(y),m.shimPeerConnection(y),m.shimReplaceTrack(y),m.shimGetDisplayMedia(y),S.shimMaxMessageSize(y),S.shimSendThrowTypeError(y);break;case"safari":if(!F||!w.shimSafari)return l("Safari shim is not included in this adapter release."),u;l("adapter.js shimming safari."),u.browserShim=F,S.shimCreateObjectURL(y),F.shimRTCIceServerUrls(y),F.shimCreateOfferLegacy(y),F.shimCallbacksAPI(y),F.shimLocalStreamsAPI(y),F.shimRemoteStreamsAPI(y),F.shimTrackEventTransceiver(y),F.shimGetUserMedia(y),S.shimRTCIceCandidate(y),S.shimMaxMessageSize(y),S.shimSendThrowTypeError(y);break;default:l("Unsupported browser!")}return u}},629:function(ye,Z,P){var x=P(3475),_=x.log;function g(w,p,l){p&&!l.has(p.id)&&(l.set(p.id,p),Object.keys(p).forEach(function(C){C.endsWith("Id")?g(w,w.get(p[C]),l):C.endsWith("Ids")&&p[C].forEach(function(W){g(w,w.get(W),l)})}))}function y(w,p,l){var C=l?"outbound-rtp":"inbound-rtp",W=new Map;if(p===null)return W;var m=[];return w.forEach(function(b){b.type==="track"&&b.trackIdentifier===p.id&&m.push(b)}),m.forEach(function(b){w.forEach(function(F){F.type===C&&F.trackId===b.id&&g(w,F,W)})}),W}ye.exports={shimGetUserMedia:P(483),shimMediaStream:function(w){w.MediaStream=w.MediaStream||w.webkitMediaStream},shimOnTrack:function(w){if(typeof w=="object"&&w.RTCPeerConnection&&!("ontrack"in w.RTCPeerConnection.prototype)){Object.defineProperty(w.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(l){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=l)},enumerable:!0,configurable:!0});var p=w.RTCPeerConnection.prototype.setRemoteDescription;w.RTCPeerConnection.prototype.setRemoteDescription=function(){var l=this;return l._ontrackpoly||(l._ontrackpoly=function(C){C.stream.addEventListener("addtrack",function(W){var m;m=w.RTCPeerConnection.prototype.getReceivers?l.getReceivers().find(function(F){return F.track&&F.track.id===W.track.id}):{track:W.track};var b=new Event("track");b.track=W.track,b.receiver=m,b.transceiver={receiver:m},b.streams=[C.stream],l.dispatchEvent(b)}),C.stream.getTracks().forEach(function(W){var m;m=w.RTCPeerConnection.prototype.getReceivers?l.getReceivers().find(function(F){return F.track&&F.track.id===W.id}):{track:W};var b=new Event("track");b.track=W,b.receiver=m,b.transceiver={receiver:m},b.streams=[C.stream],l.dispatchEvent(b)})},l.addEventListener("addstream",l._ontrackpoly)),p.apply(l,arguments)}}else x.wrapPeerConnectionEvent(w,"track",function(l){return l.transceiver||Object.defineProperty(l,"transceiver",{value:{receiver:l.receiver}}),l})},shimGetSendersWithDtmf:function(w){if(typeof w=="object"&&w.RTCPeerConnection&&!("getSenders"in w.RTCPeerConnection.prototype)&&"createDTMFSender"in w.RTCPeerConnection.prototype){var p=function(F,S){return{track:S,get dtmf(){return this._dtmf===void 0&&(S.kind==="audio"?this._dtmf=F.createDTMFSender(S):this._dtmf=null),this._dtmf},_pc:F}};if(!w.RTCPeerConnection.prototype.getSenders){w.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var l=w.RTCPeerConnection.prototype.addTrack;w.RTCPeerConnection.prototype.addTrack=function(F,S){var u=this,k=l.apply(u,arguments);return k||(k=p(u,F),u._senders.push(k)),k};var C=w.RTCPeerConnection.prototype.removeTrack;w.RTCPeerConnection.prototype.removeTrack=function(F){var S=this;C.apply(S,arguments);var u=S._senders.indexOf(F);u!==-1&&S._senders.splice(u,1)}}var W=w.RTCPeerConnection.prototype.addStream;w.RTCPeerConnection.prototype.addStream=function(F){var S=this;S._senders=S._senders||[],W.apply(S,[F]),F.getTracks().forEach(function(u){S._senders.push(p(S,u))})};var m=w.RTCPeerConnection.prototype.removeStream;w.RTCPeerConnection.prototype.removeStream=function(F){var S=this;S._senders=S._senders||[],m.apply(S,[F]),F.getTracks().forEach(function(u){var k=S._senders.find(function(R){return R.track===u});k&&S._senders.splice(S._senders.indexOf(k),1)})}}else if(typeof w=="object"&&w.RTCPeerConnection&&"getSenders"in w.RTCPeerConnection.prototype&&"createDTMFSender"in w.RTCPeerConnection.prototype&&w.RTCRtpSender&&!("dtmf"in w.RTCRtpSender.prototype)){var b=w.RTCPeerConnection.prototype.getSenders;w.RTCPeerConnection.prototype.getSenders=function(){var F=this,S=b.apply(F,[]);return S.forEach(function(u){u._pc=F}),S},Object.defineProperty(w.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(w){if(typeof w=="object"&&w.RTCPeerConnection&&w.RTCRtpSender&&w.RTCRtpReceiver){if(!("getStats"in w.RTCRtpSender.prototype)){var p=w.RTCPeerConnection.prototype.getSenders;p&&(w.RTCPeerConnection.prototype.getSenders=function(){var m=this,b=p.apply(m,[]);return b.forEach(function(F){F._pc=m}),b});var l=w.RTCPeerConnection.prototype.addTrack;l&&(w.RTCPeerConnection.prototype.addTrack=function(){var m=l.apply(this,arguments);return m._pc=this,m}),w.RTCRtpSender.prototype.getStats=function(){var m=this;return this._pc.getStats().then(function(b){return y(b,m.track,!0)})}}if(!("getStats"in w.RTCRtpReceiver.prototype)){var C=w.RTCPeerConnection.prototype.getReceivers;C&&(w.RTCPeerConnection.prototype.getReceivers=function(){var m=this,b=C.apply(m,[]);return b.forEach(function(F){F._pc=m}),b}),x.wrapPeerConnectionEvent(w,"track",function(m){return m.receiver._pc=m.srcElement,m}),w.RTCRtpReceiver.prototype.getStats=function(){var m=this;return this._pc.getStats().then(function(b){return y(b,m.track,!1)})}}if("getStats"in w.RTCRtpSender.prototype&&"getStats"in w.RTCRtpReceiver.prototype){var W=w.RTCPeerConnection.prototype.getStats;w.RTCPeerConnection.prototype.getStats=function(){var m=this;if(arguments.length>0&&arguments[0]instanceof w.MediaStreamTrack){var b,F,S,u=arguments[0];return m.getSenders().forEach(function(k){k.track===u&&(b?S=!0:b=k)}),m.getReceivers().forEach(function(k){return k.track===u&&(F?S=!0:F=k),k.track===u}),S||b&&F?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):b?b.getStats():F?F.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return W.apply(m,arguments)}}}},shimSourceObject:function(w){var p=w&&w.URL;typeof w=="object"&&w.HTMLMediaElement&&!("srcObject"in w.HTMLMediaElement.prototype)&&Object.defineProperty(w.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(l){var C=this;this._srcObject=l,this.src&&p.revokeObjectURL(this.src),l?(this.src=p.createObjectURL(l),l.addEventListener("addtrack",function(){C.src&&p.revokeObjectURL(C.src),C.src=p.createObjectURL(l)}),l.addEventListener("removetrack",function(){C.src&&p.revokeObjectURL(C.src),C.src=p.createObjectURL(l)})):this.src=""}})},shimAddTrackRemoveTrackWithNative:function(w){w.RTCPeerConnection.prototype.getLocalStreams=function(){var m=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(b){return m._shimmedLocalStreams[b][0]})};var p=w.RTCPeerConnection.prototype.addTrack;w.RTCPeerConnection.prototype.addTrack=function(m,b){if(!b)return p.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var F=p.apply(this,arguments);return this._shimmedLocalStreams[b.id]?this._shimmedLocalStreams[b.id].indexOf(F)===-1&&this._shimmedLocalStreams[b.id].push(F):this._shimmedLocalStreams[b.id]=[b,F],F};var l=w.RTCPeerConnection.prototype.addStream;w.RTCPeerConnection.prototype.addStream=function(m){var b=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},m.getTracks().forEach(function(u){if(b.getSenders().find(function(k){return k.track===u}))throw new DOMException("Track already exists.","InvalidAccessError")});var F=b.getSenders();l.apply(this,arguments);var S=b.getSenders().filter(function(u){return F.indexOf(u)===-1});this._shimmedLocalStreams[m.id]=[m].concat(S)};var C=w.RTCPeerConnection.prototype.removeStream;w.RTCPeerConnection.prototype.removeStream=function(m){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[m.id],C.apply(this,arguments)};var W=w.RTCPeerConnection.prototype.removeTrack;w.RTCPeerConnection.prototype.removeTrack=function(m){var b=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},m&&Object.keys(this._shimmedLocalStreams).forEach(function(F){var S=b._shimmedLocalStreams[F].indexOf(m);S!==-1&&b._shimmedLocalStreams[F].splice(S,1),b._shimmedLocalStreams[F].length===1&&delete b._shimmedLocalStreams[F]}),W.apply(this,arguments)}},shimAddTrackRemoveTrack:function(w){if(w.RTCPeerConnection){var p=x.detectBrowser(w);if(w.RTCPeerConnection.prototype.addTrack&&p.version>=65)return this.shimAddTrackRemoveTrackWithNative(w);var l=w.RTCPeerConnection.prototype.getLocalStreams;w.RTCPeerConnection.prototype.getLocalStreams=function(){var u=this,k=l.apply(this);return u._reverseStreams=u._reverseStreams||{},k.map(function(R){return u._reverseStreams[R.id]})};var C=w.RTCPeerConnection.prototype.addStream;w.RTCPeerConnection.prototype.addStream=function(u){var k=this;if(k._streams=k._streams||{},k._reverseStreams=k._reverseStreams||{},u.getTracks().forEach(function(K){if(k.getSenders().find(function(ae){return ae.track===K}))throw new DOMException("Track already exists.","InvalidAccessError")}),!k._reverseStreams[u.id]){var R=new w.MediaStream(u.getTracks());k._streams[u.id]=R,k._reverseStreams[R.id]=u,u=R}C.apply(k,[u])};var W=w.RTCPeerConnection.prototype.removeStream;w.RTCPeerConnection.prototype.removeStream=function(u){var k=this;k._streams=k._streams||{},k._reverseStreams=k._reverseStreams||{},W.apply(k,[k._streams[u.id]||u]),delete k._reverseStreams[k._streams[u.id]?k._streams[u.id].id:u.id],delete k._streams[u.id]},w.RTCPeerConnection.prototype.addTrack=function(u,k){var R=this;if(R.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var K=[].slice.call(arguments,1);if(K.length!==1||!K[0].getTracks().find(function(le){return le===u}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var ae=R.getSenders().find(function(le){return le.track===u});if(ae)throw new DOMException("Track already exists.","InvalidAccessError");R._streams=R._streams||{},R._reverseStreams=R._reverseStreams||{};var Y=R._streams[k.id];if(Y)Y.addTrack(u),Promise.resolve().then(function(){R.dispatchEvent(new Event("negotiationneeded"))});else{var oe=new w.MediaStream([u]);R._streams[k.id]=oe,R._reverseStreams[oe.id]=k,R.addStream(oe)}return R.getSenders().find(function(le){return le.track===u})},["createOffer","createAnswer"].forEach(function(u){var k=w.RTCPeerConnection.prototype[u];w.RTCPeerConnection.prototype[u]=function(){var R=this,K=arguments,ae=arguments.length&&typeof arguments[0]=="function";return ae?k.apply(R,[function(Y){var oe=F(R,Y);K[0].apply(null,[oe])},function(Y){K[1]&&K[1].apply(null,Y)},arguments[2]]):k.apply(R,arguments).then(function(Y){return F(R,Y)})}});var m=w.RTCPeerConnection.prototype.setLocalDescription;w.RTCPeerConnection.prototype.setLocalDescription=function(){var u=this;return arguments.length&&arguments[0].type&&(arguments[0]=S(u,arguments[0])),m.apply(u,arguments)};var b=Object.getOwnPropertyDescriptor(w.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(w.RTCPeerConnection.prototype,"localDescription",{get:function(){var u=b.get.apply(this);return u.type===""?u:F(this,u)}}),w.RTCPeerConnection.prototype.removeTrack=function(u){var k,R=this;if(R.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(u._pc!==R)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");R._streams=R._streams||{},Object.keys(R._streams).forEach(function(K){R._streams[K].getTracks().find(function(ae){return u.track===ae})&&(k=R._streams[K])}),k&&(k.getTracks().length===1?R.removeStream(R._reverseStreams[k.id]):k.removeTrack(u.track),R.dispatchEvent(new Event("negotiationneeded")))}}function F(u,k){var R=k.sdp;return Object.keys(u._reverseStreams||[]).forEach(function(K){var ae=u._reverseStreams[K],Y=u._streams[ae.id];R=R.replace(new RegExp(Y.id,"g"),ae.id)}),new RTCSessionDescription({type:k.type,sdp:R})}function S(u,k){var R=k.sdp;return Object.keys(u._reverseStreams||[]).forEach(function(K){var ae=u._reverseStreams[K],Y=u._streams[ae.id];R=R.replace(new RegExp(ae.id,"g"),Y.id)}),new RTCSessionDescription({type:k.type,sdp:R})}},shimPeerConnection:function(w){var p=x.detectBrowser(w);if(!w.RTCPeerConnection&&w.webkitRTCPeerConnection&&(w.RTCPeerConnection=function(W,m){return _("PeerConnection"),W&&W.iceTransportPolicy&&(W.iceTransports=W.iceTransportPolicy),new w.webkitRTCPeerConnection(W,m)},w.RTCPeerConnection.prototype=w.webkitRTCPeerConnection.prototype,w.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(w.RTCPeerConnection,"generateCertificate",{get:function(){return w.webkitRTCPeerConnection.generateCertificate}})),w.RTCPeerConnection){var l=w.RTCPeerConnection.prototype.getStats;w.RTCPeerConnection.prototype.getStats=function(W,m,b){var F=this,S=arguments;if(arguments.length>0&&typeof W=="function")return l.apply(this,arguments);if(l.length===0&&(arguments.length===0||typeof arguments[0]!="function"))return l.apply(this,[]);var u=function(K){var ae={};return K.result().forEach(function(Y){var oe={id:Y.id,timestamp:Y.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Y.type]||Y.type};Y.names().forEach(function(le){oe[le]=Y.stat(le)}),ae[oe.id]=oe}),ae},k=function(K){return new Map(Object.keys(K).map(function(ae){return[ae,K[ae]]}))};if(arguments.length>=2){var R=function(K){S[1](k(u(K)))};return l.apply(this,[R,arguments[0]])}return new Promise(function(K,ae){l.apply(F,[function(Y){K(k(u(Y)))},ae])}).then(m,b)},p.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(W){var m=w.RTCPeerConnection.prototype[W];w.RTCPeerConnection.prototype[W]=function(){var b=arguments,F=this,S=new Promise(function(u,k){m.apply(F,[b[0],u,k])});return b.length<2?S:S.then(function(){b[1].apply(null,[])},function(u){b.length>=3&&b[2].apply(null,[u])})}}),p.version<52&&["createOffer","createAnswer"].forEach(function(W){var m=w.RTCPeerConnection.prototype[W];w.RTCPeerConnection.prototype[W]=function(){var b=this;if(arguments.length<1||arguments.length===1&&typeof arguments[0]=="object"){var F=arguments.length===1?arguments[0]:void 0;return new Promise(function(S,u){m.apply(b,[S,u,F])})}return m.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(W){var m=w.RTCPeerConnection.prototype[W];w.RTCPeerConnection.prototype[W]=function(){return arguments[0]=new(W==="addIceCandidate"?w.RTCIceCandidate:w.RTCSessionDescription)(arguments[0]),m.apply(this,arguments)}});var C=w.RTCPeerConnection.prototype.addIceCandidate;w.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?C.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},fixNegotiationNeeded:function(w){x.wrapPeerConnectionEvent(w,"negotiationneeded",function(p){if(p.target.signalingState==="stable")return p})},shimGetDisplayMedia:function(w,p){w.navigator&&w.navigator.mediaDevices&&!("getDisplayMedia"in w.navigator.mediaDevices)&&(typeof p=="function"?(w.navigator.mediaDevices.getDisplayMedia=function(l){return p(l).then(function(C){var W=l.video&&l.video.width,m=l.video&&l.video.height,b=l.video&&l.video.frameRate;return l.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:C,maxFrameRate:b||3}},W&&(l.video.mandatory.maxWidth=W),m&&(l.video.mandatory.maxHeight=m),w.navigator.mediaDevices.getUserMedia(l)})},w.navigator.getDisplayMedia=function(l){return x.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),w.navigator.mediaDevices.getDisplayMedia(l)}):console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}},483:function(ye,Z,P){var x=P(3475),_=x.log;ye.exports=function(g){var y=x.detectBrowser(g),w=g&&g.navigator,p=function(b){if(typeof b!="object"||b.mandatory||b.optional)return b;var F={};return Object.keys(b).forEach(function(S){if(S!=="require"&&S!=="advanced"&&S!=="mediaSource"){var u=typeof b[S]=="object"?b[S]:{ideal:b[S]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);var k=function(K,ae){return K?K+ae.charAt(0).toUpperCase()+ae.slice(1):ae==="deviceId"?"sourceId":ae};if(u.ideal!==void 0){F.optional=F.optional||[];var R={};typeof u.ideal=="number"?(R[k("min",S)]=u.ideal,F.optional.push(R),(R={})[k("max",S)]=u.ideal,F.optional.push(R)):(R[k("",S)]=u.ideal,F.optional.push(R))}u.exact!==void 0&&typeof u.exact!="number"?(F.mandatory=F.mandatory||{},F.mandatory[k("",S)]=u.exact):["min","max"].forEach(function(K){u[K]!==void 0&&(F.mandatory=F.mandatory||{},F.mandatory[k(K,S)]=u[K])})}}),b.advanced&&(F.optional=(F.optional||[]).concat(b.advanced)),F},l=function(b,F){if(y.version>=61)return F(b);if((b=JSON.parse(JSON.stringify(b)))&&typeof b.audio=="object"){var S=function(K,ae,Y){ae in K&&!(Y in K)&&(K[Y]=K[ae],delete K[ae])};S((b=JSON.parse(JSON.stringify(b))).audio,"autoGainControl","googAutoGainControl"),S(b.audio,"noiseSuppression","googNoiseSuppression"),b.audio=p(b.audio)}if(b&&typeof b.video=="object"){var u=b.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});var k,R=y.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&(!w.mediaDevices.getSupportedConstraints||!w.mediaDevices.getSupportedConstraints().facingMode||R)&&(delete b.video.facingMode,u.exact==="environment"||u.ideal==="environment"?k=["back","rear"]:u.exact!=="user"&&u.ideal!=="user"||(k=["front"]),k))return w.mediaDevices.enumerateDevices().then(function(K){var ae=(K=K.filter(function(Y){return Y.kind==="videoinput"})).find(function(Y){return k.some(function(oe){return Y.label.toLowerCase().indexOf(oe)!==-1})});return!ae&&K.length&&k.indexOf("back")!==-1&&(ae=K[K.length-1]),ae&&(b.video.deviceId=u.exact?{exact:ae.deviceId}:{ideal:ae.deviceId}),b.video=p(b.video),_("chrome: "+JSON.stringify(b)),F(b)});b.video=p(b.video)}return _("chrome: "+JSON.stringify(b)),F(b)},C=function(b){return y.version>=64?b:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[b.name]||b.name,message:b.message,constraint:b.constraint||b.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};w.getUserMedia=function(b,F,S){l(b,function(u){w.webkitGetUserMedia(u,F,function(k){S&&S(C(k))})})};var W=function(b){return new Promise(function(F,S){w.getUserMedia(b,F,S)})};if(w.mediaDevices||(w.mediaDevices={getUserMedia:W,enumerateDevices:function(){return new Promise(function(b){var F={audio:"audioinput",video:"videoinput"};return g.MediaStreamTrack.getSources(function(S){b(S.map(function(u){return{label:u.label,kind:F[u.kind],deviceId:u.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),w.mediaDevices.getUserMedia){var m=w.mediaDevices.getUserMedia.bind(w.mediaDevices);w.mediaDevices.getUserMedia=function(b){return l(b,function(F){return m(F).then(function(S){if(F.audio&&!S.getAudioTracks().length||F.video&&!S.getVideoTracks().length)throw S.getTracks().forEach(function(u){u.stop()}),new DOMException("","NotFoundError");return S},function(S){return Promise.reject(C(S))})})}}else w.mediaDevices.getUserMedia=function(b){return W(b)};w.mediaDevices.addEventListener===void 0&&(w.mediaDevices.addEventListener=function(){_("Dummy mediaDevices.addEventListener called.")}),w.mediaDevices.removeEventListener===void 0&&(w.mediaDevices.removeEventListener=function(){_("Dummy mediaDevices.removeEventListener called.")})}},1594:function(ye,Z,P){var x=P(2281),_=P(3475);ye.exports={shimRTCIceCandidate:function(g){if(!(!g.RTCIceCandidate||g.RTCIceCandidate&&"foundation"in g.RTCIceCandidate.prototype)){var y=g.RTCIceCandidate;g.RTCIceCandidate=function(w){if(typeof w=="object"&&w.candidate&&w.candidate.indexOf("a=")===0&&((w=JSON.parse(JSON.stringify(w))).candidate=w.candidate.substr(2)),w.candidate&&w.candidate.length){var p=new y(w),l=x.parseCandidate(w.candidate),C=Object.assign(p,l);return C.toJSON=function(){return{candidate:C.candidate,sdpMid:C.sdpMid,sdpMLineIndex:C.sdpMLineIndex,usernameFragment:C.usernameFragment}},C}return new y(w)},g.RTCIceCandidate.prototype=y.prototype,_.wrapPeerConnectionEvent(g,"icecandidate",function(w){return w.candidate&&Object.defineProperty(w,"candidate",{value:new g.RTCIceCandidate(w.candidate),writable:"false"}),w})}},shimCreateObjectURL:function(g){var y=g&&g.URL;if(typeof g=="object"&&g.HTMLMediaElement&&"srcObject"in g.HTMLMediaElement.prototype&&y.createObjectURL&&y.revokeObjectURL){var w=y.createObjectURL.bind(y),p=y.revokeObjectURL.bind(y),l=new Map,C=0;y.createObjectURL=function(b){if("getTracks"in b){var F="polyblob:"+ ++C;return l.set(F,b),_.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),F}return w(b)},y.revokeObjectURL=function(b){p(b),l.delete(b)};var W=Object.getOwnPropertyDescriptor(g.HTMLMediaElement.prototype,"src");Object.defineProperty(g.HTMLMediaElement.prototype,"src",{get:function(){return W.get.apply(this)},set:function(b){return this.srcObject=l.get(b)||null,W.set.apply(this,[b])}});var m=g.HTMLMediaElement.prototype.setAttribute;g.HTMLMediaElement.prototype.setAttribute=function(){return arguments.length===2&&(""+arguments[0]).toLowerCase()==="src"&&(this.srcObject=l.get(arguments[1])||null),m.apply(this,arguments)}}},shimMaxMessageSize:function(g){if(!g.RTCSctpTransport&&g.RTCPeerConnection){var y=_.detectBrowser(g);"sctp"in g.RTCPeerConnection.prototype||Object.defineProperty(g.RTCPeerConnection.prototype,"sctp",{get:function(){return this._sctp===void 0?null:this._sctp}});var w=function(m){var b=x.splitSections(m.sdp);return b.shift(),b.some(function(F){var S=x.parseMLine(F);return S&&S.kind==="application"&&S.protocol.indexOf("SCTP")!==-1})},p=function(m){var b=m.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(b===null||b.length<2)return-1;var F=parseInt(b[1],10);return F!=F?-1:F},l=function(m){var b=65536;return y.browser==="firefox"&&(b=y.version<57?m===-1?16384:2147483637:y.version<60?y.version===57?65535:65536:2147483637),b},C=function(m,b){var F=65536;y.browser==="firefox"&&y.version===57&&(F=65535);var S=x.matchPrefix(m.sdp,"a=max-message-size:");return S.length>0?F=parseInt(S[0].substr(19),10):y.browser==="firefox"&&b!==-1&&(F=2147483637),F},W=g.RTCPeerConnection.prototype.setRemoteDescription;g.RTCPeerConnection.prototype.setRemoteDescription=function(){var m=this;if(m._sctp=null,w(arguments[0])){var b,F=p(arguments[0]),S=l(F),u=C(arguments[0],F);b=S===0&&u===0?Number.POSITIVE_INFINITY:S===0||u===0?Math.max(S,u):Math.min(S,u);var k={};Object.defineProperty(k,"maxMessageSize",{get:function(){return b}}),m._sctp=k}return W.apply(m,arguments)}}},shimSendThrowTypeError:function(g){if(g.RTCPeerConnection&&"createDataChannel"in g.RTCPeerConnection.prototype){var y=g.RTCPeerConnection.prototype.createDataChannel;g.RTCPeerConnection.prototype.createDataChannel=function(){var p=this,l=y.apply(p,arguments);return w(l,p),l},_.wrapPeerConnectionEvent(g,"datachannel",function(p){return w(p.channel,p.target),p})}function w(p,l){var C=p.send;p.send=function(){var W=arguments[0],m=W.length||W.size||W.byteLength;if(p.readyState==="open"&&l.sctp&&m>l.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+l.sctp.maxMessageSize+" bytes)");return C.apply(p,arguments)}}}}},7435:function(ye,Z,P){var x=P(3475),_=P(7225),g=P(6294);ye.exports={shimGetUserMedia:P(2673),shimPeerConnection:function(y){var w=x.detectBrowser(y);if(y.RTCIceGatherer&&(y.RTCIceCandidate||(y.RTCIceCandidate=function(C){return C}),y.RTCSessionDescription||(y.RTCSessionDescription=function(C){return C}),w.version<15025)){var p=Object.getOwnPropertyDescriptor(y.MediaStreamTrack.prototype,"enabled");Object.defineProperty(y.MediaStreamTrack.prototype,"enabled",{set:function(C){p.set.call(this,C);var W=new Event("enabled");W.enabled=C,this.dispatchEvent(W)}})}y.RTCRtpSender&&!("dtmf"in y.RTCRtpSender.prototype)&&Object.defineProperty(y.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new y.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),y.RTCDtmfSender&&!y.RTCDTMFSender&&(y.RTCDTMFSender=y.RTCDtmfSender);var l=g(y,w.version);y.RTCPeerConnection=function(C){return C&&C.iceServers&&(C.iceServers=_(C.iceServers)),new l(C)},y.RTCPeerConnection.prototype=l.prototype},shimReplaceTrack:function(y){y.RTCRtpSender&&!("replaceTrack"in y.RTCRtpSender.prototype)&&(y.RTCRtpSender.prototype.replaceTrack=y.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(y,w){if("getDisplayMedia"in y.navigator&&y.navigator.mediaDevices&&!("getDisplayMedia"in y.navigator.mediaDevices)){var p=y.navigator.getDisplayMedia;y.navigator.mediaDevices.getDisplayMedia=function(l){return p.call(y.navigator,l)},y.navigator.getDisplayMedia=function(l){return x.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),p.call(y.navigator,l)}}}}},7225:function(ye,Z,P){var x=P(3475);ye.exports=function(_,g){var y=!1;return(_=JSON.parse(JSON.stringify(_))).filter(function(w){if(w&&(w.urls||w.url)){var p=w.urls||w.url;w.url&&!w.urls&&x.deprecated("RTCIceServer.url","RTCIceServer.urls");var l=typeof p=="string";return l&&(p=[p]),p=p.filter(function(C){return C.indexOf("turn:")!==0||C.indexOf("transport=udp")===-1||C.indexOf("turn:[")!==-1||y?C.indexOf("stun:")===0&&g>=14393&&C.indexOf("?transport=udp")===-1:(y=!0,!0)}),delete w.url,w.urls=l?p[0]:p,!!p.length}})}},2673:function(ye){ye.exports=function(Z){var P=Z&&Z.navigator,x=P.mediaDevices.getUserMedia.bind(P.mediaDevices);P.mediaDevices.getUserMedia=function(_){return x(_).catch(function(g){return Promise.reject(function(y){return{name:{PermissionDeniedError:"NotAllowedError"}[y.name]||y.name,message:y.message,constraint:y.constraint,toString:function(){return this.name}}}(g))})}}},4449:function(ye,Z,P){var x=P(3475);ye.exports={shimGetUserMedia:P(2244),shimOnTrack:function(_){typeof _=="object"&&_.RTCPeerConnection&&!("ontrack"in _.RTCPeerConnection.prototype)&&Object.defineProperty(_.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(g){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=g),this.addEventListener("addstream",this._ontrackpoly=function(y){y.stream.getTracks().forEach(function(w){var p=new Event("track");p.track=w,p.receiver={track:w},p.transceiver={receiver:p.receiver},p.streams=[y.stream],this.dispatchEvent(p)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),typeof _=="object"&&_.RTCTrackEvent&&"receiver"in _.RTCTrackEvent.prototype&&!("transceiver"in _.RTCTrackEvent.prototype)&&Object.defineProperty(_.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(_){typeof _=="object"&&_.HTMLMediaElement&&!("srcObject"in _.HTMLMediaElement.prototype)&&Object.defineProperty(_.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(g){this.mozSrcObject=g}})},shimPeerConnection:function(_){var g=x.detectBrowser(_);if(typeof _=="object"&&(_.RTCPeerConnection||_.mozRTCPeerConnection)){_.RTCPeerConnection||(_.RTCPeerConnection=function(l,C){if(g.version<38&&l&&l.iceServers){for(var W=[],m=0;m<l.iceServers.length;m++){var b=l.iceServers[m];if(b.hasOwnProperty("urls"))for(var F=0;F<b.urls.length;F++){var S={url:b.urls[F]};b.urls[F].indexOf("turn")===0&&(S.username=b.username,S.credential=b.credential),W.push(S)}else W.push(l.iceServers[m])}l.iceServers=W}return new _.mozRTCPeerConnection(l,C)},_.RTCPeerConnection.prototype=_.mozRTCPeerConnection.prototype,_.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(_.RTCPeerConnection,"generateCertificate",{get:function(){return _.mozRTCPeerConnection.generateCertificate}}),_.RTCSessionDescription=_.mozRTCSessionDescription,_.RTCIceCandidate=_.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(l){var C=_.RTCPeerConnection.prototype[l];_.RTCPeerConnection.prototype[l]=function(){return arguments[0]=new(l==="addIceCandidate"?_.RTCIceCandidate:_.RTCSessionDescription)(arguments[0]),C.apply(this,arguments)}});var y=_.RTCPeerConnection.prototype.addIceCandidate;_.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?y.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var w={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},p=_.RTCPeerConnection.prototype.getStats;_.RTCPeerConnection.prototype.getStats=function(l,C,W){return p.apply(this,[l||null]).then(function(m){if(g.version<48&&(m=function(b){var F=new Map;return Object.keys(b).forEach(function(S){F.set(S,b[S]),F[S]=b[S]}),F}(m)),g.version<53&&!C)try{m.forEach(function(b){b.type=w[b.type]||b.type})}catch(b){if(b.name!=="TypeError")throw b;m.forEach(function(F,S){m.set(S,Object.assign({},F,{type:w[F.type]||F.type}))})}return m}).then(C,W)}}},shimSenderGetStats:function(_){if(typeof _=="object"&&_.RTCPeerConnection&&_.RTCRtpSender&&(!_.RTCRtpSender||!("getStats"in _.RTCRtpSender.prototype))){var g=_.RTCPeerConnection.prototype.getSenders;g&&(_.RTCPeerConnection.prototype.getSenders=function(){var w=this,p=g.apply(w,[]);return p.forEach(function(l){l._pc=w}),p});var y=_.RTCPeerConnection.prototype.addTrack;y&&(_.RTCPeerConnection.prototype.addTrack=function(){var w=y.apply(this,arguments);return w._pc=this,w}),_.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(_){if(typeof _=="object"&&_.RTCPeerConnection&&_.RTCRtpSender&&(!_.RTCRtpSender||!("getStats"in _.RTCRtpReceiver.prototype))){var g=_.RTCPeerConnection.prototype.getReceivers;g&&(_.RTCPeerConnection.prototype.getReceivers=function(){var y=this,w=g.apply(y,[]);return w.forEach(function(p){p._pc=y}),w}),x.wrapPeerConnectionEvent(_,"track",function(y){return y.receiver._pc=y.srcElement,y}),_.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(_){_.RTCPeerConnection&&!("removeStream"in _.RTCPeerConnection.prototype)&&(_.RTCPeerConnection.prototype.removeStream=function(g){var y=this;x.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(w){w.track&&g.getTracks().indexOf(w.track)!==-1&&y.removeTrack(w)})})},shimRTCDataChannel:function(_){_.DataChannel&&!_.RTCDataChannel&&(_.RTCDataChannel=_.DataChannel)},shimGetDisplayMedia:function(_,g){_.navigator&&_.navigator.mediaDevices&&!("getDisplayMedia"in _.navigator.mediaDevices)&&(_.navigator.mediaDevices.getDisplayMedia=function(y){if(!y||!y.video){var w=new DOMException("getDisplayMedia without video constraints is undefined");return w.name="NotFoundError",w.code=8,Promise.reject(w)}return y.video===!0?y.video={mediaSource:g}:y.video.mediaSource=g,_.navigator.mediaDevices.getUserMedia(y)},_.navigator.getDisplayMedia=function(y){return x.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),_.navigator.mediaDevices.getDisplayMedia(y)})}}},2244:function(ye,Z,P){var x=P(3475),_=x.log;ye.exports=function(g){var y=x.detectBrowser(g),w=g&&g.navigator,p=g&&g.MediaStreamTrack,l=function(k){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[k.name]||k.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[k.message]||k.message,constraint:k.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},C=function(k,R,K){var ae=function(Y){if(typeof Y!="object"||Y.require)return Y;var oe=[];return Object.keys(Y).forEach(function(le){if(le!=="require"&&le!=="advanced"&&le!=="mediaSource"){var Ee=Y[le]=typeof Y[le]=="object"?Y[le]:{ideal:Y[le]};if(Ee.min===void 0&&Ee.max===void 0&&Ee.exact===void 0||oe.push(le),Ee.exact!==void 0&&(typeof Ee.exact=="number"?Ee.min=Ee.max=Ee.exact:Y[le]=Ee.exact,delete Ee.exact),Ee.ideal!==void 0){Y.advanced=Y.advanced||[];var me={};typeof Ee.ideal=="number"?me[le]={min:Ee.ideal,max:Ee.ideal}:me[le]=Ee.ideal,Y.advanced.push(me),delete Ee.ideal,Object.keys(Ee).length||delete Y[le]}}}),oe.length&&(Y.require=oe),Y};return k=JSON.parse(JSON.stringify(k)),y.version<38&&(_("spec: "+JSON.stringify(k)),k.audio&&(k.audio=ae(k.audio)),k.video&&(k.video=ae(k.video)),_("ff37: "+JSON.stringify(k))),w.mozGetUserMedia(k,R,function(Y){K(l(Y))})};if(w.mediaDevices||(w.mediaDevices={getUserMedia:function(k){return new Promise(function(R,K){C(k,R,K)})},addEventListener:function(){},removeEventListener:function(){}}),w.mediaDevices.enumerateDevices=w.mediaDevices.enumerateDevices||function(){return new Promise(function(k){k([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},y.version<41){var W=w.mediaDevices.enumerateDevices.bind(w.mediaDevices);w.mediaDevices.enumerateDevices=function(){return W().then(void 0,function(k){if(k.name==="NotFoundError")return[];throw k})}}if(y.version<49){var m=w.mediaDevices.getUserMedia.bind(w.mediaDevices);w.mediaDevices.getUserMedia=function(k){return m(k).then(function(R){if(k.audio&&!R.getAudioTracks().length||k.video&&!R.getVideoTracks().length)throw R.getTracks().forEach(function(K){K.stop()}),new DOMException("The object can not be found here.","NotFoundError");return R},function(R){return Promise.reject(l(R))})}}if(!(y.version>55&&"autoGainControl"in w.mediaDevices.getSupportedConstraints())){var b=function(k,R,K){R in k&&!(K in k)&&(k[K]=k[R],delete k[R])},F=w.mediaDevices.getUserMedia.bind(w.mediaDevices);if(w.mediaDevices.getUserMedia=function(k){return typeof k=="object"&&typeof k.audio=="object"&&(k=JSON.parse(JSON.stringify(k)),b(k.audio,"autoGainControl","mozAutoGainControl"),b(k.audio,"noiseSuppression","mozNoiseSuppression")),F(k)},p&&p.prototype.getSettings){var S=p.prototype.getSettings;p.prototype.getSettings=function(){var k=S.apply(this,arguments);return b(k,"mozAutoGainControl","autoGainControl"),b(k,"mozNoiseSuppression","noiseSuppression"),k}}if(p&&p.prototype.applyConstraints){var u=p.prototype.applyConstraints;p.prototype.applyConstraints=function(k){return this.kind==="audio"&&typeof k=="object"&&(k=JSON.parse(JSON.stringify(k)),b(k,"autoGainControl","mozAutoGainControl"),b(k,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[k])}}}w.getUserMedia=function(k,R,K){if(y.version<44)return C(k,R,K);x.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),w.mediaDevices.getUserMedia(k).then(R,K)}}},4477:function(ye,Z,P){var x=P(3475);ye.exports={shimLocalStreamsAPI:function(_){if(typeof _=="object"&&_.RTCPeerConnection){if("getLocalStreams"in _.RTCPeerConnection.prototype||(_.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in _.RTCPeerConnection.prototype||(_.RTCPeerConnection.prototype.getStreamById=function(y){var w=null;return this._localStreams&&this._localStreams.forEach(function(p){p.id===y&&(w=p)}),this._remoteStreams&&this._remoteStreams.forEach(function(p){p.id===y&&(w=p)}),w}),!("addStream"in _.RTCPeerConnection.prototype)){var g=_.RTCPeerConnection.prototype.addTrack;_.RTCPeerConnection.prototype.addStream=function(y){this._localStreams||(this._localStreams=[]),this._localStreams.indexOf(y)===-1&&this._localStreams.push(y);var w=this;y.getTracks().forEach(function(p){g.call(w,p,y)})},_.RTCPeerConnection.prototype.addTrack=function(y,w){return w&&(this._localStreams?this._localStreams.indexOf(w)===-1&&this._localStreams.push(w):this._localStreams=[w]),g.call(this,y,w)}}"removeStream"in _.RTCPeerConnection.prototype||(_.RTCPeerConnection.prototype.removeStream=function(y){this._localStreams||(this._localStreams=[]);var w=this._localStreams.indexOf(y);if(w!==-1){this._localStreams.splice(w,1);var p=this,l=y.getTracks();this.getSenders().forEach(function(C){l.indexOf(C.track)!==-1&&p.removeTrack(C)})}})}},shimRemoteStreamsAPI:function(_){if(typeof _=="object"&&_.RTCPeerConnection&&("getRemoteStreams"in _.RTCPeerConnection.prototype||(_.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in _.RTCPeerConnection.prototype))){Object.defineProperty(_.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(y){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=y)}});var g=_.RTCPeerConnection.prototype.setRemoteDescription;_.RTCPeerConnection.prototype.setRemoteDescription=function(){var y=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(w){w.streams.forEach(function(p){if(y._remoteStreams||(y._remoteStreams=[]),!(y._remoteStreams.indexOf(p)>=0)){y._remoteStreams.push(p);var l=new Event("addstream");l.stream=p,y.dispatchEvent(l)}})}),g.apply(y,arguments)}}},shimCallbacksAPI:function(_){if(typeof _=="object"&&_.RTCPeerConnection){var g=_.RTCPeerConnection.prototype,y=g.createOffer,w=g.createAnswer,p=g.setLocalDescription,l=g.setRemoteDescription,C=g.addIceCandidate;g.createOffer=function(m,b){var F=arguments.length>=2?arguments[2]:arguments[0],S=y.apply(this,[F]);return b?(S.then(m,b),Promise.resolve()):S},g.createAnswer=function(m,b){var F=arguments.length>=2?arguments[2]:arguments[0],S=w.apply(this,[F]);return b?(S.then(m,b),Promise.resolve()):S};var W=function(m,b,F){var S=p.apply(this,[m]);return F?(S.then(b,F),Promise.resolve()):S};g.setLocalDescription=W,W=function(m,b,F){var S=l.apply(this,[m]);return F?(S.then(b,F),Promise.resolve()):S},g.setRemoteDescription=W,W=function(m,b,F){var S=C.apply(this,[m]);return F?(S.then(b,F),Promise.resolve()):S},g.addIceCandidate=W}},shimGetUserMedia:function(_){var g=_&&_.navigator;g.getUserMedia||(g.webkitGetUserMedia?g.getUserMedia=g.webkitGetUserMedia.bind(g):g.mediaDevices&&g.mediaDevices.getUserMedia&&(g.getUserMedia=function(y,w,p){g.mediaDevices.getUserMedia(y).then(w,p)}.bind(g)))},shimRTCIceServerUrls:function(_){var g=_.RTCPeerConnection;_.RTCPeerConnection=function(y,w){if(y&&y.iceServers){for(var p=[],l=0;l<y.iceServers.length;l++){var C=y.iceServers[l];!C.hasOwnProperty("urls")&&C.hasOwnProperty("url")?(x.deprecated("RTCIceServer.url","RTCIceServer.urls"),(C=JSON.parse(JSON.stringify(C))).urls=C.url,delete C.url,p.push(C)):p.push(y.iceServers[l])}y.iceServers=p}return new g(y,w)},_.RTCPeerConnection.prototype=g.prototype,"generateCertificate"in _.RTCPeerConnection&&Object.defineProperty(_.RTCPeerConnection,"generateCertificate",{get:function(){return g.generateCertificate}})},shimTrackEventTransceiver:function(_){typeof _=="object"&&_.RTCPeerConnection&&"receiver"in _.RTCTrackEvent.prototype&&!_.RTCTransceiver&&Object.defineProperty(_.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(_){var g=_.RTCPeerConnection.prototype.createOffer;_.RTCPeerConnection.prototype.createOffer=function(y){var w=this;if(y){y.offerToReceiveAudio!==void 0&&(y.offerToReceiveAudio=!!y.offerToReceiveAudio);var p=w.getTransceivers().find(function(C){return C.sender.track&&C.sender.track.kind==="audio"});y.offerToReceiveAudio===!1&&p?p.direction==="sendrecv"?p.setDirection?p.setDirection("sendonly"):p.direction="sendonly":p.direction==="recvonly"&&(p.setDirection?p.setDirection("inactive"):p.direction="inactive"):y.offerToReceiveAudio!==!0||p||w.addTransceiver("audio"),y.offerToReceiveVideo!==void 0&&(y.offerToReceiveVideo=!!y.offerToReceiveVideo);var l=w.getTransceivers().find(function(C){return C.sender.track&&C.sender.track.kind==="video"});y.offerToReceiveVideo===!1&&l?l.direction==="sendrecv"?l.setDirection("sendonly"):l.direction==="recvonly"&&l.setDirection("inactive"):y.offerToReceiveVideo!==!0||l||w.addTransceiver("video")}return g.apply(w,arguments)}}}},3475:function(ye){var Z=!0,P=!0;function x(_,g,y){var w=_.match(g);return w&&w.length>=y&&parseInt(w[y],10)}ye.exports={extractVersion:x,wrapPeerConnectionEvent:function(_,g,y){if(_.RTCPeerConnection){var w=_.RTCPeerConnection.prototype,p=w.addEventListener;w.addEventListener=function(C,W){if(C!==g)return p.apply(this,arguments);var m=function(b){var F=y(b);F&&W(F)};return this._eventMap=this._eventMap||{},this._eventMap[W]=m,p.apply(this,[C,m])};var l=w.removeEventListener;w.removeEventListener=function(C,W){if(C!==g||!this._eventMap||!this._eventMap[W])return l.apply(this,arguments);var m=this._eventMap[W];return delete this._eventMap[W],l.apply(this,[C,m])},Object.defineProperty(w,"on"+g,{get:function(){return this["_on"+g]},set:function(C){this["_on"+g]&&(this.removeEventListener(g,this["_on"+g]),delete this["_on"+g]),C&&this.addEventListener(g,this["_on"+g]=C)},enumerable:!0,configurable:!0})}},disableLog:function(_){return typeof _!="boolean"?new Error("Argument type: "+typeof _+". Please use a boolean."):(Z=_,_?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(_){return typeof _!="boolean"?new Error("Argument type: "+typeof _+". Please use a boolean."):(P=!_,"adapter.js deprecation warnings "+(_?"disabled":"enabled"))},log:function(){if(typeof window=="object"){if(Z)return;typeof console!="undefined"&&typeof console.log=="function"&&console.log.apply(console,arguments)}},deprecated:function(_,g){P&&console.warn(_+" is deprecated, please use "+g+" instead.")},detectBrowser:function(_){var g=_&&_.navigator,y={browser:null,version:null};if(_===void 0||!_.navigator)return y.browser="Not a browser.",y;if(g.mozGetUserMedia)y.browser="firefox",y.version=x(g.userAgent,/Firefox\/(\d+)\./,1);else if(g.webkitGetUserMedia)y.browser="chrome",y.version=x(g.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(g.mediaDevices&&g.userAgent.match(/Edge\/(\d+).(\d+)$/))y.browser="edge",y.version=x(g.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!_.RTCPeerConnection||!g.userAgent.match(/AppleWebKit\/(\d+)\./))return y.browser="Not a supported browser.",y;y.browser="safari",y.version=x(g.userAgent,/AppleWebKit\/(\d+)\./,1)}return y}}},7187:function(ye){function Z(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function P(g){return typeof g=="function"}function x(g){return typeof g=="object"&&g!==null}function _(g){return g===void 0}ye.exports=Z,Z.EventEmitter=Z,Z.prototype._events=void 0,Z.prototype._maxListeners=void 0,Z.defaultMaxListeners=10,Z.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||isNaN(g))throw TypeError("n must be a positive number");return this._maxListeners=g,this},Z.prototype.emit=function(g){var y,w,p,l,C,W;if(this._events||(this._events={}),g==="error"&&(!this._events.error||x(this._events.error)&&!this._events.error.length)){if((y=arguments[1])instanceof Error)throw y;var m=new Error('Uncaught, unspecified "error" event. ('+y+")");throw m.context=y,m}if(_(w=this._events[g]))return!1;if(P(w))switch(arguments.length){case 1:w.call(this);break;case 2:w.call(this,arguments[1]);break;case 3:w.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),w.apply(this,l)}else if(x(w))for(l=Array.prototype.slice.call(arguments,1),p=(W=w.slice()).length,C=0;C<p;C++)W[C].apply(this,l);return!0},Z.prototype.addListener=function(g,y){var w;if(!P(y))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",g,P(y.listener)?y.listener:y),this._events[g]?x(this._events[g])?this._events[g].push(y):this._events[g]=[this._events[g],y]:this._events[g]=y,x(this._events[g])&&!this._events[g].warned&&(w=_(this._maxListeners)?Z.defaultMaxListeners:this._maxListeners)&&w>0&&this._events[g].length>w&&(this._events[g].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[g].length),typeof console.trace=="function"&&console.trace()),this},Z.prototype.on=Z.prototype.addListener,Z.prototype.once=function(g,y){if(!P(y))throw TypeError("listener must be a function");var w=!1;function p(){this.removeListener(g,p),w||(w=!0,y.apply(this,arguments))}return p.listener=y,this.on(g,p),this},Z.prototype.removeListener=function(g,y){var w,p,l,C;if(!P(y))throw TypeError("listener must be a function");if(!this._events||!this._events[g])return this;if(l=(w=this._events[g]).length,p=-1,w===y||P(w.listener)&&w.listener===y)delete this._events[g],this._events.removeListener&&this.emit("removeListener",g,y);else if(x(w)){for(C=l;C-- >0;)if(w[C]===y||w[C].listener&&w[C].listener===y){p=C;break}if(p<0)return this;w.length===1?(w.length=0,delete this._events[g]):w.splice(p,1),this._events.removeListener&&this.emit("removeListener",g,y)}return this},Z.prototype.removeAllListeners=function(g){var y,w;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[g]&&delete this._events[g],this;if(arguments.length===0){for(y in this._events)y!=="removeListener"&&this.removeAllListeners(y);return this.removeAllListeners("removeListener"),this._events={},this}if(P(w=this._events[g]))this.removeListener(g,w);else if(w)for(;w.length;)this.removeListener(g,w[w.length-1]);return delete this._events[g],this},Z.prototype.listeners=function(g){return this._events&&this._events[g]?P(this._events[g])?[this._events[g]]:this._events[g].slice():[]},Z.prototype.listenerCount=function(g){if(this._events){var y=this._events[g];if(P(y))return 1;if(y)return y.length}return 0},Z.listenerCount=function(g,y){return g.listenerCount(y)}},3339:function(){},2349:function(){},673:function(){},6946:function(){},2379:function(ye){ye.exports=JSON.parse('["ac","com.ac","edu.ac","gov.ac","net.ac","mil.ac","org.ac","ad","nom.ad","ae","co.ae","net.ae","org.ae","sch.ae","ac.ae","gov.ae","mil.ae","aero","accident-investigation.aero","accident-prevention.aero","aerobatic.aero","aeroclub.aero","aerodrome.aero","agents.aero","aircraft.aero","airline.aero","airport.aero","air-surveillance.aero","airtraffic.aero","air-traffic-control.aero","ambulance.aero","amusement.aero","association.aero","author.aero","ballooning.aero","broker.aero","caa.aero","cargo.aero","catering.aero","certification.aero","championship.aero","charter.aero","civilaviation.aero","club.aero","conference.aero","consultant.aero","consulting.aero","control.aero","council.aero","crew.aero","design.aero","dgca.aero","educator.aero","emergency.aero","engine.aero","engineer.aero","entertainment.aero","equipment.aero","exchange.aero","express.aero","federation.aero","flight.aero","fuel.aero","gliding.aero","government.aero","groundhandling.aero","group.aero","hanggliding.aero","homebuilt.aero","insurance.aero","journal.aero","journalist.aero","leasing.aero","logistics.aero","magazine.aero","maintenance.aero","media.aero","microlight.aero","modelling.aero","navigation.aero","parachuting.aero","paragliding.aero","passenger-association.aero","pilot.aero","press.aero","production.aero","recreation.aero","repbody.aero","res.aero","research.aero","rotorcraft.aero","safety.aero","scientist.aero","services.aero","show.aero","skydiving.aero","software.aero","student.aero","trader.aero","trading.aero","trainer.aero","union.aero","workinggroup.aero","works.aero","af","gov.af","com.af","org.af","net.af","edu.af","ag","com.ag","org.ag","net.ag","co.ag","nom.ag","ai","off.ai","com.ai","net.ai","org.ai","al","com.al","edu.al","gov.al","mil.al","net.al","org.al","am","co.am","com.am","commune.am","net.am","org.am","ao","ed.ao","gv.ao","og.ao","co.ao","pb.ao","it.ao","aq","ar","bet.ar","com.ar","coop.ar","edu.ar","gob.ar","gov.ar","int.ar","mil.ar","musica.ar","mutual.ar","net.ar","org.ar","senasa.ar","tur.ar","arpa","e164.arpa","in-addr.arpa","ip6.arpa","iris.arpa","uri.arpa","urn.arpa","as","gov.as","asia","at","ac.at","co.at","gv.at","or.at","sth.ac.at","au","com.au","net.au","org.au","edu.au","gov.au","asn.au","id.au","info.au","conf.au","oz.au","act.au","nsw.au","nt.au","qld.au","sa.au","tas.au","vic.au","wa.au","act.edu.au","catholic.edu.au","nsw.edu.au","nt.edu.au","qld.edu.au","sa.edu.au","tas.edu.au","vic.edu.au","wa.edu.au","qld.gov.au","sa.gov.au","tas.gov.au","vic.gov.au","wa.gov.au","schools.nsw.edu.au","aw","com.aw","ax","az","com.az","net.az","int.az","gov.az","org.az","edu.az","info.az","pp.az","mil.az","name.az","pro.az","biz.az","ba","com.ba","edu.ba","gov.ba","mil.ba","net.ba","org.ba","bb","biz.bb","co.bb","com.bb","edu.bb","gov.bb","info.bb","net.bb","org.bb","store.bb","tv.bb","*.bd","be","ac.be","bf","gov.bf","bg","a.bg","b.bg","c.bg","d.bg","e.bg","f.bg","g.bg","h.bg","i.bg","j.bg","k.bg","l.bg","m.bg","n.bg","o.bg","p.bg","q.bg","r.bg","s.bg","t.bg","u.bg","v.bg","w.bg","x.bg","y.bg","z.bg","0.bg","1.bg","2.bg","3.bg","4.bg","5.bg","6.bg","7.bg","8.bg","9.bg","bh","com.bh","edu.bh","net.bh","org.bh","gov.bh","bi","co.bi","com.bi","edu.bi","or.bi","org.bi","biz","bj","asso.bj","barreau.bj","gouv.bj","bm","com.bm","edu.bm","gov.bm","net.bm","org.bm","bn","com.bn","edu.bn","gov.bn","net.bn","org.bn","bo","com.bo","edu.bo","gob.bo","int.bo","org.bo","net.bo","mil.bo","tv.bo","web.bo","academia.bo","agro.bo","arte.bo","blog.bo","bolivia.bo","ciencia.bo","cooperativa.bo","democracia.bo","deporte.bo","ecologia.bo","economia.bo","empresa.bo","indigena.bo","industria.bo","info.bo","medicina.bo","movimiento.bo","musica.bo","natural.bo","nombre.bo","noticias.bo","patria.bo","politica.bo","profesional.bo","plurinacional.bo","pueblo.bo","revista.bo","salud.bo","tecnologia.bo","tksat.bo","transporte.bo","wiki.bo","br","9guacu.br","abc.br","adm.br","adv.br","agr.br","aju.br","am.br","anani.br","aparecida.br","app.br","arq.br","art.br","ato.br","b.br","barueri.br","belem.br","bhz.br","bib.br","bio.br","blog.br","bmd.br","boavista.br","bsb.br","campinagrande.br","campinas.br","caxias.br","cim.br","cng.br","cnt.br","com.br","contagem.br","coop.br","coz.br","cri.br","cuiaba.br","curitiba.br","def.br","des.br","det.br","dev.br","ecn.br","eco.br","edu.br","emp.br","enf.br","eng.br","esp.br","etc.br","eti.br","far.br","feira.br","flog.br","floripa.br","fm.br","fnd.br","fortal.br","fot.br","foz.br","fst.br","g12.br","geo.br","ggf.br","goiania.br","gov.br","ac.gov.br","al.gov.br","am.gov.br","ap.gov.br","ba.gov.br","ce.gov.br","df.gov.br","es.gov.br","go.gov.br","ma.gov.br","mg.gov.br","ms.gov.br","mt.gov.br","pa.gov.br","pb.gov.br","pe.gov.br","pi.gov.br","pr.gov.br","rj.gov.br","rn.gov.br","ro.gov.br","rr.gov.br","rs.gov.br","sc.gov.br","se.gov.br","sp.gov.br","to.gov.br","gru.br","imb.br","ind.br","inf.br","jab.br","jampa.br","jdf.br","joinville.br","jor.br","jus.br","leg.br","lel.br","log.br","londrina.br","macapa.br","maceio.br","manaus.br","maringa.br","mat.br","med.br","mil.br","morena.br","mp.br","mus.br","natal.br","net.br","niteroi.br","*.nom.br","not.br","ntr.br","odo.br","ong.br","org.br","osasco.br","palmas.br","poa.br","ppg.br","pro.br","psc.br","psi.br","pvh.br","qsl.br","radio.br","rec.br","recife.br","rep.br","ribeirao.br","rio.br","riobranco.br","riopreto.br","salvador.br","sampa.br","santamaria.br","santoandre.br","saobernardo.br","saogonca.br","seg.br","sjc.br","slg.br","slz.br","sorocaba.br","srv.br","taxi.br","tc.br","tec.br","teo.br","the.br","tmp.br","trd.br","tur.br","tv.br","udi.br","vet.br","vix.br","vlog.br","wiki.br","zlg.br","bs","com.bs","net.bs","org.bs","edu.bs","gov.bs","bt","com.bt","edu.bt","gov.bt","net.bt","org.bt","bv","bw","co.bw","org.bw","by","gov.by","mil.by","com.by","of.by","bz","com.bz","net.bz","org.bz","edu.bz","gov.bz","ca","ab.ca","bc.ca","mb.ca","nb.ca","nf.ca","nl.ca","ns.ca","nt.ca","nu.ca","on.ca","pe.ca","qc.ca","sk.ca","yk.ca","gc.ca","cat","cc","cd","gov.cd","cf","cg","ch","ci","org.ci","or.ci","com.ci","co.ci","edu.ci","ed.ci","ac.ci","net.ci","go.ci","asso.ci","a\xE9roport.ci","int.ci","presse.ci","md.ci","gouv.ci","*.ck","!www.ck","cl","co.cl","gob.cl","gov.cl","mil.cl","cm","co.cm","com.cm","gov.cm","net.cm","cn","ac.cn","com.cn","edu.cn","gov.cn","net.cn","org.cn","mil.cn","\u516C\u53F8.cn","\u7F51\u7EDC.cn","\u7DB2\u7D61.cn","ah.cn","bj.cn","cq.cn","fj.cn","gd.cn","gs.cn","gz.cn","gx.cn","ha.cn","hb.cn","he.cn","hi.cn","hl.cn","hn.cn","jl.cn","js.cn","jx.cn","ln.cn","nm.cn","nx.cn","qh.cn","sc.cn","sd.cn","sh.cn","sn.cn","sx.cn","tj.cn","xj.cn","xz.cn","yn.cn","zj.cn","hk.cn","mo.cn","tw.cn","co","arts.co","com.co","edu.co","firm.co","gov.co","info.co","int.co","mil.co","net.co","nom.co","org.co","rec.co","web.co","com","coop","cr","ac.cr","co.cr","ed.cr","fi.cr","go.cr","or.cr","sa.cr","cu","com.cu","edu.cu","org.cu","net.cu","gov.cu","inf.cu","cv","com.cv","edu.cv","int.cv","nome.cv","org.cv","cw","com.cw","edu.cw","net.cw","org.cw","cx","gov.cx","cy","ac.cy","biz.cy","com.cy","ekloges.cy","gov.cy","ltd.cy","mil.cy","net.cy","org.cy","press.cy","pro.cy","tm.cy","cz","de","dj","dk","dm","com.dm","net.dm","org.dm","edu.dm","gov.dm","do","art.do","com.do","edu.do","gob.do","gov.do","mil.do","net.do","org.do","sld.do","web.do","dz","art.dz","asso.dz","com.dz","edu.dz","gov.dz","org.dz","net.dz","pol.dz","soc.dz","tm.dz","ec","com.ec","info.ec","net.ec","fin.ec","k12.ec","med.ec","pro.ec","org.ec","edu.ec","gov.ec","gob.ec","mil.ec","edu","ee","edu.ee","gov.ee","riik.ee","lib.ee","med.ee","com.ee","pri.ee","aip.ee","org.ee","fie.ee","eg","com.eg","edu.eg","eun.eg","gov.eg","mil.eg","name.eg","net.eg","org.eg","sci.eg","*.er","es","com.es","nom.es","org.es","gob.es","edu.es","et","com.et","gov.et","org.et","edu.et","biz.et","name.et","info.et","net.et","eu","fi","aland.fi","fj","ac.fj","biz.fj","com.fj","gov.fj","info.fj","mil.fj","name.fj","net.fj","org.fj","pro.fj","*.fk","com.fm","edu.fm","net.fm","org.fm","fm","fo","fr","asso.fr","com.fr","gouv.fr","nom.fr","prd.fr","tm.fr","aeroport.fr","avocat.fr","avoues.fr","cci.fr","chambagri.fr","chirurgiens-dentistes.fr","experts-comptables.fr","geometre-expert.fr","greta.fr","huissier-justice.fr","medecin.fr","notaires.fr","pharmacien.fr","port.fr","veterinaire.fr","ga","gb","edu.gd","gov.gd","gd","ge","com.ge","edu.ge","gov.ge","org.ge","mil.ge","net.ge","pvt.ge","gf","gg","co.gg","net.gg","org.gg","gh","com.gh","edu.gh","gov.gh","org.gh","mil.gh","gi","com.gi","ltd.gi","gov.gi","mod.gi","edu.gi","org.gi","gl","co.gl","com.gl","edu.gl","net.gl","org.gl","gm","gn","ac.gn","com.gn","edu.gn","gov.gn","org.gn","net.gn","gov","gp","com.gp","net.gp","mobi.gp","edu.gp","org.gp","asso.gp","gq","gr","com.gr","edu.gr","net.gr","org.gr","gov.gr","gs","gt","com.gt","edu.gt","gob.gt","ind.gt","mil.gt","net.gt","org.gt","gu","com.gu","edu.gu","gov.gu","guam.gu","info.gu","net.gu","org.gu","web.gu","gw","gy","co.gy","com.gy","edu.gy","gov.gy","net.gy","org.gy","hk","com.hk","edu.hk","gov.hk","idv.hk","net.hk","org.hk","\u516C\u53F8.hk","\u6559\u80B2.hk","\u654E\u80B2.hk","\u653F\u5E9C.hk","\u500B\u4EBA.hk","\u4E2A\uFFFD\uFFFD.hk","\u7B87\u4EBA.hk","\u7DB2\u7EDC.hk","\u7F51\u7EDC.hk","\u7EC4\u7E54.hk","\u7DB2\u7D61.hk","\u7F51\u7D61.hk","\u7EC4\u7EC7.hk","\u7D44\u7E54.hk","\u7D44\u7EC7.hk","hm","hn","com.hn","edu.hn","org.hn","net.hn","mil.hn","gob.hn","hr","iz.hr","from.hr","name.hr","com.hr","ht","com.ht","shop.ht","firm.ht","info.ht","adult.ht","net.ht","pro.ht","org.ht","med.ht","art.ht","coop.ht","pol.ht","asso.ht","edu.ht","rel.ht","gouv.ht","perso.ht","hu","co.hu","info.hu","org.hu","priv.hu","sport.hu","tm.hu","2000.hu","agrar.hu","bolt.hu","casino.hu","city.hu","erotica.hu","erotika.hu","film.hu","forum.hu","games.hu","hotel.hu","ingatlan.hu","jogasz.hu","konyvelo.hu","lakas.hu","media.hu","news.hu","reklam.hu","sex.hu","shop.hu","suli.hu","szex.hu","tozsde.hu","utazas.hu","video.hu","id","ac.id","biz.id","co.id","desa.id","go.id","mil.id","my.id","net.id","or.id","ponpes.id","sch.id","web.id","ie","gov.ie","il","ac.il","co.il","gov.il","idf.il","k12.il","muni.il","net.il","org.il","im","ac.im","co.im","com.im","ltd.co.im","net.im","org.im","plc.co.im","tt.im","tv.im","in","co.in","firm.in","net.in","org.in","gen.in","ind.in","nic.in","ac.in","edu.in","res.in","gov.in","mil.in","info","int","eu.int","io","com.io","iq","gov.iq","edu.iq","mil.iq","com.iq","org.iq","net.iq","ir","ac.ir","co.ir","gov.ir","id.ir","net.ir","org.ir","sch.ir","\u0627\u06CC\u0631\u0627\u0646.ir","\u0627\u064A\u0631\u0627\u0646.ir","is","net.is","com.is","edu.is","gov.is","org.is","int.is","it","gov.it","edu.it","abr.it","abruzzo.it","aosta-valley.it","aostavalley.it","bas.it","basilicata.it","cal.it","calabria.it","cam.it","campania.it","emilia-romagna.it","emiliaromagna.it","emr.it","friuli-v-giulia.it","friuli-ve-giulia.it","friuli-vegiulia.it","friuli-venezia-giulia.it","friuli-veneziagiulia.it","friuli-vgiulia.it","friuliv-giulia.it","friulive-giulia.it","friulivegiulia.it","friulivenezia-giulia.it","friuliveneziagiulia.it","friulivgiulia.it","fvg.it","laz.it","lazio.it","lig.it","liguria.it","lom.it","lombardia.it","lombardy.it","lucania.it","mar.it","marche.it","mol.it","molise.it","piedmont.it","piemonte.it","pmn.it","pug.it","puglia.it","sar.it","sardegna.it","sardinia.it","sic.it","sicilia.it","sicily.it","taa.it","tos.it","toscana.it","trentin-sud-tirol.it","trentin-s\xFCd-tirol.it","trentin-sudtirol.it","trentin-s\xFCdtirol.it","trentin-sued-tirol.it","trentin-suedtirol.it","trentino-a-adige.it","trentino-aadige.it","trentino-alto-adige.it","trentino-altoadige.it","trentino-s-tirol.it","trentino-stirol.it","trentino-sud-tirol.it","trentino-s\xFCd-tirol.it","trentino-sudtirol.it","trentino-s\xFCdtirol.it","trentino-sued-tirol.it","trentino-suedtirol.it","trentino.it","trentinoa-adige.it","trentinoaadige.it","trentinoalto-adige.it","trentinoaltoadige.it","trentinos-tirol.it","trentinostirol.it","trentinosud-tirol.it","trentinos\xFCd-tirol.it","trentinosudtirol.it","trentinos\xFCdtirol.it","trentinosued-tirol.it","trentinosuedtirol.it","trentinsud-tirol.it","trentins\xFCd-tirol.it","trentinsudtirol.it","trentins\xFCdtirol.it","trentinsued-tirol.it","trentinsuedtirol.it","tuscany.it","umb.it","umbria.it","val-d-aosta.it","val-daosta.it","vald-aosta.it","valdaosta.it","valle-aosta.it","valle-d-aosta.it","valle-daosta.it","valleaosta.it","valled-aosta.it","valledaosta.it","vallee-aoste.it","vall\xE9e-aoste.it","vallee-d-aoste.it","vall\xE9e-d-aoste.it","valleeaoste.it","vall\xE9eaoste.it","valleedaoste.it","vall\xE9edaoste.it","vao.it","vda.it","ven.it","veneto.it","ag.it","agrigento.it","al.it","alessandria.it","alto-adige.it","altoadige.it","an.it","ancona.it","andria-barletta-trani.it","andria-trani-barletta.it","andriabarlettatrani.it","andriatranibarletta.it","ao.it","aosta.it","aoste.it","ap.it","aq.it","aquila.it","ar.it","arezzo.it","ascoli-piceno.it","ascolipiceno.it","asti.it","at.it","av.it","avellino.it","ba.it","balsan-sudtirol.it","balsan-s\xFCdtirol.it","balsan-suedtirol.it","balsan.it","bari.it","barletta-trani-andria.it","barlettatraniandria.it","belluno.it","benevento.it","bergamo.it","bg.it","bi.it","biella.it","bl.it","bn.it","bo.it","bologna.it","bolzano-altoadige.it","bolzano.it","bozen-sudtirol.it","bozen-s\xFCdtirol.it","bozen-suedtirol.it","bozen.it","br.it","brescia.it","brindisi.it","bs.it","bt.it","bulsan-sudtirol.it","bulsan-s\xFCdtirol.it","bulsan-suedtirol.it","bulsan.it","bz.it","ca.it","cagliari.it","caltanissetta.it","campidano-medio.it","campidanomedio.it","campobasso.it","carbonia-iglesias.it","carboniaiglesias.it","carrara-massa.it","carraramassa.it","caserta.it","catania.it","catanzaro.it","cb.it","ce.it","cesena-forli.it","cesena-forl\xEC.it","cesenaforli.it","cesenaforl\xEC.it","ch.it","chieti.it","ci.it","cl.it","cn.it","co.it","como.it","cosenza.it","cr.it","cremona.it","crotone.it","cs.it","ct.it","cuneo.it","cz.it","dell-ogliastra.it","dellogliastra.it","en.it","enna.it","fc.it","fe.it","fermo.it","ferrara.it","fg.it","fi.it","firenze.it","florence.it","fm.it","foggia.it","forli-cesena.it","forl\xEC-cesena.it","forlicesena.it","forl\xECcesena.it","fr.it","frosinone.it","ge.it","genoa.it","genova.it","go.it","gorizia.it","gr.it","grosseto.it","iglesias-carbonia.it","iglesiascarbonia.it","im.it","imperia.it","is.it","isernia.it","kr.it","la-spezia.it","laquila.it","laspezia.it","latina.it","lc.it","le.it","lecce.it","lecco.it","li.it","livorno.it","lo.it","lodi.it","lt.it","lu.it","lucca.it","macerata.it","mantova.it","massa-carrara.it","massacarrara.it","matera.it","mb.it","mc.it","me.it","medio-campidano.it","mediocampidano.it","messina.it","mi.it","milan.it","milano.it","mn.it","mo.it","modena.it","monza-brianza.it","monza-e-della-brianza.it","monza.it","monzabrianza.it","monzaebrianza.it","monzaedellabrianza.it","ms.it","mt.it","na.it","naples.it","napoli.it","no.it","novara.it","nu.it","nuoro.it","og.it","ogliastra.it","olbia-tempio.it","olbiatempio.it","or.it","oristano.it","ot.it","pa.it","padova.it","padua.it","palermo.it","parma.it","pavia.it","pc.it","pd.it","pe.it","perugia.it","pesaro-urbino.it","pesarourbino.it","pescara.it","pg.it","pi.it","piacenza.it","pisa.it","pistoia.it","pn.it","po.it","pordenone.it","potenza.it","pr.it","prato.it","pt.it","pu.it","pv.it","pz.it","ra.it","ragusa.it","ravenna.it","rc.it","re.it","reggio-calabria.it","reggio-emilia.it","reggiocalabria.it","reggioemilia.it","rg.it","ri.it","rieti.it","rimini.it","rm.it","rn.it","ro.it","roma.it","rome.it","rovigo.it","sa.it","salerno.it","sassari.it","savona.it","si.it","siena.it","siracusa.it","so.it","sondrio.it","sp.it","sr.it","ss.it","suedtirol.it","s\xFCdtirol.it","sv.it","ta.it","taranto.it","te.it","tempio-olbia.it","tempioolbia.it","teramo.it","terni.it","tn.it","to.it","torino.it","tp.it","tr.it","trani-andria-barletta.it","trani-barletta-andria.it","traniandriabarletta.it","tranibarlettaandria.it","trapani.it","trento.it","treviso.it","trieste.it","ts.it","turin.it","tv.it","ud.it","udine.it","urbino-pesaro.it","urbinopesaro.it","va.it","varese.it","vb.it","vc.it","ve.it","venezia.it","venice.it","verbania.it","vercelli.it","verona.it","vi.it","vibo-valentia.it","vibovalentia.it","vicenza.it","viterbo.it","vr.it","vs.it","vt.it","vv.it","je","co.je","net.je","org.je","*.jm","jo","com.jo","org.jo","net.jo","edu.jo","sch.jo","gov.jo","mil.jo","name.jo","jobs","jp","ac.jp","ad.jp","co.jp","ed.jp","go.jp","gr.jp","lg.jp","ne.jp","or.jp","aichi.jp","akita.jp","aomori.jp","chiba.jp","ehime.jp","fukui.jp","fukuoka.jp","fukushima.jp","gifu.jp","gunma.jp","hiroshima.jp","hokkaido.jp","hyogo.jp","ibaraki.jp","ishikawa.jp","iwate.jp","kagawa.jp","kagoshima.jp","kanagawa.jp","kochi.jp","kumamoto.jp","kyoto.jp","mie.jp","miyagi.jp","miyazaki.jp","nagano.jp","nagasaki.jp","nara.jp","niigata.jp","oita.jp","okayama.jp","okinawa.jp","osaka.jp","saga.jp","saitama.jp","shiga.jp","shimane.jp","shizuoka.jp","tochigi.jp","tokushima.jp","tokyo.jp","tottori.jp","toyama.jp","wakayama.jp","yamagata.jp","yamaguchi.jp","yamanashi.jp","\u6803\u6728.jp","\u611B\u77E5.jp","\u611B\u5A9B.jp","\u5175\u5EAB.jp","\u718A\u672C.jp","\u8328\u57CE.jp","\u5317\u6D77\u9053.jp","\u5343\u8449.jp","\u548C\u6B4C\u5C71.jp","\u9577\u5D0E.jp","\u9577\u91CE.jp","\u65B0\u6F5F.jp","\u9752\u68EE.jp","\u9759\u5CA1.jp","\u6771\u4EAC.jp","\u77F3\u5DDD.jp","\u57FC\u7389.jp","\u4E09\u91CD.jp","\u4EAC\u90FD.jp","\u4F50\u8CC0.jp","\u5927\u5206.jp","\u5927\u962A.jp","\u5948\u826F.jp","\u5BAE\u57CE.jp","\u5BAE\u5D0E.jp","\u5BCC\u5C71.jp","\u5C71\u53E3.jp","\u5C71\u5F62.jp","\u5C71\u68A8.jp","\u5CA9\u624B.jp","\u5C90\u961C.jp","\u5CA1\u5C71.jp","\u5CF6\u6839.jp","\u5E83\u5CF6.jp","\u5FB3\u5CF6.jp","\u6C96\u7E04.jp","\u6ECB\u8CC0.jp","\u795E\u5948\u5DDD.jp","\u798F\u4E95.jp","\u798F\u5CA1.jp","\u798F\u5CF6.jp","\u79CB\u7530.jp","\u7FA4\u99AC.jp","\u9999\u5DDD.jp","\u9AD8\u77E5.jp","\u9CE5\u53D6.jp","\u9E7F\u5150\u5CF6.jp","*.kawasaki.jp","*.kitakyushu.jp","*.kobe.jp","*.nagoya.jp","*.sapporo.jp","*.sendai.jp","*.yokohama.jp","!city.kawasaki.jp","!city.kitakyushu.jp","!city.kobe.jp","!city.nagoya.jp","!city.sapporo.jp","!city.sendai.jp","!city.yokohama.jp","aisai.aichi.jp","ama.aichi.jp","anjo.aichi.jp","asuke.aichi.jp","chiryu.aichi.jp","chita.aichi.jp","fuso.aichi.jp","gamagori.aichi.jp","handa.aichi.jp","hazu.aichi.jp","hekinan.aichi.jp","higashiura.aichi.jp","ichinomiya.aichi.jp","inazawa.aichi.jp","inuyama.aichi.jp","isshiki.aichi.jp","iwakura.aichi.jp","kanie.aichi.jp","kariya.aichi.jp","kasugai.aichi.jp","kira.aichi.jp","kiyosu.aichi.jp","komaki.aichi.jp","konan.aichi.jp","kota.aichi.jp","mihama.aichi.jp","miyoshi.aichi.jp","nishio.aichi.jp","nisshin.aichi.jp","obu.aichi.jp","oguchi.aichi.jp","oharu.aichi.jp","okazaki.aichi.jp","owariasahi.aichi.jp","seto.aichi.jp","shikatsu.aichi.jp","shinshiro.aichi.jp","shitara.aichi.jp","tahara.aichi.jp","takahama.aichi.jp","tobishima.aichi.jp","toei.aichi.jp","togo.aichi.jp","tokai.aichi.jp","tokoname.aichi.jp","toyoake.aichi.jp","toyohashi.aichi.jp","toyokawa.aichi.jp","toyone.aichi.jp","toyota.aichi.jp","tsushima.aichi.jp","yatomi.aichi.jp","akita.akita.jp","daisen.akita.jp","fujisato.akita.jp","gojome.akita.jp","hachirogata.akita.jp","happou.akita.jp","higashinaruse.akita.jp","honjo.akita.jp","honjyo.akita.jp","ikawa.akita.jp","kamikoani.akita.jp","kamioka.akita.jp","katagami.akita.jp","kazuno.akita.jp","kitaakita.akita.jp","kosaka.akita.jp","kyowa.akita.jp","misato.akita.jp","mitane.akita.jp","moriyoshi.akita.jp","nikaho.akita.jp","noshiro.akita.jp","odate.akita.jp","oga.akita.jp","ogata.akita.jp","semboku.akita.jp","yokote.akita.jp","yurihonjo.akita.jp","aomori.aomori.jp","gonohe.aomori.jp","hachinohe.aomori.jp","hashikami.aomori.jp","hiranai.aomori.jp","hirosaki.aomori.jp","itayanagi.aomori.jp","kuroishi.aomori.jp","misawa.aomori.jp","mutsu.aomori.jp","nakadomari.aomori.jp","noheji.aomori.jp","oirase.aomori.jp","owani.aomori.jp","rokunohe.aomori.jp","sannohe.aomori.jp","shichinohe.aomori.jp","shingo.aomori.jp","takko.aomori.jp","towada.aomori.jp","tsugaru.aomori.jp","tsuruta.aomori.jp","abiko.chiba.jp","asahi.chiba.jp","chonan.chiba.jp","chosei.chiba.jp","choshi.chiba.jp","chuo.chiba.jp","funabashi.chiba.jp","futtsu.chiba.jp","hanamigawa.chiba.jp","ichihara.chiba.jp","ichikawa.chiba.jp","ichinomiya.chiba.jp","inzai.chiba.jp","isumi.chiba.jp","kamagaya.chiba.jp","kamogawa.chiba.jp","kashiwa.chiba.jp","katori.chiba.jp","katsuura.chiba.jp","kimitsu.chiba.jp","kisarazu.chiba.jp","kozaki.chiba.jp","kujukuri.chiba.jp","kyonan.chiba.jp","matsudo.chiba.jp","midori.chiba.jp","mihama.chiba.jp","minamiboso.chiba.jp","mobara.chiba.jp","mutsuzawa.chiba.jp","nagara.chiba.jp","nagareyama.chiba.jp","narashino.chiba.jp","narita.chiba.jp","noda.chiba.jp","oamishirasato.chiba.jp","omigawa.chiba.jp","onjuku.chiba.jp","otaki.chiba.jp","sakae.chiba.jp","sakura.chiba.jp","shimofusa.chiba.jp","shirako.chiba.jp","shiroi.chiba.jp","shisui.chiba.jp","sodegaura.chiba.jp","sosa.chiba.jp","tako.chiba.jp","tateyama.chiba.jp","togane.chiba.jp","tohnosho.chiba.jp","tomisato.chiba.jp","urayasu.chiba.jp","yachimata.chiba.jp","yachiyo.chiba.jp","yokaichiba.chiba.jp","yokoshibahikari.chiba.jp","yotsukaido.chiba.jp","ainan.ehime.jp","honai.ehime.jp","ikata.ehime.jp","imabari.ehime.jp","iyo.ehime.jp","kamijima.ehime.jp","kihoku.ehime.jp","kumakogen.ehime.jp","masaki.ehime.jp","matsuno.ehime.jp","matsuyama.ehime.jp","namikata.ehime.jp","niihama.ehime.jp","ozu.ehime.jp","saijo.ehime.jp","seiyo.ehime.jp","shikokuchuo.ehime.jp","tobe.ehime.jp","toon.ehime.jp","uchiko.ehime.jp","uwajima.ehime.jp","yawatahama.ehime.jp","echizen.fukui.jp","eiheiji.fukui.jp","fukui.fukui.jp","ikeda.fukui.jp","katsuyama.fukui.jp","mihama.fukui.jp","minamiechizen.fukui.jp","obama.fukui.jp","ohi.fukui.jp","ono.fukui.jp","sabae.fukui.jp","sakai.fukui.jp","takahama.fukui.jp","tsuruga.fukui.jp","wakasa.fukui.jp","ashiya.fukuoka.jp","buzen.fukuoka.jp","chikugo.fukuoka.jp","chikuho.fukuoka.jp","chikujo.fukuoka.jp","chikushino.fukuoka.jp","chikuzen.fukuoka.jp","chuo.fukuoka.jp","dazaifu.fukuoka.jp","fukuchi.fukuoka.jp","hakata.fukuoka.jp","higashi.fukuoka.jp","hirokawa.fukuoka.jp","hisayama.fukuoka.jp","iizuka.fukuoka.jp","inatsuki.fukuoka.jp","kaho.fukuoka.jp","kasuga.fukuoka.jp","kasuya.fukuoka.jp","kawara.fukuoka.jp","keisen.fukuoka.jp","koga.fukuoka.jp","kurate.fukuoka.jp","kurogi.fukuoka.jp","kurume.fukuoka.jp","minami.fukuoka.jp","miyako.fukuoka.jp","miyama.fukuoka.jp","miyawaka.fukuoka.jp","mizumaki.fukuoka.jp","munakata.fukuoka.jp","nakagawa.fukuoka.jp","nakama.fukuoka.jp","nishi.fukuoka.jp","nogata.fukuoka.jp","ogori.fukuoka.jp","okagaki.fukuoka.jp","okawa.fukuoka.jp","oki.fukuoka.jp","omuta.fukuoka.jp","onga.fukuoka.jp","onojo.fukuoka.jp","oto.fukuoka.jp","saigawa.fukuoka.jp","sasaguri.fukuoka.jp","shingu.fukuoka.jp","shinyoshitomi.fukuoka.jp","shonai.fukuoka.jp","soeda.fukuoka.jp","sue.fukuoka.jp","tachiarai.fukuoka.jp","tagawa.fukuoka.jp","takata.fukuoka.jp","toho.fukuoka.jp","toyotsu.fukuoka.jp","tsuiki.fukuoka.jp","ukiha.fukuoka.jp","umi.fukuoka.jp","usui.fukuoka.jp","yamada.fukuoka.jp","yame.fukuoka.jp","yanagawa.fukuoka.jp","yukuhashi.fukuoka.jp","aizubange.fukushima.jp","aizumisato.fukushima.jp","aizuwakamatsu.fukushima.jp","asakawa.fukushima.jp","bandai.fukushima.jp","date.fukushima.jp","fukushima.fukushima.jp","furudono.fukushima.jp","futaba.fukushima.jp","hanawa.fukushima.jp","higashi.fukushima.jp","hirata.fukushima.jp","hirono.fukushima.jp","iitate.fukushima.jp","inawashiro.fukushima.jp","ishikawa.fukushima.jp","iwaki.fukushima.jp","izumizaki.fukushima.jp","kagamiishi.fukushima.jp","kaneyama.fukushima.jp","kawamata.fukushima.jp","kitakata.fukushima.jp","kitashiobara.fukushima.jp","koori.fukushima.jp","koriyama.fukushima.jp","kunimi.fukushima.jp","miharu.fukushima.jp","mishima.fukushima.jp","namie.fukushima.jp","nango.fukushima.jp","nishiaizu.fukushima.jp","nishigo.fukushima.jp","okuma.fukushima.jp","omotego.fukushima.jp","ono.fukushima.jp","otama.fukushima.jp","samegawa.fukushima.jp","shimogo.fukushima.jp","shirakawa.fukushima.jp","showa.fukushima.jp","soma.fukushima.jp","sukagawa.fukushima.jp","taishin.fukushima.jp","tamakawa.fukushima.jp","tanagura.fukushima.jp","tenei.fukushima.jp","yabuki.fukushima.jp","yamato.fukushima.jp","yamatsuri.fukushima.jp","yanaizu.fukushima.jp","yugawa.fukushima.jp","anpachi.gifu.jp","ena.gifu.jp","gifu.gifu.jp","ginan.gifu.jp","godo.gifu.jp","gujo.gifu.jp","hashima.gifu.jp","hichiso.gifu.jp","hida.gifu.jp","higashishirakawa.gifu.jp","ibigawa.gifu.jp","ikeda.gifu.jp","kakamigahara.gifu.jp","kani.gifu.jp","kasahara.gifu.jp","kasamatsu.gifu.jp","kawaue.gifu.jp","kitagata.gifu.jp","mino.gifu.jp","minokamo.gifu.jp","mitake.gifu.jp","mizunami.gifu.jp","motosu.gifu.jp","nakatsugawa.gifu.jp","ogaki.gifu.jp","sakahogi.gifu.jp","seki.gifu.jp","sekigahara.gifu.jp","shirakawa.gifu.jp","tajimi.gifu.jp","takayama.gifu.jp","tarui.gifu.jp","toki.gifu.jp","tomika.gifu.jp","wanouchi.gifu.jp","yamagata.gifu.jp","yaotsu.gifu.jp","yoro.gifu.jp","annaka.gunma.jp","chiyoda.gunma.jp","fujioka.gunma.jp","higashiagatsuma.gunma.jp","isesaki.gunma.jp","itakura.gunma.jp","kanna.gunma.jp","kanra.gunma.jp","katashina.gunma.jp","kawaba.gunma.jp","kiryu.gunma.jp","kusatsu.gunma.jp","maebashi.gunma.jp","meiwa.gunma.jp","midori.gunma.jp","minakami.gunma.jp","naganohara.gunma.jp","nakanojo.gunma.jp","nanmoku.gunma.jp","numata.gunma.jp","oizumi.gunma.jp","ora.gunma.jp","ota.gunma.jp","shibukawa.gunma.jp","shimonita.gunma.jp","shinto.gunma.jp","showa.gunma.jp","takasaki.gunma.jp","takayama.gunma.jp","tamamura.gunma.jp","tatebayashi.gunma.jp","tomioka.gunma.jp","tsukiyono.gunma.jp","tsumagoi.gunma.jp","ueno.gunma.jp","yoshioka.gunma.jp","asaminami.hiroshima.jp","daiwa.hiroshima.jp","etajima.hiroshima.jp","fuchu.hiroshima.jp","fukuyama.hiroshima.jp","hatsukaichi.hiroshima.jp","higashihiroshima.hiroshima.jp","hongo.hiroshima.jp","jinsekikogen.hiroshima.jp","kaita.hiroshima.jp","kui.hiroshima.jp","kumano.hiroshima.jp","kure.hiroshima.jp","mihara.hiroshima.jp","miyoshi.hiroshima.jp","naka.hiroshima.jp","onomichi.hiroshima.jp","osakikamijima.hiroshima.jp","otake.hiroshima.jp","saka.hiroshima.jp","sera.hiroshima.jp","seranishi.hiroshima.jp","shinichi.hiroshima.jp","shobara.hiroshima.jp","takehara.hiroshima.jp","abashiri.hokkaido.jp","abira.hokkaido.jp","aibetsu.hokkaido.jp","akabira.hokkaido.jp","akkeshi.hokkaido.jp","asahikawa.hokkaido.jp","ashibetsu.hokkaido.jp","ashoro.hokkaido.jp","assabu.hokkaido.jp","atsuma.hokkaido.jp","bibai.hokkaido.jp","biei.hokkaido.jp","bifuka.hokkaido.jp","bihoro.hokkaido.jp","biratori.hokkaido.jp","chippubetsu.hokkaido.jp","chitose.hokkaido.jp","date.hokkaido.jp","ebetsu.hokkaido.jp","embetsu.hokkaido.jp","eniwa.hokkaido.jp","erimo.hokkaido.jp","esan.hokkaido.jp","esashi.hokkaido.jp","fukagawa.hokkaido.jp","fukushima.hokkaido.jp","furano.hokkaido.jp","furubira.hokkaido.jp","haboro.hokkaido.jp","hakodate.hokkaido.jp","hamatonbetsu.hokkaido.jp","hidaka.hokkaido.jp","higashikagura.hokkaido.jp","higashikawa.hokkaido.jp","hiroo.hokkaido.jp","hokuryu.hokkaido.jp","hokuto.hokkaido.jp","honbetsu.hokkaido.jp","horokanai.hokkaido.jp","horonobe.hokkaido.jp","ikeda.hokkaido.jp","imakane.hokkaido.jp","ishikari.hokkaido.jp","iwamizawa.hokkaido.jp","iwanai.hokkaido.jp","kamifurano.hokkaido.jp","kamikawa.hokkaido.jp","kamishihoro.hokkaido.jp","kamisunagawa.hokkaido.jp","kamoenai.hokkaido.jp","kayabe.hokkaido.jp","kembuchi.hokkaido.jp","kikonai.hokkaido.jp","kimobetsu.hokkaido.jp","kitahiroshima.hokkaido.jp","kitami.hokkaido.jp","kiyosato.hokkaido.jp","koshimizu.hokkaido.jp","kunneppu.hokkaido.jp","kuriyama.hokkaido.jp","kuromatsunai.hokkaido.jp","kushiro.hokkaido.jp","kutchan.hokkaido.jp","kyowa.hokkaido.jp","mashike.hokkaido.jp","matsumae.hokkaido.jp","mikasa.hokkaido.jp","minamifurano.hokkaido.jp","mombetsu.hokkaido.jp","moseushi.hokkaido.jp","mukawa.hokkaido.jp","muroran.hokkaido.jp","naie.hokkaido.jp","nakagawa.hokkaido.jp","nakasatsunai.hokkaido.jp","nakatombetsu.hokkaido.jp","nanae.hokkaido.jp","nanporo.hokkaido.jp","nayoro.hokkaido.jp","nemuro.hokkaido.jp","niikappu.hokkaido.jp","niki.hokkaido.jp","nishiokoppe.hokkaido.jp","noboribetsu.hokkaido.jp","numata.hokkaido.jp","obihiro.hokkaido.jp","obira.hokkaido.jp","oketo.hokkaido.jp","okoppe.hokkaido.jp","otaru.hokkaido.jp","otobe.hokkaido.jp","otofuke.hokkaido.jp","otoineppu.hokkaido.jp","oumu.hokkaido.jp","ozora.hokkaido.jp","pippu.hokkaido.jp","rankoshi.hokkaido.jp","rebun.hokkaido.jp","rikubetsu.hokkaido.jp","rishiri.hokkaido.jp","rishirifuji.hokkaido.jp","saroma.hokkaido.jp","sarufutsu.hokkaido.jp","shakotan.hokkaido.jp","shari.hokkaido.jp","shibecha.hokkaido.jp","shibetsu.hokkaido.jp","shikabe.hokkaido.jp","shikaoi.hokkaido.jp","shimamaki.hokkaido.jp","shimizu.hokkaido.jp","shimokawa.hokkaido.jp","shinshinotsu.hokkaido.jp","shintoku.hokkaido.jp","shiranuka.hokkaido.jp","shiraoi.hokkaido.jp","shiriuchi.hokkaido.jp","sobetsu.hokkaido.jp","sunagawa.hokkaido.jp","taiki.hokkaido.jp","takasu.hokkaido.jp","takikawa.hokkaido.jp","takinoue.hokkaido.jp","teshikaga.hokkaido.jp","tobetsu.hokkaido.jp","tohma.hokkaido.jp","tomakomai.hokkaido.jp","tomari.hokkaido.jp","toya.hokkaido.jp","toyako.hokkaido.jp","toyotomi.hokkaido.jp","toyoura.hokkaido.jp","tsubetsu.hokkaido.jp","tsukigata.hokkaido.jp","urakawa.hokkaido.jp","urausu.hokkaido.jp","uryu.hokkaido.jp","utashinai.hokkaido.jp","wakkanai.hokkaido.jp","wassamu.hokkaido.jp","yakumo.hokkaido.jp","yoichi.hokkaido.jp","aioi.hyogo.jp","akashi.hyogo.jp","ako.hyogo.jp","amagasaki.hyogo.jp","aogaki.hyogo.jp","asago.hyogo.jp","ashiya.hyogo.jp","awaji.hyogo.jp","fukusaki.hyogo.jp","goshiki.hyogo.jp","harima.hyogo.jp","himeji.hyogo.jp","ichikawa.hyogo.jp","inagawa.hyogo.jp","itami.hyogo.jp","kakogawa.hyogo.jp","kamigori.hyogo.jp","kamikawa.hyogo.jp","kasai.hyogo.jp","kasuga.hyogo.jp","kawanishi.hyogo.jp","miki.hyogo.jp","minamiawaji.hyogo.jp","nishinomiya.hyogo.jp","nishiwaki.hyogo.jp","ono.hyogo.jp","sanda.hyogo.jp","sannan.hyogo.jp","sasayama.hyogo.jp","sayo.hyogo.jp","shingu.hyogo.jp","shinonsen.hyogo.jp","shiso.hyogo.jp","sumoto.hyogo.jp","taishi.hyogo.jp","taka.hyogo.jp","takarazuka.hyogo.jp","takasago.hyogo.jp","takino.hyogo.jp","tamba.hyogo.jp","tatsuno.hyogo.jp","toyooka.hyogo.jp","yabu.hyogo.jp","yashiro.hyogo.jp","yoka.hyogo.jp","yokawa.hyogo.jp","ami.ibaraki.jp","asahi.ibaraki.jp","bando.ibaraki.jp","chikusei.ibaraki.jp","daigo.ibaraki.jp","fujishiro.ibaraki.jp","hitachi.ibaraki.jp","hitachinaka.ibaraki.jp","hitachiomiya.ibaraki.jp","hitachiota.ibaraki.jp","ibaraki.ibaraki.jp","ina.ibaraki.jp","inashiki.ibaraki.jp","itako.ibaraki.jp","iwama.ibaraki.jp","joso.ibaraki.jp","kamisu.ibaraki.jp","kasama.ibaraki.jp","kashima.ibaraki.jp","kasumigaura.ibaraki.jp","koga.ibaraki.jp","miho.ibaraki.jp","mito.ibaraki.jp","moriya.ibaraki.jp","naka.ibaraki.jp","namegata.ibaraki.jp","oarai.ibaraki.jp","ogawa.ibaraki.jp","omitama.ibaraki.jp","ryugasaki.ibaraki.jp","sakai.ibaraki.jp","sakuragawa.ibaraki.jp","shimodate.ibaraki.jp","shimotsuma.ibaraki.jp","shirosato.ibaraki.jp","sowa.ibaraki.jp","suifu.ibaraki.jp","takahagi.ibaraki.jp","tamatsukuri.ibaraki.jp","tokai.ibaraki.jp","tomobe.ibaraki.jp","tone.ibaraki.jp","toride.ibaraki.jp","tsuchiura.ibaraki.jp","tsukuba.ibaraki.jp","uchihara.ibaraki.jp","ushiku.ibaraki.jp","yachiyo.ibaraki.jp","yamagata.ibaraki.jp","yawara.ibaraki.jp","yuki.ibaraki.jp","anamizu.ishikawa.jp","hakui.ishikawa.jp","hakusan.ishikawa.jp","kaga.ishikawa.jp","kahoku.ishikawa.jp","kanazawa.ishikawa.jp","kawakita.ishikawa.jp","komatsu.ishikawa.jp","nakanoto.ishikawa.jp","nanao.ishikawa.jp","nomi.ishikawa.jp","nonoichi.ishikawa.jp","noto.ishikawa.jp","shika.ishikawa.jp","suzu.ishikawa.jp","tsubata.ishikawa.jp","tsurugi.ishikawa.jp","uchinada.ishikawa.jp","wajima.ishikawa.jp","fudai.iwate.jp","fujisawa.iwate.jp","hanamaki.iwate.jp","hiraizumi.iwate.jp","hirono.iwate.jp","ichinohe.iwate.jp","ichinoseki.iwate.jp","iwaizumi.iwate.jp","iwate.iwate.jp","joboji.iwate.jp","kamaishi.iwate.jp","kanegasaki.iwate.jp","karumai.iwate.jp","kawai.iwate.jp","kitakami.iwate.jp","kuji.iwate.jp","kunohe.iwate.jp","kuzumaki.iwate.jp","miyako.iwate.jp","mizusawa.iwate.jp","morioka.iwate.jp","ninohe.iwate.jp","noda.iwate.jp","ofunato.iwate.jp","oshu.iwate.jp","otsuchi.iwate.jp","rikuzentakata.iwate.jp","shiwa.iwate.jp","shizukuishi.iwate.jp","sumita.iwate.jp","tanohata.iwate.jp","tono.iwate.jp","yahaba.iwate.jp","yamada.iwate.jp","ayagawa.kagawa.jp","higashikagawa.kagawa.jp","kanonji.kagawa.jp","kotohira.kagawa.jp","manno.kagawa.jp","marugame.kagawa.jp","mitoyo.kagawa.jp","naoshima.kagawa.jp","sanuki.kagawa.jp","tadotsu.kagawa.jp","takamatsu.kagawa.jp","tonosho.kagawa.jp","uchinomi.kagawa.jp","utazu.kagawa.jp","zentsuji.kagawa.jp","akune.kagoshima.jp","amami.kagoshima.jp","hioki.kagoshima.jp","isa.kagoshima.jp","isen.kagoshima.jp","izumi.kagoshima.jp","kagoshima.kagoshima.jp","kanoya.kagoshima.jp","kawanabe.kagoshima.jp","kinko.kagoshima.jp","kouyama.kagoshima.jp","makurazaki.kagoshima.jp","matsumoto.kagoshima.jp","minamitane.kagoshima.jp","nakatane.kagoshima.jp","nishinoomote.kagoshima.jp","satsumasendai.kagoshima.jp","soo.kagoshima.jp","tarumizu.kagoshima.jp","yusui.kagoshima.jp","aikawa.kanagawa.jp","atsugi.kanagawa.jp","ayase.kanagawa.jp","chigasaki.kanagawa.jp","ebina.kanagawa.jp","fujisawa.kanagawa.jp","hadano.kanagawa.jp","hakone.kanagawa.jp","hiratsuka.kanagawa.jp","isehara.kanagawa.jp","kaisei.kanagawa.jp","kamakura.kanagawa.jp","kiyokawa.kanagawa.jp","matsuda.kanagawa.jp","minamiashigara.kanagawa.jp","miura.kanagawa.jp","nakai.kanagawa.jp","ninomiya.kanagawa.jp","odawara.kanagawa.jp","oi.kanagawa.jp","oiso.kanagawa.jp","sagamihara.kanagawa.jp","samukawa.kanagawa.jp","tsukui.kanagawa.jp","yamakita.kanagawa.jp","yamato.kanagawa.jp","yokosuka.kanagawa.jp","yugawara.kanagawa.jp","zama.kanagawa.jp","zushi.kanagawa.jp","aki.kochi.jp","geisei.kochi.jp","hidaka.kochi.jp","higashitsuno.kochi.jp","ino.kochi.jp","kagami.kochi.jp","kami.kochi.jp","kitagawa.kochi.jp","kochi.kochi.jp","mihara.kochi.jp","motoyama.kochi.jp","muroto.kochi.jp","nahari.kochi.jp","nakamura.kochi.jp","nankoku.kochi.jp","nishitosa.kochi.jp","niyodogawa.kochi.jp","ochi.kochi.jp","okawa.kochi.jp","otoyo.kochi.jp","otsuki.kochi.jp","sakawa.kochi.jp","sukumo.kochi.jp","susaki.kochi.jp","tosa.kochi.jp","tosashimizu.kochi.jp","toyo.kochi.jp","tsuno.kochi.jp","umaji.kochi.jp","yasuda.kochi.jp","yusuhara.kochi.jp","amakusa.kumamoto.jp","arao.kumamoto.jp","aso.kumamoto.jp","choyo.kumamoto.jp","gyokuto.kumamoto.jp","kamiamakusa.kumamoto.jp","kikuchi.kumamoto.jp","kumamoto.kumamoto.jp","mashiki.kumamoto.jp","mifune.kumamoto.jp","minamata.kumamoto.jp","minamioguni.kumamoto.jp","nagasu.kumamoto.jp","nishihara.kumamoto.jp","oguni.kumamoto.jp","ozu.kumamoto.jp","sumoto.kumamoto.jp","takamori.kumamoto.jp","uki.kumamoto.jp","uto.kumamoto.jp","yamaga.kumamoto.jp","yamato.kumamoto.jp","yatsushiro.kumamoto.jp","ayabe.kyoto.jp","fukuchiyama.kyoto.jp","higashiyama.kyoto.jp","ide.kyoto.jp","ine.kyoto.jp","joyo.kyoto.jp","kameoka.kyoto.jp","kamo.kyoto.jp","kita.kyoto.jp","kizu.kyoto.jp","kumiyama.kyoto.jp","kyotamba.kyoto.jp","kyotanabe.kyoto.jp","kyotango.kyoto.jp","maizuru.kyoto.jp","minami.kyoto.jp","minamiyamashiro.kyoto.jp","miyazu.kyoto.jp","muko.kyoto.jp","nagaokakyo.kyoto.jp","nakagyo.kyoto.jp","nantan.kyoto.jp","oyamazaki.kyoto.jp","sakyo.kyoto.jp","seika.kyoto.jp","tanabe.kyoto.jp","uji.kyoto.jp","ujitawara.kyoto.jp","wazuka.kyoto.jp","yamashina.kyoto.jp","yawata.kyoto.jp","asahi.mie.jp","inabe.mie.jp","ise.mie.jp","kameyama.mie.jp","kawagoe.mie.jp","kiho.mie.jp","kisosaki.mie.jp","kiwa.mie.jp","komono.mie.jp","kumano.mie.jp","kuwana.mie.jp","matsusaka.mie.jp","meiwa.mie.jp","mihama.mie.jp","minamiise.mie.jp","misugi.mie.jp","miyama.mie.jp","nabari.mie.jp","shima.mie.jp","suzuka.mie.jp","tado.mie.jp","taiki.mie.jp","taki.mie.jp","tamaki.mie.jp","toba.mie.jp","tsu.mie.jp","udono.mie.jp","ureshino.mie.jp","watarai.mie.jp","yokkaichi.mie.jp","furukawa.miyagi.jp","higashimatsushima.miyagi.jp","ishinomaki.miyagi.jp","iwanuma.miyagi.jp","kakuda.miyagi.jp","kami.miyagi.jp","kawasaki.miyagi.jp","marumori.miyagi.jp","matsushima.miyagi.jp","minamisanriku.miyagi.jp","misato.miyagi.jp","murata.miyagi.jp","natori.miyagi.jp","ogawara.miyagi.jp","ohira.miyagi.jp","onagawa.miyagi.jp","osaki.miyagi.jp","rifu.miyagi.jp","semine.miyagi.jp","shibata.miyagi.jp","shichikashuku.miyagi.jp","shikama.miyagi.jp","shiogama.miyagi.jp","shiroishi.miyagi.jp","tagajo.miyagi.jp","taiwa.miyagi.jp","tome.miyagi.jp","tomiya.miyagi.jp","wakuya.miyagi.jp","watari.miyagi.jp","yamamoto.miyagi.jp","zao.miyagi.jp","aya.miyazaki.jp","ebino.miyazaki.jp","gokase.miyazaki.jp","hyuga.miyazaki.jp","kadogawa.miyazaki.jp","kawaminami.miyazaki.jp","kijo.miyazaki.jp","kitagawa.miyazaki.jp","kitakata.miyazaki.jp","kitaura.miyazaki.jp","kobayashi.miyazaki.jp","kunitomi.miyazaki.jp","kushima.miyazaki.jp","mimata.miyazaki.jp","miyakonojo.miyazaki.jp","miyazaki.miyazaki.jp","morotsuka.miyazaki.jp","nichinan.miyazaki.jp","nishimera.miyazaki.jp","nobeoka.miyazaki.jp","saito.miyazaki.jp","shiiba.miyazaki.jp","shintomi.miyazaki.jp","takaharu.miyazaki.jp","takanabe.miyazaki.jp","takazaki.miyazaki.jp","tsuno.miyazaki.jp","achi.nagano.jp","agematsu.nagano.jp","anan.nagano.jp","aoki.nagano.jp","asahi.nagano.jp","azumino.nagano.jp","chikuhoku.nagano.jp","chikuma.nagano.jp","chino.nagano.jp","fujimi.nagano.jp","hakuba.nagano.jp","hara.nagano.jp","hiraya.nagano.jp","iida.nagano.jp","iijima.nagano.jp","iiyama.nagano.jp","iizuna.nagano.jp","ikeda.nagano.jp","ikusaka.nagano.jp","ina.nagano.jp","karuizawa.nagano.jp","kawakami.nagano.jp","kiso.nagano.jp","kisofukushima.nagano.jp","kitaaiki.nagano.jp","komagane.nagano.jp","komoro.nagano.jp","matsukawa.nagano.jp","matsumoto.nagano.jp","miasa.nagano.jp","minamiaiki.nagano.jp","minamimaki.nagano.jp","minamiminowa.nagano.jp","minowa.nagano.jp","miyada.nagano.jp","miyota.nagano.jp","mochizuki.nagano.jp","nagano.nagano.jp","nagawa.nagano.jp","nagiso.nagano.jp","nakagawa.nagano.jp","nakano.nagano.jp","nozawaonsen.nagano.jp","obuse.nagano.jp","ogawa.nagano.jp","okaya.nagano.jp","omachi.nagano.jp","omi.nagano.jp","ookuwa.nagano.jp","ooshika.nagano.jp","otaki.nagano.jp","otari.nagano.jp","sakae.nagano.jp","sakaki.nagano.jp","saku.nagano.jp","sakuho.nagano.jp","shimosuwa.nagano.jp","shinanomachi.nagano.jp","shiojiri.nagano.jp","suwa.nagano.jp","suzaka.nagano.jp","takagi.nagano.jp","takamori.nagano.jp","takayama.nagano.jp","tateshina.nagano.jp","tatsuno.nagano.jp","togakushi.nagano.jp","togura.nagano.jp","tomi.nagano.jp","ueda.nagano.jp","wada.nagano.jp","yamagata.nagano.jp","yamanouchi.nagano.jp","yasaka.nagano.jp","yasuoka.nagano.jp","chijiwa.nagasaki.jp","futsu.nagasaki.jp","goto.nagasaki.jp","hasami.nagasaki.jp","hirado.nagasaki.jp","iki.nagasaki.jp","isahaya.nagasaki.jp","kawatana.nagasaki.jp","kuchinotsu.nagasaki.jp","matsuura.nagasaki.jp","nagasaki.nagasaki.jp","obama.nagasaki.jp","omura.nagasaki.jp","oseto.nagasaki.jp","saikai.nagasaki.jp","sasebo.nagasaki.jp","seihi.nagasaki.jp","shimabara.nagasaki.jp","shinkamigoto.nagasaki.jp","togitsu.nagasaki.jp","tsushima.nagasaki.jp","unzen.nagasaki.jp","ando.nara.jp","gose.nara.jp","heguri.nara.jp","higashiyoshino.nara.jp","ikaruga.nara.jp","ikoma.nara.jp","kamikitayama.nara.jp","kanmaki.nara.jp","kashiba.nara.jp","kashihara.nara.jp","katsuragi.nara.jp","kawai.nara.jp","kawakami.nara.jp","kawanishi.nara.jp","koryo.nara.jp","kurotaki.nara.jp","mitsue.nara.jp","miyake.nara.jp","nara.nara.jp","nosegawa.nara.jp","oji.nara.jp","ouda.nara.jp","oyodo.nara.jp","sakurai.nara.jp","sango.nara.jp","shimoichi.nara.jp","shimokitayama.nara.jp","shinjo.nara.jp","soni.nara.jp","takatori.nara.jp","tawaramoto.nara.jp","tenkawa.nara.jp","tenri.nara.jp","uda.nara.jp","yamatokoriyama.nara.jp","yamatotakada.nara.jp","yamazoe.nara.jp","yoshino.nara.jp","aga.niigata.jp","agano.niigata.jp","gosen.niigata.jp","itoigawa.niigata.jp","izumozaki.niigata.jp","joetsu.niigata.jp","kamo.niigata.jp","kariwa.niigata.jp","kashiwazaki.niigata.jp","minamiuonuma.niigata.jp","mitsuke.niigata.jp","muika.niigata.jp","murakami.niigata.jp","myoko.niigata.jp","nagaoka.niigata.jp","niigata.niigata.jp","ojiya.niigata.jp","omi.niigata.jp","sado.niigata.jp","sanjo.niigata.jp","seiro.niigata.jp","seirou.niigata.jp","sekikawa.niigata.jp","shibata.niigata.jp","tagami.niigata.jp","tainai.niigata.jp","tochio.niigata.jp","tokamachi.niigata.jp","tsubame.niigata.jp","tsunan.niigata.jp","uonuma.niigata.jp","yahiko.niigata.jp","yoita.niigata.jp","yuzawa.niigata.jp","beppu.oita.jp","bungoono.oita.jp","bungotakada.oita.jp","hasama.oita.jp","hiji.oita.jp","himeshima.oita.jp","hita.oita.jp","kamitsue.oita.jp","kokonoe.oita.jp","kuju.oita.jp","kunisaki.oita.jp","kusu.oita.jp","oita.oita.jp","saiki.oita.jp","taketa.oita.jp","tsukumi.oita.jp","usa.oita.jp","usuki.oita.jp","yufu.oita.jp","akaiwa.okayama.jp","asakuchi.okayama.jp","bizen.okayama.jp","hayashima.okayama.jp","ibara.okayama.jp","kagamino.okayama.jp","kasaoka.okayama.jp","kibichuo.okayama.jp","kumenan.okayama.jp","kurashiki.okayama.jp","maniwa.okayama.jp","misaki.okayama.jp","nagi.okayama.jp","niimi.okayama.jp","nishiawakura.okayama.jp","okayama.okayama.jp","satosho.okayama.jp","setouchi.okayama.jp","shinjo.okayama.jp","shoo.okayama.jp","soja.okayama.jp","takahashi.okayama.jp","tamano.okayama.jp","tsuyama.okayama.jp","wake.okayama.jp","yakage.okayama.jp","aguni.okinawa.jp","ginowan.okinawa.jp","ginoza.okinawa.jp","gushikami.okinawa.jp","haebaru.okinawa.jp","higashi.okinawa.jp","hirara.okinawa.jp","iheya.okinawa.jp","ishigaki.okinawa.jp","ishikawa.okinawa.jp","itoman.okinawa.jp","izena.okinawa.jp","kadena.okinawa.jp","kin.okinawa.jp","kitadaito.okinawa.jp","kitanakagusuku.okinawa.jp","kumejima.okinawa.jp","kunigami.okinawa.jp","minamidaito.okinawa.jp","motobu.okinawa.jp","nago.okinawa.jp","naha.okinawa.jp","nakagusuku.okinawa.jp","nakijin.okinawa.jp","nanjo.okinawa.jp","nishihara.okinawa.jp","ogimi.okinawa.jp","okinawa.okinawa.jp","onna.okinawa.jp","shimoji.okinawa.jp","taketomi.okinawa.jp","tarama.okinawa.jp","tokashiki.okinawa.jp","tomigusuku.okinawa.jp","tonaki.okinawa.jp","urasoe.okinawa.jp","uruma.okinawa.jp","yaese.okinawa.jp","yomitan.okinawa.jp","yonabaru.okinawa.jp","yonaguni.okinawa.jp","zamami.okinawa.jp","abeno.osaka.jp","chihayaakasaka.osaka.jp","chuo.osaka.jp","daito.osaka.jp","fujiidera.osaka.jp","habikino.osaka.jp","hannan.osaka.jp","higashiosaka.osaka.jp","higashisumiyoshi.osaka.jp","higashiyodogawa.osaka.jp","hirakata.osaka.jp","ibaraki.osaka.jp","ikeda.osaka.jp","izumi.osaka.jp","izumiotsu.osaka.jp","izumisano.osaka.jp","kadoma.osaka.jp","kaizuka.osaka.jp","kanan.osaka.jp","kashiwara.osaka.jp","katano.osaka.jp","kawachinagano.osaka.jp","kishiwada.osaka.jp","kita.osaka.jp","kumatori.osaka.jp","matsubara.osaka.jp","minato.osaka.jp","minoh.osaka.jp","misaki.osaka.jp","moriguchi.osaka.jp","neyagawa.osaka.jp","nishi.osaka.jp","nose.osaka.jp","osakasayama.osaka.jp","sakai.osaka.jp","sayama.osaka.jp","sennan.osaka.jp","settsu.osaka.jp","shijonawate.osaka.jp","shimamoto.osaka.jp","suita.osaka.jp","tadaoka.osaka.jp","taishi.osaka.jp","tajiri.osaka.jp","takaishi.osaka.jp","takatsuki.osaka.jp","tondabayashi.osaka.jp","toyonaka.osaka.jp","toyono.osaka.jp","yao.osaka.jp","ariake.saga.jp","arita.saga.jp","fukudomi.saga.jp","genkai.saga.jp","hamatama.saga.jp","hizen.saga.jp","imari.saga.jp","kamimine.saga.jp","kanzaki.saga.jp","karatsu.saga.jp","kashima.saga.jp","kitagata.saga.jp","kitahata.saga.jp","kiyama.saga.jp","kouhoku.saga.jp","kyuragi.saga.jp","nishiarita.saga.jp","ogi.saga.jp","omachi.saga.jp","ouchi.saga.jp","saga.saga.jp","shiroishi.saga.jp","taku.saga.jp","tara.saga.jp","tosu.saga.jp","yoshinogari.saga.jp","arakawa.saitama.jp","asaka.saitama.jp","chichibu.saitama.jp","fujimi.saitama.jp","fujimino.saitama.jp","fukaya.saitama.jp","hanno.saitama.jp","hanyu.saitama.jp","hasuda.saitama.jp","hatogaya.saitama.jp","hatoyama.saitama.jp","hidaka.saitama.jp","higashichichibu.saitama.jp","higashimatsuyama.saitama.jp","honjo.saitama.jp","ina.saitama.jp","iruma.saitama.jp","iwatsuki.saitama.jp","kamiizumi.saitama.jp","kamikawa.saitama.jp","kamisato.saitama.jp","kasukabe.saitama.jp","kawagoe.saitama.jp","kawaguchi.saitama.jp","kawajima.saitama.jp","kazo.saitama.jp","kitamoto.saitama.jp","koshigaya.saitama.jp","kounosu.saitama.jp","kuki.saitama.jp","kumagaya.saitama.jp","matsubushi.saitama.jp","minano.saitama.jp","misato.saitama.jp","miyashiro.saitama.jp","miyoshi.saitama.jp","moroyama.saitama.jp","nagatoro.saitama.jp","namegawa.saitama.jp","niiza.saitama.jp","ogano.saitama.jp","ogawa.saitama.jp","ogose.saitama.jp","okegawa.saitama.jp","omiya.saitama.jp","otaki.saitama.jp","ranzan.saitama.jp","ryokami.saitama.jp","saitama.saitama.jp","sakado.saitama.jp","satte.saitama.jp","sayama.saitama.jp","shiki.saitama.jp","shiraoka.saitama.jp","soka.saitama.jp","sugito.saitama.jp","toda.saitama.jp","tokigawa.saitama.jp","tokorozawa.saitama.jp","tsurugashima.saitama.jp","urawa.saitama.jp","warabi.saitama.jp","yashio.saitama.jp","yokoze.saitama.jp","yono.saitama.jp","yorii.saitama.jp","yoshida.saitama.jp","yoshikawa.saitama.jp","yoshimi.saitama.jp","aisho.shiga.jp","gamo.shiga.jp","higashiomi.shiga.jp","hikone.shiga.jp","koka.shiga.jp","konan.shiga.jp","kosei.shiga.jp","koto.shiga.jp","kusatsu.shiga.jp","maibara.shiga.jp","moriyama.shiga.jp","nagahama.shiga.jp","nishiazai.shiga.jp","notogawa.shiga.jp","omihachiman.shiga.jp","otsu.shiga.jp","ritto.shiga.jp","ryuoh.shiga.jp","takashima.shiga.jp","takatsuki.shiga.jp","torahime.shiga.jp","toyosato.shiga.jp","yasu.shiga.jp","akagi.shimane.jp","ama.shimane.jp","gotsu.shimane.jp","hamada.shimane.jp","higashiizumo.shimane.jp","hikawa.shimane.jp","hikimi.shimane.jp","izumo.shimane.jp","kakinoki.shimane.jp","masuda.shimane.jp","matsue.shimane.jp","misato.shimane.jp","nishinoshima.shimane.jp","ohda.shimane.jp","okinoshima.shimane.jp","okuizumo.shimane.jp","shimane.shimane.jp","tamayu.shimane.jp","tsuwano.shimane.jp","unnan.shimane.jp","yakumo.shimane.jp","yasugi.shimane.jp","yatsuka.shimane.jp","arai.shizuoka.jp","atami.shizuoka.jp","fuji.shizuoka.jp","fujieda.shizuoka.jp","fujikawa.shizuoka.jp","fujinomiya.shizuoka.jp","fukuroi.shizuoka.jp","gotemba.shizuoka.jp","haibara.shizuoka.jp","hamamatsu.shizuoka.jp","higashiizu.shizuoka.jp","ito.shizuoka.jp","iwata.shizuoka.jp","izu.shizuoka.jp","izunokuni.shizuoka.jp","kakegawa.shizuoka.jp","kannami.shizuoka.jp","kawanehon.shizuoka.jp","kawazu.shizuoka.jp","kikugawa.shizuoka.jp","kosai.shizuoka.jp","makinohara.shizuoka.jp","matsuzaki.shizuoka.jp","minamiizu.shizuoka.jp","mishima.shizuoka.jp","morimachi.shizuoka.jp","nishiizu.shizuoka.jp","numazu.shizuoka.jp","omaezaki.shizuoka.jp","shimada.shizuoka.jp","shimizu.shizuoka.jp","shimoda.shizuoka.jp","shizuoka.shizuoka.jp","susono.shizuoka.jp","yaizu.shizuoka.jp","yoshida.shizuoka.jp","ashikaga.tochigi.jp","bato.tochigi.jp","haga.tochigi.jp","ichikai.tochigi.jp","iwafune.tochigi.jp","kaminokawa.tochigi.jp","kanuma.tochigi.jp","karasuyama.tochigi.jp","kuroiso.tochigi.jp","mashiko.tochigi.jp","mibu.tochigi.jp","moka.tochigi.jp","motegi.tochigi.jp","nasu.tochigi.jp","nasushiobara.tochigi.jp","nikko.tochigi.jp","nishikata.tochigi.jp","nogi.tochigi.jp","ohira.tochigi.jp","ohtawara.tochigi.jp","oyama.tochigi.jp","sakura.tochigi.jp","sano.tochigi.jp","shimotsuke.tochigi.jp","shioya.tochigi.jp","takanezawa.tochigi.jp","tochigi.tochigi.jp","tsuga.tochigi.jp","ujiie.tochigi.jp","utsunomiya.tochigi.jp","yaita.tochigi.jp","aizumi.tokushima.jp","anan.tokushima.jp","ichiba.tokushima.jp","itano.tokushima.jp","kainan.tokushima.jp","komatsushima.tokushima.jp","matsushige.tokushima.jp","mima.tokushima.jp","minami.tokushima.jp","miyoshi.tokushima.jp","mugi.tokushima.jp","nakagawa.tokushima.jp","naruto.tokushima.jp","sanagochi.tokushima.jp","shishikui.tokushima.jp","tokushima.tokushima.jp","wajiki.tokushima.jp","adachi.tokyo.jp","akiruno.tokyo.jp","akishima.tokyo.jp","aogashima.tokyo.jp","arakawa.tokyo.jp","bunkyo.tokyo.jp","chiyoda.tokyo.jp","chofu.tokyo.jp","chuo.tokyo.jp","edogawa.tokyo.jp","fuchu.tokyo.jp","fussa.tokyo.jp","hachijo.tokyo.jp","hachioji.tokyo.jp","hamura.tokyo.jp","higashikurume.tokyo.jp","higashimurayama.tokyo.jp","higashiyamato.tokyo.jp","hino.tokyo.jp","hinode.tokyo.jp","hinohara.tokyo.jp","inagi.tokyo.jp","itabashi.tokyo.jp","katsushika.tokyo.jp","kita.tokyo.jp","kiyose.tokyo.jp","kodaira.tokyo.jp","koganei.tokyo.jp","kokubunji.tokyo.jp","komae.tokyo.jp","koto.tokyo.jp","kouzushima.tokyo.jp","kunitachi.tokyo.jp","machida.tokyo.jp","meguro.tokyo.jp","minato.tokyo.jp","mitaka.tokyo.jp","mizuho.tokyo.jp","musashimurayama.tokyo.jp","musashino.tokyo.jp","nakano.tokyo.jp","nerima.tokyo.jp","ogasawara.tokyo.jp","okutama.tokyo.jp","ome.tokyo.jp","oshima.tokyo.jp","ota.tokyo.jp","setagaya.tokyo.jp","shibuya.tokyo.jp","shinagawa.tokyo.jp","shinjuku.tokyo.jp","suginami.tokyo.jp","sumida.tokyo.jp","tachikawa.tokyo.jp","taito.tokyo.jp","tama.tokyo.jp","toshima.tokyo.jp","chizu.tottori.jp","hino.tottori.jp","kawahara.tottori.jp","koge.tottori.jp","kotoura.tottori.jp","misasa.tottori.jp","nanbu.tottori.jp","nichinan.tottori.jp","sakaiminato.tottori.jp","tottori.tottori.jp","wakasa.tottori.jp","yazu.tottori.jp","yonago.tottori.jp","asahi.toyama.jp","fuchu.toyama.jp","fukumitsu.toyama.jp","funahashi.toyama.jp","himi.toyama.jp","imizu.toyama.jp","inami.toyama.jp","johana.toyama.jp","kamiichi.toyama.jp","kurobe.toyama.jp","nakaniikawa.toyama.jp","namerikawa.toyama.jp","nanto.toyama.jp","nyuzen.toyama.jp","oyabe.toyama.jp","taira.toyama.jp","takaoka.toyama.jp","tateyama.toyama.jp","toga.toyama.jp","tonami.toyama.jp","toyama.toyama.jp","unazuki.toyama.jp","uozu.toyama.jp","yamada.toyama.jp","arida.wakayama.jp","aridagawa.wakayama.jp","gobo.wakayama.jp","hashimoto.wakayama.jp","hidaka.wakayama.jp","hirogawa.wakayama.jp","inami.wakayama.jp","iwade.wakayama.jp","kainan.wakayama.jp","kamitonda.wakayama.jp","katsuragi.wakayama.jp","kimino.wakayama.jp","kinokawa.wakayama.jp","kitayama.wakayama.jp","koya.wakayama.jp","koza.wakayama.jp","kozagawa.wakayama.jp","kudoyama.wakayama.jp","kushimoto.wakayama.jp","mihama.wakayama.jp","misato.wakayama.jp","nachikatsuura.wakayama.jp","shingu.wakayama.jp","shirahama.wakayama.jp","taiji.wakayama.jp","tanabe.wakayama.jp","wakayama.wakayama.jp","yuasa.wakayama.jp","yura.wakayama.jp","asahi.yamagata.jp","funagata.yamagata.jp","higashine.yamagata.jp","iide.yamagata.jp","kahoku.yamagata.jp","kaminoyama.yamagata.jp","kaneyama.yamagata.jp","kawanishi.yamagata.jp","mamurogawa.yamagata.jp","mikawa.yamagata.jp","murayama.yamagata.jp","nagai.yamagata.jp","nakayama.yamagata.jp","nanyo.yamagata.jp","nishikawa.yamagata.jp","obanazawa.yamagata.jp","oe.yamagata.jp","oguni.yamagata.jp","ohkura.yamagata.jp","oishida.yamagata.jp","sagae.yamagata.jp","sakata.yamagata.jp","sakegawa.yamagata.jp","shinjo.yamagata.jp","shirataka.yamagata.jp","shonai.yamagata.jp","takahata.yamagata.jp","tendo.yamagata.jp","tozawa.yamagata.jp","tsuruoka.yamagata.jp","yamagata.yamagata.jp","yamanobe.yamagata.jp","yonezawa.yamagata.jp","yuza.yamagata.jp","abu.yamaguchi.jp","hagi.yamaguchi.jp","hikari.yamaguchi.jp","hofu.yamaguchi.jp","iwakuni.yamaguchi.jp","kudamatsu.yamaguchi.jp","mitou.yamaguchi.jp","nagato.yamaguchi.jp","oshima.yamaguchi.jp","shimonoseki.yamaguchi.jp","shunan.yamaguchi.jp","tabuse.yamaguchi.jp","tokuyama.yamaguchi.jp","toyota.yamaguchi.jp","ube.yamaguchi.jp","yuu.yamaguchi.jp","chuo.yamanashi.jp","doshi.yamanashi.jp","fuefuki.yamanashi.jp","fujikawa.yamanashi.jp","fujikawaguchiko.yamanashi.jp","fujiyoshida.yamanashi.jp","hayakawa.yamanashi.jp","hokuto.yamanashi.jp","ichikawamisato.yamanashi.jp","kai.yamanashi.jp","kofu.yamanashi.jp","koshu.yamanashi.jp","kosuge.yamanashi.jp","minami-alps.yamanashi.jp","minobu.yamanashi.jp","nakamichi.yamanashi.jp","nanbu.yamanashi.jp","narusawa.yamanashi.jp","nirasaki.yamanashi.jp","nishikatsura.yamanashi.jp","oshino.yamanashi.jp","otsuki.yamanashi.jp","showa.yamanashi.jp","tabayama.yamanashi.jp","tsuru.yamanashi.jp","uenohara.yamanashi.jp","yamanakako.yamanashi.jp","yamanashi.yamanashi.jp","ke","ac.ke","co.ke","go.ke","info.ke","me.ke","mobi.ke","ne.ke","or.ke","sc.ke","kg","org.kg","net.kg","com.kg","edu.kg","gov.kg","mil.kg","*.kh","ki","edu.ki","biz.ki","net.ki","org.ki","gov.ki","info.ki","com.ki","km","org.km","nom.km","gov.km","prd.km","tm.km","edu.km","mil.km","ass.km","com.km","coop.km","asso.km","presse.km","medecin.km","notaires.km","pharmaciens.km","veterinaire.km","gouv.km","kn","net.kn","org.kn","edu.kn","gov.kn","kp","com.kp","edu.kp","gov.kp","org.kp","rep.kp","tra.kp","kr","ac.kr","co.kr","es.kr","go.kr","hs.kr","kg.kr","mil.kr","ms.kr","ne.kr","or.kr","pe.kr","re.kr","sc.kr","busan.kr","chungbuk.kr","chungnam.kr","daegu.kr","daejeon.kr","gangwon.kr","gwangju.kr","gyeongbuk.kr","gyeonggi.kr","gyeongnam.kr","incheon.kr","jeju.kr","jeonbuk.kr","jeonnam.kr","seoul.kr","ulsan.kr","kw","com.kw","edu.kw","emb.kw","gov.kw","ind.kw","net.kw","org.kw","ky","com.ky","edu.ky","net.ky","org.ky","kz","org.kz","edu.kz","net.kz","gov.kz","mil.kz","com.kz","la","int.la","net.la","info.la","edu.la","gov.la","per.la","com.la","org.la","lb","com.lb","edu.lb","gov.lb","net.lb","org.lb","lc","com.lc","net.lc","co.lc","org.lc","edu.lc","gov.lc","li","lk","gov.lk","sch.lk","net.lk","int.lk","com.lk","org.lk","edu.lk","ngo.lk","soc.lk","web.lk","ltd.lk","assn.lk","grp.lk","hotel.lk","ac.lk","lr","com.lr","edu.lr","gov.lr","org.lr","net.lr","ls","ac.ls","biz.ls","co.ls","edu.ls","gov.ls","info.ls","net.ls","org.ls","sc.ls","lt","gov.lt","lu","lv","com.lv","edu.lv","gov.lv","org.lv","mil.lv","id.lv","net.lv","asn.lv","conf.lv","ly","com.ly","net.ly","gov.ly","plc.ly","edu.ly","sch.ly","med.ly","org.ly","id.ly","ma","co.ma","net.ma","gov.ma","org.ma","ac.ma","press.ma","mc","tm.mc","asso.mc","md","me","co.me","net.me","org.me","edu.me","ac.me","gov.me","its.me","priv.me","mg","org.mg","nom.mg","gov.mg","prd.mg","tm.mg","edu.mg","mil.mg","com.mg","co.mg","mh","mil","mk","com.mk","org.mk","net.mk","edu.mk","gov.mk","inf.mk","name.mk","ml","com.ml","edu.ml","gouv.ml","gov.ml","net.ml","org.ml","presse.ml","*.mm","mn","gov.mn","edu.mn","org.mn","mo","com.mo","net.mo","org.mo","edu.mo","gov.mo","mobi","mp","mq","mr","gov.mr","ms","com.ms","edu.ms","gov.ms","net.ms","org.ms","mt","com.mt","edu.mt","net.mt","org.mt","mu","com.mu","net.mu","org.mu","gov.mu","ac.mu","co.mu","or.mu","museum","academy.museum","agriculture.museum","air.museum","airguard.museum","alabama.museum","alaska.museum","amber.museum","ambulance.museum","american.museum","americana.museum","americanantiques.museum","americanart.museum","amsterdam.museum","and.museum","annefrank.museum","anthro.museum","anthropology.museum","antiques.museum","aquarium.museum","arboretum.museum","archaeological.museum","archaeology.museum","architecture.museum","art.museum","artanddesign.museum","artcenter.museum","artdeco.museum","arteducation.museum","artgallery.museum","arts.museum","artsandcrafts.museum","asmatart.museum","assassination.museum","assisi.museum","association.museum","astronomy.museum","atlanta.museum","austin.museum","australia.museum","automotive.museum","aviation.museum","axis.museum","badajoz.museum","baghdad.museum","bahn.museum","bale.museum","baltimore.museum","barcelona.museum","baseball.museum","basel.museum","baths.museum","bauern.museum","beauxarts.museum","beeldengeluid.museum","bellevue.museum","bergbau.museum","berkeley.museum","berlin.museum","bern.museum","bible.museum","bilbao.museum","bill.museum","birdart.museum","birthplace.museum","bonn.museum","boston.museum","botanical.museum","botanicalgarden.museum","botanicgarden.museum","botany.museum","brandywinevalley.museum","brasil.museum","bristol.museum","british.museum","britishcolumbia.museum","broadcast.museum","brunel.museum","brussel.museum","brussels.museum","bruxelles.museum","building.museum","burghof.museum","bus.museum","bushey.museum","cadaques.museum","california.museum","cambridge.museum","can.museum","canada.museum","capebreton.museum","carrier.museum","cartoonart.museum","casadelamoneda.museum","castle.museum","castres.museum","celtic.museum","center.museum","chattanooga.museum","cheltenham.museum","chesapeakebay.museum","chicago.museum","children.museum","childrens.museum","childrensgarden.museum","chiropractic.museum","chocolate.museum","christiansburg.museum","cincinnati.museum","cinema.museum","circus.museum","civilisation.museum","civilization.museum","civilwar.museum","clinton.museum","clock.museum","coal.museum","coastaldefence.museum","cody.museum","coldwar.museum","collection.museum","colonialwilliamsburg.museum","coloradoplateau.museum","columbia.museum","columbus.museum","communication.museum","communications.museum","community.museum","computer.museum","computerhistory.museum","comunica\xE7\xF5es.museum","contemporary.museum","contemporaryart.museum","convent.museum","copenhagen.museum","corporation.museum","correios-e-telecomunica\xE7\xF5es.museum","corvette.museum","costume.museum","countryestate.museum","county.museum","crafts.museum","cranbrook.museum","creation.museum","cultural.museum","culturalcenter.museum","culture.museum","cyber.museum","cymru.museum","dali.museum","dallas.museum","database.museum","ddr.museum","decorativearts.museum","delaware.museum","delmenhorst.museum","denmark.museum","depot.museum","design.museum","detroit.museum","dinosaur.museum","discovery.museum","dolls.museum","donostia.museum","durham.museum","eastafrica.museum","eastcoast.museum","education.museum","educational.museum","egyptian.museum","eisenbahn.museum","elburg.museum","elvendrell.museum","embroidery.museum","encyclopedic.museum","england.museum","entomology.museum","environment.museum","environmentalconservation.museum","epilepsy.museum","essex.museum","estate.museum","ethnology.museum","exeter.museum","exhibition.museum","family.museum","farm.museum","farmequipment.museum","farmers.museum","farmstead.museum","field.museum","figueres.museum","filatelia.museum","film.museum","fineart.museum","finearts.museum","finland.museum","flanders.museum","florida.museum","force.museum","fortmissoula.museum","fortworth.museum","foundation.museum","francaise.museum","frankfurt.museum","franziskaner.museum","freemasonry.museum","freiburg.museum","fribourg.museum","frog.museum","fundacio.museum","furniture.museum","gallery.museum","garden.museum","gateway.museum","geelvinck.museum","gemological.museum","geology.museum","georgia.museum","giessen.museum","glas.museum","glass.museum","gorge.museum","grandrapids.museum","graz.museum","guernsey.museum","halloffame.museum","hamburg.museum","handson.museum","harvestcelebration.museum","hawaii.museum","health.museum","heimatunduhren.museum","hellas.museum","helsinki.museum","hembygdsforbund.museum","heritage.museum","histoire.museum","historical.museum","historicalsociety.museum","historichouses.museum","historisch.museum","historisches.museum","history.museum","historyofscience.museum","horology.museum","house.museum","humanities.museum","illustration.museum","imageandsound.museum","indian.museum","indiana.museum","indianapolis.museum","indianmarket.museum","intelligence.museum","interactive.museum","iraq.museum","iron.museum","isleofman.museum","jamison.museum","jefferson.museum","jerusalem.museum","jewelry.museum","jewish.museum","jewishart.museum","jfk.museum","journalism.museum","judaica.museum","judygarland.museum","juedisches.museum","juif.museum","karate.museum","karikatur.museum","kids.museum","koebenhavn.museum","koeln.museum","kunst.museum","kunstsammlung.museum","kunstunddesign.museum","labor.museum","labour.museum","lajolla.museum","lancashire.museum","landes.museum","lans.museum","l\xE4ns.museum","larsson.museum","lewismiller.museum","lincoln.museum","linz.museum","living.museum","livinghistory.museum","localhistory.museum","london.museum","losangeles.museum","louvre.museum","loyalist.museum","lucerne.museum","luxembourg.museum","luzern.museum","mad.museum","madrid.museum","mallorca.museum","manchester.museum","mansion.museum","mansions.museum","manx.museum","marburg.museum","maritime.museum","maritimo.museum","maryland.museum","marylhurst.museum","media.museum","medical.museum","medizinhistorisches.museum","meeres.museum","memorial.museum","mesaverde.museum","michigan.museum","midatlantic.museum","military.museum","mill.museum","miners.museum","mining.museum","minnesota.museum","missile.museum","missoula.museum","modern.museum","moma.museum","money.museum","monmouth.museum","monticello.museum","montreal.museum","moscow.museum","motorcycle.museum","muenchen.museum","muenster.museum","mulhouse.museum","muncie.museum","museet.museum","museumcenter.museum","museumvereniging.museum","music.museum","national.museum","nationalfirearms.museum","nationalheritage.museum","nativeamerican.museum","naturalhistory.museum","naturalhistorymuseum.museum","naturalsciences.museum","nature.museum","naturhistorisches.museum","natuurwetenschappen.museum","naumburg.museum","naval.museum","nebraska.museum","neues.museum","newhampshire.museum","newjersey.museum","newmexico.museum","newport.museum","newspaper.museum","newyork.museum","niepce.museum","norfolk.museum","north.museum","nrw.museum","nyc.museum","nyny.museum","oceanographic.museum","oceanographique.museum","omaha.museum","online.museum","ontario.museum","openair.museum","oregon.museum","oregontrail.museum","otago.museum","oxford.museum","pacific.museum","paderborn.museum","palace.museum","paleo.museum","palmsprings.museum","panama.museum","paris.museum","pasadena.museum","pharmacy.museum","philadelphia.museum","philadelphiaarea.museum","philately.museum","phoenix.museum","photography.museum","pilots.museum","pittsburgh.museum","planetarium.museum","plantation.museum","plants.museum","plaza.museum","portal.museum","portland.museum","portlligat.museum","posts-and-telecommunications.museum","preservation.museum","presidio.museum","press.museum","project.museum","public.museum","pubol.museum","quebec.museum","railroad.museum","railway.museum","research.museum","resistance.museum","riodejaneiro.museum","rochester.museum","rockart.museum","roma.museum","russia.museum","saintlouis.museum","salem.museum","salvadordali.museum","salzburg.museum","sandiego.museum","sanfrancisco.museum","santabarbara.museum","santacruz.museum","santafe.museum","saskatchewan.museum","satx.museum","savannahga.museum","schlesisches.museum","schoenbrunn.museum","schokoladen.museum","school.museum","schweiz.museum","science.museum","scienceandhistory.museum","scienceandindustry.museum","sciencecenter.museum","sciencecenters.museum","science-fiction.museum","sciencehistory.museum","sciences.museum","sciencesnaturelles.museum","scotland.museum","seaport.museum","settlement.museum","settlers.museum","shell.museum","sherbrooke.museum","sibenik.museum","silk.museum","ski.museum","skole.museum","society.museum","sologne.museum","soundandvision.museum","southcarolina.museum","southwest.museum","space.museum","spy.museum","square.museum","stadt.museum","stalbans.museum","starnberg.museum","state.museum","stateofdelaware.museum","station.museum","steam.museum","steiermark.museum","stjohn.museum","stockholm.museum","stpetersburg.museum","stuttgart.museum","suisse.museum","surgeonshall.museum","surrey.museum","svizzera.museum","sweden.museum","sydney.museum","tank.museum","tcm.museum","technology.museum","telekommunikation.museum","television.museum","texas.museum","textile.museum","theater.museum","time.museum","timekeeping.museum","topology.museum","torino.museum","touch.museum","town.museum","transport.museum","tree.museum","trolley.museum","trust.museum","trustee.museum","uhren.museum","ulm.museum","undersea.museum","university.museum","usa.museum","usantiques.museum","usarts.museum","uscountryestate.museum","usculture.museum","usdecorativearts.museum","usgarden.museum","ushistory.museum","ushuaia.museum","uslivinghistory.museum","utah.museum","uvic.museum","valley.museum","vantaa.museum","versailles.museum","viking.museum","village.museum","virginia.museum","virtual.museum","virtuel.museum","vlaanderen.museum","volkenkunde.museum","wales.museum","wallonie.museum","war.museum","washingtondc.museum","watchandclock.museum","watch-and-clock.museum","western.museum","westfalen.museum","whaling.museum","wildlife.museum","williamsburg.museum","windmill.museum","workshop.museum","york.museum","yorkshire.museum","yosemite.museum","youth.museum","zoological.museum","zoology.museum","\u05D9\u05E8\u05D5\u05E9\u05DC\u05D9\u05DD.museum","\u0438\u043A\u043E\u043C.museum","mv","aero.mv","biz.mv","com.mv","coop.mv","edu.mv","gov.mv","info.mv","int.mv","mil.mv","museum.mv","name.mv","net.mv","org.mv","pro.mv","mw","ac.mw","biz.mw","co.mw","com.mw","coop.mw","edu.mw","gov.mw","int.mw","museum.mw","net.mw","org.mw","mx","com.mx","org.mx","gob.mx","edu.mx","net.mx","my","biz.my","com.my","edu.my","gov.my","mil.my","name.my","net.my","org.my","mz","ac.mz","adv.mz","co.mz","edu.mz","gov.mz","mil.mz","net.mz","org.mz","na","info.na","pro.na","name.na","school.na","or.na","dr.na","us.na","mx.na","ca.na","in.na","cc.na","tv.na","ws.na","mobi.na","co.na","com.na","org.na","name","nc","asso.nc","nom.nc","ne","net","nf","com.nf","net.nf","per.nf","rec.nf","web.nf","arts.nf","firm.nf","info.nf","other.nf","store.nf","ng","com.ng","edu.ng","gov.ng","i.ng","mil.ng","mobi.ng","name.ng","net.ng","org.ng","sch.ng","ni","ac.ni","biz.ni","co.ni","com.ni","edu.ni","gob.ni","in.ni","info.ni","int.ni","mil.ni","net.ni","nom.ni","org.ni","web.ni","nl","no","fhs.no","vgs.no","fylkesbibl.no","folkebibl.no","museum.no","idrett.no","priv.no","mil.no","stat.no","dep.no","kommune.no","herad.no","aa.no","ah.no","bu.no","fm.no","hl.no","hm.no","jan-mayen.no","mr.no","nl.no","nt.no","of.no","ol.no","oslo.no","rl.no","sf.no","st.no","svalbard.no","tm.no","tr.no","va.no","vf.no","gs.aa.no","gs.ah.no","gs.bu.no","gs.fm.no","gs.hl.no","gs.hm.no","gs.jan-mayen.no","gs.mr.no","gs.nl.no","gs.nt.no","gs.of.no","gs.ol.no","gs.oslo.no","gs.rl.no","gs.sf.no","gs.st.no","gs.svalbard.no","gs.tm.no","gs.tr.no","gs.va.no","gs.vf.no","akrehamn.no","\xE5krehamn.no","algard.no","\xE5lg\xE5rd.no","arna.no","brumunddal.no","bryne.no","bronnoysund.no","br\xF8nn\xF8ysund.no","drobak.no","dr\xF8bak.no","egersund.no","fetsund.no","floro.no","flor\xF8.no","fredrikstad.no","hokksund.no","honefoss.no","h\xF8nefoss.no","jessheim.no","jorpeland.no","j\xF8rpeland.no","kirkenes.no","kopervik.no","krokstadelva.no","langevag.no","langev\xE5g.no","leirvik.no","mjondalen.no","mj\xF8ndalen.no","mo-i-rana.no","mosjoen.no","mosj\xF8en.no","nesoddtangen.no","orkanger.no","osoyro.no","os\xF8yro.no","raholt.no","r\xE5holt.no","sandnessjoen.no","sandnessj\xF8en.no","skedsmokorset.no","slattum.no","spjelkavik.no","stathelle.no","stavern.no","stjordalshalsen.no","stj\xF8rdalshalsen.no","tananger.no","tranby.no","vossevangen.no","afjord.no","\xE5fjord.no","agdenes.no","al.no","\xE5l.no","alesund.no","\xE5lesund.no","alstahaug.no","alta.no","\xE1lt\xE1.no","alaheadju.no","\xE1laheadju.no","alvdal.no","amli.no","\xE5mli.no","amot.no","\xE5mot.no","andebu.no","andoy.no","and\xF8y.no","andasuolo.no","ardal.no","\xE5rdal.no","aremark.no","arendal.no","\xE5s.no","aseral.no","\xE5seral.no","asker.no","askim.no","askvoll.no","askoy.no","ask\xF8y.no","asnes.no","\xE5snes.no","audnedaln.no","aukra.no","aure.no","aurland.no","aurskog-holand.no","aurskog-h\xF8land.no","austevoll.no","austrheim.no","averoy.no","aver\xF8y.no","balestrand.no","ballangen.no","balat.no","b\xE1l\xE1t.no","balsfjord.no","bahccavuotna.no","b\xE1hccavuotna.no","bamble.no","bardu.no","beardu.no","beiarn.no","bajddar.no","b\xE1jddar.no","baidar.no","b\xE1id\xE1r.no","berg.no","bergen.no","berlevag.no","berlev\xE5g.no","bearalvahki.no","bearalv\xE1hki.no","bindal.no","birkenes.no","bjarkoy.no","bjark\xF8y.no","bjerkreim.no","bjugn.no","bodo.no","bod\xF8.no","badaddja.no","b\xE5d\xE5ddj\xE5.no","budejju.no","bokn.no","bremanger.no","bronnoy.no","br\xF8nn\xF8y.no","bygland.no","bykle.no","barum.no","b\xE6rum.no","bo.telemark.no","b\xF8.telemark.no","bo.nordland.no","b\xF8.nordland.no","bievat.no","biev\xE1t.no","bomlo.no","b\xF8mlo.no","batsfjord.no","b\xE5tsfjord.no","bahcavuotna.no","b\xE1hcavuotna.no","dovre.no","drammen.no","drangedal.no","dyroy.no","dyr\xF8y.no","donna.no","d\xF8nna.no","eid.no","eidfjord.no","eidsberg.no","eidskog.no","eidsvoll.no","eigersund.no","elverum.no","enebakk.no","engerdal.no","etne.no","etnedal.no","evenes.no","evenassi.no","even\xE1\u0161\u0161i.no","evje-og-hornnes.no","farsund.no","fauske.no","fuossko.no","fuoisku.no","fedje.no","fet.no","finnoy.no","finn\xF8y.no","fitjar.no","fjaler.no","fjell.no","flakstad.no","flatanger.no","flekkefjord.no","flesberg.no","flora.no","fla.no","fl\xE5.no","folldal.no","forsand.no","fosnes.no","frei.no","frogn.no","froland.no","frosta.no","frana.no","fr\xE6na.no","froya.no","fr\xF8ya.no","fusa.no","fyresdal.no","forde.no","f\xF8rde.no","gamvik.no","gangaviika.no","g\xE1\u014Bgaviika.no","gaular.no","gausdal.no","gildeskal.no","gildesk\xE5l.no","giske.no","gjemnes.no","gjerdrum.no","gjerstad.no","gjesdal.no","gjovik.no","gj\xF8vik.no","gloppen.no","gol.no","gran.no","grane.no","granvin.no","gratangen.no","grimstad.no","grong.no","kraanghke.no","kr\xE5anghke.no","grue.no","gulen.no","hadsel.no","halden.no","halsa.no","hamar.no","hamaroy.no","habmer.no","h\xE1bmer.no","hapmir.no","h\xE1pmir.no","hammerfest.no","hammarfeasta.no","h\xE1mm\xE1rfeasta.no","haram.no","hareid.no","harstad.no","hasvik.no","aknoluokta.no","\xE1k\u014Boluokta.no","hattfjelldal.no","aarborte.no","haugesund.no","hemne.no","hemnes.no","hemsedal.no","heroy.more-og-romsdal.no","her\xF8y.m\xF8re-og-romsdal.no","heroy.nordland.no","her\xF8y.nordland.no","hitra.no","hjartdal.no","hjelmeland.no","hobol.no","hob\xF8l.no","hof.no","hol.no","hole.no","holmestrand.no","holtalen.no","holt\xE5len.no","hornindal.no","horten.no","hurdal.no","hurum.no","hvaler.no","hyllestad.no","hagebostad.no","h\xE6gebostad.no","hoyanger.no","h\xF8yanger.no","hoylandet.no","h\xF8ylandet.no","ha.no","h\xE5.no","ibestad.no","inderoy.no","inder\xF8y.no","iveland.no","jevnaker.no","jondal.no","jolster.no","j\xF8lster.no","karasjok.no","karasjohka.no","k\xE1r\xE1\u0161johka.no","karlsoy.no","galsa.no","g\xE1ls\xE1.no","karmoy.no","karm\xF8y.no","kautokeino.no","guovdageaidnu.no","klepp.no","klabu.no","kl\xE6bu.no","kongsberg.no","kongsvinger.no","kragero.no","krager\xF8.no","kristiansand.no","kristiansund.no","krodsherad.no","kr\xF8dsherad.no","kvalsund.no","rahkkeravju.no","r\xE1hkker\xE1vju.no","kvam.no","kvinesdal.no","kvinnherad.no","kviteseid.no","kvitsoy.no","kvits\xF8y.no","kvafjord.no","kv\xE6fjord.no","giehtavuoatna.no","kvanangen.no","kv\xE6nangen.no","navuotna.no","n\xE1vuotna.no","kafjord.no","k\xE5fjord.no","gaivuotna.no","g\xE1ivuotna.no","larvik.no","lavangen.no","lavagis.no","loabat.no","loab\xE1t.no","lebesby.no","davvesiida.no","leikanger.no","leirfjord.no","leka.no","leksvik.no","lenvik.no","leangaviika.no","lea\u014Bgaviika.no","lesja.no","levanger.no","lier.no","lierne.no","lillehammer.no","lillesand.no","lindesnes.no","lindas.no","lind\xE5s.no","lom.no","loppa.no","lahppi.no","l\xE1hppi.no","lund.no","lunner.no","luroy.no","lur\xF8y.no","luster.no","lyngdal.no","lyngen.no","ivgu.no","lardal.no","lerdal.no","l\xE6rdal.no","lodingen.no","l\xF8dingen.no","lorenskog.no","l\xF8renskog.no","loten.no","l\xF8ten.no","malvik.no","masoy.no","m\xE5s\xF8y.no","muosat.no","muos\xE1t.no","mandal.no","marker.no","marnardal.no","masfjorden.no","meland.no","meldal.no","melhus.no","meloy.no","mel\xF8y.no","meraker.no","mer\xE5ker.no","moareke.no","mo\xE5reke.no","midsund.no","midtre-gauldal.no","modalen.no","modum.no","molde.no","moskenes.no","moss.no","mosvik.no","malselv.no","m\xE5lselv.no","malatvuopmi.no","m\xE1latvuopmi.no","namdalseid.no","aejrie.no","namsos.no","namsskogan.no","naamesjevuemie.no","n\xE5\xE5mesjevuemie.no","laakesvuemie.no","nannestad.no","narvik.no","narviika.no","naustdal.no","nedre-eiker.no","nes.akershus.no","nes.buskerud.no","nesna.no","nesodden.no","nesseby.no","unjarga.no","unj\xE1rga.no","nesset.no","nissedal.no","nittedal.no","nord-aurdal.no","nord-fron.no","nord-odal.no","norddal.no","nordkapp.no","davvenjarga.no","davvenj\xE1rga.no","nordre-land.no","nordreisa.no","raisa.no","r\xE1isa.no","nore-og-uvdal.no","notodden.no","naroy.no","n\xE6r\xF8y.no","notteroy.no","n\xF8tter\xF8y.no","odda.no","oksnes.no","\xF8ksnes.no","oppdal.no","oppegard.no","oppeg\xE5rd.no","orkdal.no","orland.no","\xF8rland.no","orskog.no","\xF8rskog.no","orsta.no","\xF8rsta.no","os.hedmark.no","os.hordaland.no","osen.no","osteroy.no","oster\xF8y.no","ostre-toten.no","\xF8stre-toten.no","overhalla.no","ovre-eiker.no","\xF8vre-eiker.no","oyer.no","\xF8yer.no","oygarden.no","\xF8ygarden.no","oystre-slidre.no","\xF8ystre-slidre.no","porsanger.no","porsangu.no","pors\xE1\u014Bgu.no","porsgrunn.no","radoy.no","rad\xF8y.no","rakkestad.no","rana.no","ruovat.no","randaberg.no","rauma.no","rendalen.no","rennebu.no","rennesoy.no","rennes\xF8y.no","rindal.no","ringebu.no","ringerike.no","ringsaker.no","rissa.no","risor.no","ris\xF8r.no","roan.no","rollag.no","rygge.no","ralingen.no","r\xE6lingen.no","rodoy.no","r\xF8d\xF8y.no","romskog.no","r\xF8mskog.no","roros.no","r\xF8ros.no","rost.no","r\xF8st.no","royken.no","r\xF8yken.no","royrvik.no","r\xF8yrvik.no","rade.no","r\xE5de.no","salangen.no","siellak.no","saltdal.no","salat.no","s\xE1l\xE1t.no","s\xE1lat.no","samnanger.no","sande.more-og-romsdal.no","sande.m\xF8re-og-romsdal.no","sande.vestfold.no","sandefjord.no","sandnes.no","sandoy.no","sand\xF8y.no","sarpsborg.no","sauda.no","sauherad.no","sel.no","selbu.no","selje.no","seljord.no","sigdal.no","siljan.no","sirdal.no","skaun.no","skedsmo.no","ski.no","skien.no","skiptvet.no","skjervoy.no","skjerv\xF8y.no","skierva.no","skierv\xE1.no","skjak.no","skj\xE5k.no","skodje.no","skanland.no","sk\xE5nland.no","skanit.no","sk\xE1nit.no","smola.no","sm\xF8la.no","snillfjord.no","snasa.no","sn\xE5sa.no","snoasa.no","snaase.no","sn\xE5ase.no","sogndal.no","sokndal.no","sola.no","solund.no","songdalen.no","sortland.no","spydeberg.no","stange.no","stavanger.no","steigen.no","steinkjer.no","stjordal.no","stj\xF8rdal.no","stokke.no","stor-elvdal.no","stord.no","stordal.no","storfjord.no","omasvuotna.no","strand.no","stranda.no","stryn.no","sula.no","suldal.no","sund.no","sunndal.no","surnadal.no","sveio.no","svelvik.no","sykkylven.no","sogne.no","s\xF8gne.no","somna.no","s\xF8mna.no","sondre-land.no","s\xF8ndre-land.no","sor-aurdal.no","s\xF8r-aurdal.no","sor-fron.no","s\xF8r-fron.no","sor-odal.no","s\xF8r-odal.no","sor-varanger.no","s\xF8r-varanger.no","matta-varjjat.no","m\xE1tta-v\xE1rjjat.no","sorfold.no","s\xF8rfold.no","sorreisa.no","s\xF8rreisa.no","sorum.no","s\xF8rum.no","tana.no","deatnu.no","time.no","tingvoll.no","tinn.no","tjeldsund.no","dielddanuorri.no","tjome.no","tj\xF8me.no","tokke.no","tolga.no","torsken.no","tranoy.no","tran\xF8y.no","tromso.no","troms\xF8.no","tromsa.no","romsa.no","trondheim.no","troandin.no","trysil.no","trana.no","tr\xE6na.no","trogstad.no","tr\xF8gstad.no","tvedestrand.no","tydal.no","tynset.no","tysfjord.no","divtasvuodna.no","divttasvuotna.no","tysnes.no","tysvar.no","tysv\xE6r.no","tonsberg.no","t\xF8nsberg.no","ullensaker.no","ullensvang.no","ulvik.no","utsira.no","vadso.no","vads\xF8.no","cahcesuolo.no","\u010D\xE1hcesuolo.no","vaksdal.no","valle.no","vang.no","vanylven.no","vardo.no","vard\xF8.no","varggat.no","v\xE1rgg\xE1t.no","vefsn.no","vaapste.no","vega.no","vegarshei.no","veg\xE5rshei.no","vennesla.no","verdal.no","verran.no","vestby.no","vestnes.no","vestre-slidre.no","vestre-toten.no","vestvagoy.no","vestv\xE5g\xF8y.no","vevelstad.no","vik.no","vikna.no","vindafjord.no","volda.no","voss.no","varoy.no","v\xE6r\xF8y.no","vagan.no","v\xE5gan.no","voagat.no","vagsoy.no","v\xE5gs\xF8y.no","vaga.no","v\xE5g\xE5.no","valer.ostfold.no","v\xE5ler.\xF8stfold.no","valer.hedmark.no","v\xE5ler.hedmark.no","*.np","nr","biz.nr","info.nr","gov.nr","edu.nr","org.nr","net.nr","com.nr","nu","nz","ac.nz","co.nz","cri.nz","geek.nz","gen.nz","govt.nz","health.nz","iwi.nz","kiwi.nz","maori.nz","mil.nz","m\u0101ori.nz","net.nz","org.nz","parliament.nz","school.nz","om","co.om","com.om","edu.om","gov.om","med.om","museum.om","net.om","org.om","pro.om","onion","org","pa","ac.pa","gob.pa","com.pa","org.pa","sld.pa","edu.pa","net.pa","ing.pa","abo.pa","med.pa","nom.pa","pe","edu.pe","gob.pe","nom.pe","mil.pe","org.pe","com.pe","net.pe","pf","com.pf","org.pf","edu.pf","*.pg","ph","com.ph","net.ph","org.ph","gov.ph","edu.ph","ngo.ph","mil.ph","i.ph","pk","com.pk","net.pk","edu.pk","org.pk","fam.pk","biz.pk","web.pk","gov.pk","gob.pk","gok.pk","gon.pk","gop.pk","gos.pk","info.pk","pl","com.pl","net.pl","org.pl","aid.pl","agro.pl","atm.pl","auto.pl","biz.pl","edu.pl","gmina.pl","gsm.pl","info.pl","mail.pl","miasta.pl","media.pl","mil.pl","nieruchomosci.pl","nom.pl","pc.pl","powiat.pl","priv.pl","realestate.pl","rel.pl","sex.pl","shop.pl","sklep.pl","sos.pl","szkola.pl","targi.pl","tm.pl","tourism.pl","travel.pl","turystyka.pl","gov.pl","ap.gov.pl","ic.gov.pl","is.gov.pl","us.gov.pl","kmpsp.gov.pl","kppsp.gov.pl","kwpsp.gov.pl","psp.gov.pl","wskr.gov.pl","kwp.gov.pl","mw.gov.pl","ug.gov.pl","um.gov.pl","umig.gov.pl","ugim.gov.pl","upow.gov.pl","uw.gov.pl","starostwo.gov.pl","pa.gov.pl","po.gov.pl","psse.gov.pl","pup.gov.pl","rzgw.gov.pl","sa.gov.pl","so.gov.pl","sr.gov.pl","wsa.gov.pl","sko.gov.pl","uzs.gov.pl","wiih.gov.pl","winb.gov.pl","pinb.gov.pl","wios.gov.pl","witd.gov.pl","wzmiuw.gov.pl","piw.gov.pl","wiw.gov.pl","griw.gov.pl","wif.gov.pl","oum.gov.pl","sdn.gov.pl","zp.gov.pl","uppo.gov.pl","mup.gov.pl","wuoz.gov.pl","konsulat.gov.pl","oirm.gov.pl","augustow.pl","babia-gora.pl","bedzin.pl","beskidy.pl","bialowieza.pl","bialystok.pl","bielawa.pl","bieszczady.pl","boleslawiec.pl","bydgoszcz.pl","bytom.pl","cieszyn.pl","czeladz.pl","czest.pl","dlugoleka.pl","elblag.pl","elk.pl","glogow.pl","gniezno.pl","gorlice.pl","grajewo.pl","ilawa.pl","jaworzno.pl","jelenia-gora.pl","jgora.pl","kalisz.pl","kazimierz-dolny.pl","karpacz.pl","kartuzy.pl","kaszuby.pl","katowice.pl","kepno.pl","ketrzyn.pl","klodzko.pl","kobierzyce.pl","kolobrzeg.pl","konin.pl","konskowola.pl","kutno.pl","lapy.pl","lebork.pl","legnica.pl","lezajsk.pl","limanowa.pl","lomza.pl","lowicz.pl","lubin.pl","lukow.pl","malbork.pl","malopolska.pl","mazowsze.pl","mazury.pl","mielec.pl","mielno.pl","mragowo.pl","naklo.pl","nowaruda.pl","nysa.pl","olawa.pl","olecko.pl","olkusz.pl","olsztyn.pl","opoczno.pl","opole.pl","ostroda.pl","ostroleka.pl","ostrowiec.pl","ostrowwlkp.pl","pila.pl","pisz.pl","podhale.pl","podlasie.pl","polkowice.pl","pomorze.pl","pomorskie.pl","prochowice.pl","pruszkow.pl","przeworsk.pl","pulawy.pl","radom.pl","rawa-maz.pl","rybnik.pl","rzeszow.pl","sanok.pl","sejny.pl","slask.pl","slupsk.pl","sosnowiec.pl","stalowa-wola.pl","skoczow.pl","starachowice.pl","stargard.pl","suwalki.pl","swidnica.pl","swiebodzin.pl","swinoujscie.pl","szczecin.pl","szczytno.pl","tarnobrzeg.pl","tgory.pl","turek.pl","tychy.pl","ustka.pl","walbrzych.pl","warmia.pl","warszawa.pl","waw.pl","wegrow.pl","wielun.pl","wlocl.pl","wloclawek.pl","wodzislaw.pl","wolomin.pl","wroclaw.pl","zachpomor.pl","zagan.pl","zarow.pl","zgora.pl","zgorzelec.pl","pm","pn","gov.pn","co.pn","org.pn","edu.pn","net.pn","post","pr","com.pr","net.pr","org.pr","gov.pr","edu.pr","isla.pr","pro.pr","biz.pr","info.pr","name.pr","est.pr","prof.pr","ac.pr","pro","aaa.pro","aca.pro","acct.pro","avocat.pro","bar.pro","cpa.pro","eng.pro","jur.pro","law.pro","med.pro","recht.pro","ps","edu.ps","gov.ps","sec.ps","plo.ps","com.ps","org.ps","net.ps","pt","net.pt","gov.pt","org.pt","edu.pt","int.pt","publ.pt","com.pt","nome.pt","pw","co.pw","ne.pw","or.pw","ed.pw","go.pw","belau.pw","py","com.py","coop.py","edu.py","gov.py","mil.py","net.py","org.py","qa","com.qa","edu.qa","gov.qa","mil.qa","name.qa","net.qa","org.qa","sch.qa","re","asso.re","com.re","nom.re","ro","arts.ro","com.ro","firm.ro","info.ro","nom.ro","nt.ro","org.ro","rec.ro","store.ro","tm.ro","www.ro","rs","ac.rs","co.rs","edu.rs","gov.rs","in.rs","org.rs","ru","rw","ac.rw","co.rw","coop.rw","gov.rw","mil.rw","net.rw","org.rw","sa","com.sa","net.sa","org.sa","gov.sa","med.sa","pub.sa","edu.sa","sch.sa","sb","com.sb","edu.sb","gov.sb","net.sb","org.sb","sc","com.sc","gov.sc","net.sc","org.sc","edu.sc","sd","com.sd","net.sd","org.sd","edu.sd","med.sd","tv.sd","gov.sd","info.sd","se","a.se","ac.se","b.se","bd.se","brand.se","c.se","d.se","e.se","f.se","fh.se","fhsk.se","fhv.se","g.se","h.se","i.se","k.se","komforb.se","kommunalforbund.se","komvux.se","l.se","lanbib.se","m.se","n.se","naturbruksgymn.se","o.se","org.se","p.se","parti.se","pp.se","press.se","r.se","s.se","t.se","tm.se","u.se","w.se","x.se","y.se","z.se","sg","com.sg","net.sg","org.sg","gov.sg","edu.sg","per.sg","sh","com.sh","net.sh","gov.sh","org.sh","mil.sh","si","sj","sk","sl","com.sl","net.sl","edu.sl","gov.sl","org.sl","sm","sn","art.sn","com.sn","edu.sn","gouv.sn","org.sn","perso.sn","univ.sn","so","com.so","edu.so","gov.so","me.so","net.so","org.so","sr","ss","biz.ss","com.ss","edu.ss","gov.ss","me.ss","net.ss","org.ss","sch.ss","st","co.st","com.st","consulado.st","edu.st","embaixada.st","mil.st","net.st","org.st","principe.st","saotome.st","store.st","su","sv","com.sv","edu.sv","gob.sv","org.sv","red.sv","sx","gov.sx","sy","edu.sy","gov.sy","net.sy","mil.sy","com.sy","org.sy","sz","co.sz","ac.sz","org.sz","tc","td","tel","tf","tg","th","ac.th","co.th","go.th","in.th","mi.th","net.th","or.th","tj","ac.tj","biz.tj","co.tj","com.tj","edu.tj","go.tj","gov.tj","int.tj","mil.tj","name.tj","net.tj","nic.tj","org.tj","test.tj","web.tj","tk","tl","gov.tl","tm","com.tm","co.tm","org.tm","net.tm","nom.tm","gov.tm","mil.tm","edu.tm","tn","com.tn","ens.tn","fin.tn","gov.tn","ind.tn","info.tn","intl.tn","mincom.tn","nat.tn","net.tn","org.tn","perso.tn","tourism.tn","to","com.to","gov.to","net.to","org.to","edu.to","mil.to","tr","av.tr","bbs.tr","bel.tr","biz.tr","com.tr","dr.tr","edu.tr","gen.tr","gov.tr","info.tr","mil.tr","k12.tr","kep.tr","name.tr","net.tr","org.tr","pol.tr","tel.tr","tsk.tr","tv.tr","web.tr","nc.tr","gov.nc.tr","tt","co.tt","com.tt","org.tt","net.tt","biz.tt","info.tt","pro.tt","int.tt","coop.tt","jobs.tt","mobi.tt","travel.tt","museum.tt","aero.tt","name.tt","gov.tt","edu.tt","tv","tw","edu.tw","gov.tw","mil.tw","com.tw","net.tw","org.tw","idv.tw","game.tw","ebiz.tw","club.tw","\u7DB2\u8DEF.tw","\u7D44\u7E54.tw","\u5546\u696D.tw","tz","ac.tz","co.tz","go.tz","hotel.tz","info.tz","me.tz","mil.tz","mobi.tz","ne.tz","or.tz","sc.tz","tv.tz","ua","com.ua","edu.ua","gov.ua","in.ua","net.ua","org.ua","cherkassy.ua","cherkasy.ua","chernigov.ua","chernihiv.ua","chernivtsi.ua","chernovtsy.ua","ck.ua","cn.ua","cr.ua","crimea.ua","cv.ua","dn.ua","dnepropetrovsk.ua","dnipropetrovsk.ua","donetsk.ua","dp.ua","if.ua","ivano-frankivsk.ua","kh.ua","kharkiv.ua","kharkov.ua","kherson.ua","khmelnitskiy.ua","khmelnytskyi.ua","kiev.ua","kirovograd.ua","km.ua","kr.ua","krym.ua","ks.ua","kv.ua","kyiv.ua","lg.ua","lt.ua","lugansk.ua","lutsk.ua","lv.ua","lviv.ua","mk.ua","mykolaiv.ua","nikolaev.ua","od.ua","odesa.ua","odessa.ua","pl.ua","poltava.ua","rivne.ua","rovno.ua","rv.ua","sb.ua","sebastopol.ua","sevastopol.ua","sm.ua","sumy.ua","te.ua","ternopil.ua","uz.ua","uzhgorod.ua","vinnica.ua","vinnytsia.ua","vn.ua","volyn.ua","yalta.ua","zaporizhzhe.ua","zaporizhzhia.ua","zhitomir.ua","zhytomyr.ua","zp.ua","zt.ua","ug","co.ug","or.ug","ac.ug","sc.ug","go.ug","ne.ug","com.ug","org.ug","uk","ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","*.sch.uk","us","dni.us","fed.us","isa.us","kids.us","nsn.us","ak.us","al.us","ar.us","as.us","az.us","ca.us","co.us","ct.us","dc.us","de.us","fl.us","ga.us","gu.us","hi.us","ia.us","id.us","il.us","in.us","ks.us","ky.us","la.us","ma.us","md.us","me.us","mi.us","mn.us","mo.us","ms.us","mt.us","nc.us","nd.us","ne.us","nh.us","nj.us","nm.us","nv.us","ny.us","oh.us","ok.us","or.us","pa.us","pr.us","ri.us","sc.us","sd.us","tn.us","tx.us","ut.us","vi.us","vt.us","va.us","wa.us","wi.us","wv.us","wy.us","k12.ak.us","k12.al.us","k12.ar.us","k12.as.us","k12.az.us","k12.ca.us","k12.co.us","k12.ct.us","k12.dc.us","k12.de.us","k12.fl.us","k12.ga.us","k12.gu.us","k12.ia.us","k12.id.us","k12.il.us","k12.in.us","k12.ks.us","k12.ky.us","k12.la.us","k12.ma.us","k12.md.us","k12.me.us","k12.mi.us","k12.mn.us","k12.mo.us","k12.ms.us","k12.mt.us","k12.nc.us","k12.ne.us","k12.nh.us","k12.nj.us","k12.nm.us","k12.nv.us","k12.ny.us","k12.oh.us","k12.ok.us","k12.or.us","k12.pa.us","k12.pr.us","k12.sc.us","k12.tn.us","k12.tx.us","k12.ut.us","k12.vi.us","k12.vt.us","k12.va.us","k12.wa.us","k12.wi.us","k12.wy.us","cc.ak.us","cc.al.us","cc.ar.us","cc.as.us","cc.az.us","cc.ca.us","cc.co.us","cc.ct.us","cc.dc.us","cc.de.us","cc.fl.us","cc.ga.us","cc.gu.us","cc.hi.us","cc.ia.us","cc.id.us","cc.il.us","cc.in.us","cc.ks.us","cc.ky.us","cc.la.us","cc.ma.us","cc.md.us","cc.me.us","cc.mi.us","cc.mn.us","cc.mo.us","cc.ms.us","cc.mt.us","cc.nc.us","cc.nd.us","cc.ne.us","cc.nh.us","cc.nj.us","cc.nm.us","cc.nv.us","cc.ny.us","cc.oh.us","cc.ok.us","cc.or.us","cc.pa.us","cc.pr.us","cc.ri.us","cc.sc.us","cc.sd.us","cc.tn.us","cc.tx.us","cc.ut.us","cc.vi.us","cc.vt.us","cc.va.us","cc.wa.us","cc.wi.us","cc.wv.us","cc.wy.us","lib.ak.us","lib.al.us","lib.ar.us","lib.as.us","lib.az.us","lib.ca.us","lib.co.us","lib.ct.us","lib.dc.us","lib.fl.us","lib.ga.us","lib.gu.us","lib.hi.us","lib.ia.us","lib.id.us","lib.il.us","lib.in.us","lib.ks.us","lib.ky.us","lib.la.us","lib.ma.us","lib.md.us","lib.me.us","lib.mi.us","lib.mn.us","lib.mo.us","lib.ms.us","lib.mt.us","lib.nc.us","lib.nd.us","lib.ne.us","lib.nh.us","lib.nj.us","lib.nm.us","lib.nv.us","lib.ny.us","lib.oh.us","lib.ok.us","lib.or.us","lib.pa.us","lib.pr.us","lib.ri.us","lib.sc.us","lib.sd.us","lib.tn.us","lib.tx.us","lib.ut.us","lib.vi.us","lib.vt.us","lib.va.us","lib.wa.us","lib.wi.us","lib.wy.us","pvt.k12.ma.us","chtr.k12.ma.us","paroch.k12.ma.us","ann-arbor.mi.us","cog.mi.us","dst.mi.us","eaton.mi.us","gen.mi.us","mus.mi.us","tec.mi.us","washtenaw.mi.us","uy","com.uy","edu.uy","gub.uy","mil.uy","net.uy","org.uy","uz","co.uz","com.uz","net.uz","org.uz","va","vc","com.vc","net.vc","org.vc","gov.vc","mil.vc","edu.vc","ve","arts.ve","bib.ve","co.ve","com.ve","e12.ve","edu.ve","firm.ve","gob.ve","gov.ve","info.ve","int.ve","mil.ve","net.ve","nom.ve","org.ve","rar.ve","rec.ve","store.ve","tec.ve","web.ve","vg","vi","co.vi","com.vi","k12.vi","net.vi","org.vi","vn","com.vn","net.vn","org.vn","edu.vn","gov.vn","int.vn","ac.vn","biz.vn","info.vn","name.vn","pro.vn","health.vn","vu","com.vu","edu.vu","net.vu","org.vu","wf","ws","com.ws","net.ws","org.ws","gov.ws","edu.ws","yt","\u0627\u0645\u0627\u0631\u0627\u062A","\u0570\u0561\u0575","\u09AC\u09BE\u0982\u09B2\u09BE","\u0431\u0433","\u0627\u0644\u0628\u062D\u0631\u064A\u0646","\u0431\u0435\u043B","\u4E2D\u56FD","\u4E2D\u570B","\u0627\u0644\u062C\u0632\u0627\u0626\u0631","\u0645\u0635\u0631","\u0435\u044E","\u03B5\u03C5","\u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627","\u10D2\u10D4","\u03B5\u03BB","\u9999\u6E2F","\u516C\u53F8.\u9999\u6E2F","\u6559\u80B2.\u9999\u6E2F","\u653F\u5E9C.\u9999\u6E2F","\u500B\u4EBA.\u9999\u6E2F","\u7DB2\u7D61.\u9999\u6E2F","\u7D44\u7E54.\u9999\u6E2F","\u0CAD\u0CBE\u0CB0\u0CA4","\u0B2D\u0B3E\u0B30\u0B24","\u09AD\u09BE\u09F0\u09A4","\u092D\u093E\u0930\u0924\u092E\u094D","\u092D\u093E\u0930\u094B\u0924","\u0680\u0627\u0631\u062A","\u0D2D\u0D3E\u0D30\u0D24\u0D02","\u092D\u093E\u0930\u0924","\u0628\u0627\u0631\u062A","\u0628\u06BE\u0627\u0631\u062A","\u0C2D\u0C3E\u0C30\u0C24\u0C4D","\u0AAD\u0ABE\u0AB0\u0AA4","\u0A2D\u0A3E\u0A30\u0A24","\u09AD\u09BE\u09B0\u09A4","\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE","\u0627\u06CC\u0631\u0627\u0646","\u0627\u064A\u0631\u0627\u0646","\u0639\u0631\u0627\u0642","\u0627\u0644\u0627\u0631\u062F\u0646","\uD55C\uAD6D","\u049B\u0430\u0437","\u0EA5\u0EB2\u0EA7","\u0DBD\u0D82\u0D9A\u0DCF","\u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8","\u0627\u0644\u0645\u063A\u0631\u0628","\u043C\u043A\u0434","\u043C\u043E\u043D","\u6FB3\u9580","\u6FB3\u95E8","\u0645\u0644\u064A\u0633\u064A\u0627","\u0639\u0645\u0627\u0646","\u067E\u0627\u06A9\u0633\u062A\u0627\u0646","\u067E\u0627\u0643\u0633\u062A\u0627\u0646","\u0641\u0644\u0633\u0637\u064A\u0646","\u0441\u0440\u0431","\u043F\u0440.\u0441\u0440\u0431","\u043E\u0440\u0433.\u0441\u0440\u0431","\u043E\u0431\u0440.\u0441\u0440\u0431","\u043E\u0434.\u0441\u0440\u0431","\u0443\u043F\u0440.\u0441\u0440\u0431","\u0430\u043A.\u0441\u0440\u0431","\u0440\u0444","\u0642\u0637\u0631","\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629","\u0627\u0644\u0633\u0639\u0648\u062F\u06CC\u0629","\u0627\u0644\u0633\u0639\u0648\u062F\u06CC\u06C3","\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0647","\u0633\u0648\u062F\u0627\u0646","\u65B0\u52A0\u5761","\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD","\u0633\u0648\u0631\u064A\u0629","\u0633\u0648\u0631\u064A\u0627","\u0E44\u0E17\u0E22","\u0E28\u0E36\u0E01\u0E29\u0E32.\u0E44\u0E17\u0E22","\u0E18\u0E38\u0E23\u0E01\u0E34\u0E08.\u0E44\u0E17\u0E22","\u0E23\u0E31\u0E10\u0E1A\u0E32\u0E25.\u0E44\u0E17\u0E22","\u0E17\u0E2B\u0E32\u0E23.\u0E44\u0E17\u0E22","\u0E40\u0E19\u0E47\u0E15.\u0E44\u0E17\u0E22","\u0E2D\u0E07\u0E04\u0E4C\u0E01\u0E23.\u0E44\u0E17\u0E22","\u062A\u0648\u0646\u0633","\u53F0\u7063","\u53F0\u6E7E","\u81FA\u7063","\u0443\u043A\u0440","\u0627\u0644\u064A\u0645\u0646","xxx","ye","com.ye","edu.ye","gov.ye","net.ye","mil.ye","org.ye","ac.za","agric.za","alt.za","co.za","edu.za","gov.za","grondar.za","law.za","mil.za","net.za","ngo.za","nic.za","nis.za","nom.za","org.za","school.za","tm.za","web.za","zm","ac.zm","biz.zm","co.zm","com.zm","edu.zm","gov.zm","info.zm","mil.zm","net.zm","org.zm","sch.zm","zw","ac.zw","co.zw","gov.zw","mil.zw","org.zw","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","academy","accenture","accountant","accountants","aco","actor","adac","ads","adult","aeg","aetna","afl","africa","agakhan","agency","aig","airbus","airforce","airtel","akdn","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","aol","apartments","app","apple","aquarelle","arab","aramco","archi","army","art","arte","asda","associates","athleta","attorney","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aws","axa","azure","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bbc","bbt","bbva","bcg","bcn","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bharti","bible","bid","bike","bing","bingo","bio","black","blackfriday","blockbuster","blog","bloomberg","blue","bms","bmw","bnpparibas","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","bradesco","bridgestone","broadway","broker","brother","brussels","bugatti","build","builders","business","buy","buzz","bzh","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","catering","catholic","cba","cbn","cbre","cbs","center","ceo","cern","cfa","cfd","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","corsica","country","coupon","coupons","courses","cpa","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cuisinella","cymru","cyou","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dnp","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","earth","eat","eco","edeka","education","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","ericsson","erni","esq","estate","etisalat","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","flickr","flights","flir","florist","flowers","fly","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gbiz","gdn","gea","gent","genting","george","ggee","gift","gifts","gives","giving","glass","gle","global","globo","gmail","gmbh","gmo","gmx","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","grainger","graphics","gratis","green","gripe","grocery","group","guardian","gucci","guge","guide","guitars","guru","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hkt","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hsbc","hughes","hyatt","hyundai","ibm","icbc","ice","icu","ieee","ifm","ikano","imamat","imdb","immo","immobilien","inc","industries","infiniti","ing","ink","institute","insurance","insure","international","intuit","investments","ipiranga","irish","ismaili","ist","istanbul","itau","itv","jaguar","java","jcb","jeep","jetzt","jewelry","jio","jll","jmp","jnj","joburg","jot","joy","jpmorgan","jprs","juegos","juniper","kaufen","kddi","kerryhotels","kerrylogistics","kerryproperties","kfh","kia","kids","kim","kinder","kindle","kitchen","kiwi","koeln","komatsu","kosher","kpmg","kpn","krd","kred","kuokgroup","kyoto","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","ltd","ltda","lundbeck","luxe","luxury","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mckinsey","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","miami","microsoft","mini","mint","mit","mitsubishi","mlb","mls","mma","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","msd","mtn","mtr","music","mutual","nab","nagoya","natura","navy","nba","nec","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nfl","ngo","nhk","nico","nike","nikon","ninja","nissan","nissay","nokia","northwesternmutual","norton","now","nowruz","nowtv","nra","nrw","ntt","nyc","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","omega","one","ong","onl","online","ooo","open","oracle","orange","organic","origins","osaka","otsuka","ott","ovh","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pet","pfizer","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","place","play","playstation","plumbing","plus","pnc","pohl","poker","politie","porn","pramerica","praxi","press","prime","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","pub","pwc","qpon","quebec","quest","racing","radio","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rocher","rocks","rodeo","rogers","room","rsvp","rugby","ruhr","run","rwe","ryukyu","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sbi","sbs","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","silk","sina","singles","site","ski","skin","sky","skype","sling","smart","smile","sncf","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","srl","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","sucks","supplies","supply","support","surf","surgery","suzuki","swatch","swiss","sydney","systems","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tci","tdk","team","tech","technology","temasek","tennis","teva","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tjmaxx","tjx","tkmaxx","tmall","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tube","tui","tunes","tushu","tvs","ubank","ubs","unicom","university","uno","uol","ups","vacations","vana","vanguard","vegas","ventures","verisign","versicherung","vet","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vodka","volkswagen","volvo","vote","voting","voto","voyage","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wedding","weibo","weir","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","\u0915\u0949\u092E","\u30BB\u30FC\u30EB","\u4F5B\u5C71","\u6148\u5584","\u96C6\u56E2","\u5728\u7EBF","\u70B9\u770B","\u0E04\u0E2D\u0E21","\u516B\u5366","\u0645\u0648\u0642\u0639","\u516C\u76CA","\u516C\u53F8","\u9999\u683C\u91CC\u62C9","\u7F51\u7AD9","\u79FB\u52A8","\u6211\u7231\u4F60","\u043C\u043E\u0441\u043A\u0432\u0430","\u043A\u0430\u0442\u043E\u043B\u0438\u043A","\u043E\u043D\u043B\u0430\u0439\u043D","\u0441\u0430\u0439\u0442","\u8054\u901A","\u05E7\u05D5\u05DD","\u65F6\u5C1A","\u5FAE\u535A","\u6DE1\u9A6C\u9521","\u30D5\u30A1\u30C3\u30B7\u30E7\u30F3","\u043E\u0440\u0433","\u0928\u0947\u091F","\u30B9\u30C8\u30A2","\u30A2\u30DE\u30BE\u30F3","\uC0BC\uC131","\u5546\u6807","\u5546\u5E97","\u5546\u57CE","\u0434\u0435\u0442\u0438","\u30DD\u30A4\u30F3\u30C8","\u65B0\u95FB","\u5BB6\u96FB","\u0643\u0648\u0645","\u4E2D\u6587\u7F51","\u4E2D\u4FE1","\u5A31\u4E50","\u8C37\u6B4C","\u96FB\u8A0A\u76C8\u79D1","\u8D2D\u7269","\u30AF\u30E9\u30A6\u30C9","\u901A\u8CA9","\u7F51\u5E97","\u0938\u0902\u0917\u0920\u0928","\u9910\u5385","\u7F51\u7EDC","\u043A\u043E\u043C","\u4E9A\u9A6C\u900A","\u8BFA\u57FA\u4E9A","\u98DF\u54C1","\u98DE\u5229\u6D66","\u624B\u673A","\u0627\u0631\u0627\u0645\u0643\u0648","\u0627\u0644\u0639\u0644\u064A\u0627\u0646","\u0627\u062A\u0635\u0627\u0644\u0627\u062A","\u0628\u0627\u0632\u0627\u0631","\u0627\u0628\u0648\u0638\u0628\u064A","\u0643\u0627\u062B\u0648\u0644\u064A\u0643","\u0647\u0645\u0631\u0627\u0647","\uB2F7\uCEF4","\u653F\u5E9C","\u0634\u0628\u0643\u0629","\u0628\u064A\u062A\u0643","\u0639\u0631\u0628","\u673A\u6784","\u7EC4\u7EC7\u673A\u6784","\u5065\u5EB7","\u62DB\u8058","\u0440\u0443\u0441","\u5927\u62FF","\u307F\u3093\u306A","\u30B0\u30FC\u30B0\u30EB","\u4E16\u754C","\u66F8\u7C4D","\u7F51\u5740","\uB2F7\uB137","\u30B3\u30E0","\u5929\u4E3B\u6559","\u6E38\u620F","verm\xF6gensberater","verm\xF6gensberatung","\u4F01\u4E1A","\u4FE1\u606F","\u5609\u91CC\u5927\u9152\u5E97","\u5609\u91CC","\u5E7F\u4E1C","\u653F\u52A1","xyz","yachts","yahoo","yamaxun","yandex","yodobashi","yoga","yokohama","you","youtube","yun","zappos","zara","zero","zip","zone","zuerich","cc.ua","inf.ua","ltd.ua","611.to","graphox.us","*.devcdnaccesso.com","adobeaemcloud.com","*.dev.adobeaemcloud.com","hlx.live","adobeaemcloud.net","hlx.page","hlx3.page","beep.pl","airkitapps.com","airkitapps-au.com","airkitapps.eu","aivencloud.com","barsy.ca","*.compute.estate","*.alces.network","kasserver.com","altervista.org","alwaysdata.net","cloudfront.net","*.compute.amazonaws.com","*.compute-1.amazonaws.com","*.compute.amazonaws.com.cn","us-east-1.amazonaws.com","cn-north-1.eb.amazonaws.com.cn","cn-northwest-1.eb.amazonaws.com.cn","elasticbeanstalk.com","ap-northeast-1.elasticbeanstalk.com","ap-northeast-2.elasticbeanstalk.com","ap-northeast-3.elasticbeanstalk.com","ap-south-1.elasticbeanstalk.com","ap-southeast-1.elasticbeanstalk.com","ap-southeast-2.elasticbeanstalk.com","ca-central-1.elasticbeanstalk.com","eu-central-1.elasticbeanstalk.com","eu-west-1.elasticbeanstalk.com","eu-west-2.elasticbeanstalk.com","eu-west-3.elasticbeanstalk.com","sa-east-1.elasticbeanstalk.com","us-east-1.elasticbeanstalk.com","us-east-2.elasticbeanstalk.com","us-gov-west-1.elasticbeanstalk.com","us-west-1.elasticbeanstalk.com","us-west-2.elasticbeanstalk.com","*.elb.amazonaws.com","*.elb.amazonaws.com.cn","awsglobalaccelerator.com","s3.amazonaws.com","s3-ap-northeast-1.amazonaws.com","s3-ap-northeast-2.amazonaws.com","s3-ap-south-1.amazonaws.com","s3-ap-southeast-1.amazonaws.com","s3-ap-southeast-2.amazonaws.com","s3-ca-central-1.amazonaws.com","s3-eu-central-1.amazonaws.com","s3-eu-west-1.amazonaws.com","s3-eu-west-2.amazonaws.com","s3-eu-west-3.amazonaws.com","s3-external-1.amazonaws.com","s3-fips-us-gov-west-1.amazonaws.com","s3-sa-east-1.amazonaws.com","s3-us-gov-west-1.amazonaws.com","s3-us-east-2.amazonaws.com","s3-us-west-1.amazonaws.com","s3-us-west-2.amazonaws.com","s3.ap-northeast-2.amazonaws.com","s3.ap-south-1.amazonaws.com","s3.cn-north-1.amazonaws.com.cn","s3.ca-central-1.amazonaws.com","s3.eu-central-1.amazonaws.com","s3.eu-west-2.amazonaws.com","s3.eu-west-3.amazonaws.com","s3.us-east-2.amazonaws.com","s3.dualstack.ap-northeast-1.amazonaws.com","s3.dualstack.ap-northeast-2.amazonaws.com","s3.dualstack.ap-south-1.amazonaws.com","s3.dualstack.ap-southeast-1.amazonaws.com","s3.dualstack.ap-southeast-2.amazonaws.com","s3.dualstack.ca-central-1.amazonaws.com","s3.dualstack.eu-central-1.amazonaws.com","s3.dualstack.eu-west-1.amazonaws.com","s3.dualstack.eu-west-2.amazonaws.com","s3.dualstack.eu-west-3.amazonaws.com","s3.dualstack.sa-east-1.amazonaws.com","s3.dualstack.us-east-1.amazonaws.com","s3.dualstack.us-east-2.amazonaws.com","s3-website-us-east-1.amazonaws.com","s3-website-us-west-1.amazonaws.com","s3-website-us-west-2.amazonaws.com","s3-website-ap-northeast-1.amazonaws.com","s3-website-ap-southeast-1.amazonaws.com","s3-website-ap-southeast-2.amazonaws.com","s3-website-eu-west-1.amazonaws.com","s3-website-sa-east-1.amazonaws.com","s3-website.ap-northeast-2.amazonaws.com","s3-website.ap-south-1.amazonaws.com","s3-website.ca-central-1.amazonaws.com","s3-website.eu-central-1.amazonaws.com","s3-website.eu-west-2.amazonaws.com","s3-website.eu-west-3.amazonaws.com","s3-website.us-east-2.amazonaws.com","t3l3p0rt.net","tele.amune.org","apigee.io","siiites.com","appspacehosted.com","appspaceusercontent.com","appudo.net","on-aptible.com","user.aseinet.ne.jp","gv.vc","d.gv.vc","user.party.eus","pimienta.org","poivron.org","potager.org","sweetpepper.org","myasustor.com","cdn.prod.atlassian-dev.net","translated.page","myfritz.net","onavstack.net","*.awdev.ca","*.advisor.ws","ecommerce-shop.pl","b-data.io","backplaneapp.io","balena-devices.com","rs.ba","*.banzai.cloud","app.banzaicloud.io","*.backyards.banzaicloud.io","base.ec","official.ec","buyshop.jp","fashionstore.jp","handcrafted.jp","kawaiishop.jp","supersale.jp","theshop.jp","shopselect.net","base.shop","*.beget.app","betainabox.com","bnr.la","bitbucket.io","blackbaudcdn.net","of.je","bluebite.io","boomla.net","boutir.com","boxfuse.io","square7.ch","bplaced.com","bplaced.de","square7.de","bplaced.net","square7.net","shop.brendly.rs","browsersafetymark.io","uk0.bigv.io","dh.bytemark.co.uk","vm.bytemark.co.uk","cafjs.com","mycd.eu","drr.ac","uwu.ai","carrd.co","crd.co","ju.mp","ae.org","br.com","cn.com","com.de","com.se","de.com","eu.com","gb.net","hu.net","jp.net","jpn.com","mex.com","ru.com","sa.com","se.net","uk.com","uk.net","us.com","za.bz","za.com","ar.com","hu.com","kr.com","no.com","qc.com","uy.com","africa.com","gr.com","in.net","web.in","us.org","co.com","aus.basketball","nz.basketball","radio.am","radio.fm","c.la","certmgr.org","cx.ua","discourse.group","discourse.team","cleverapps.io","clerk.app","clerkstage.app","*.lcl.dev","*.lclstage.dev","*.stg.dev","*.stgstage.dev","clickrising.net","c66.me","cloud66.ws","cloud66.zone","jdevcloud.com","wpdevcloud.com","cloudaccess.host","freesite.host","cloudaccess.net","cloudcontrolled.com","cloudcontrolapp.com","*.cloudera.site","pages.dev","trycloudflare.com","workers.dev","wnext.app","co.ca","*.otap.co","co.cz","c.cdn77.org","cdn77-ssl.net","r.cdn77.net","rsc.cdn77.org","ssl.origin.cdn77-secure.org","cloudns.asia","cloudns.biz","cloudns.club","cloudns.cc","cloudns.eu","cloudns.in","cloudns.info","cloudns.org","cloudns.pro","cloudns.pw","cloudns.us","cnpy.gdn","codeberg.page","co.nl","co.no","webhosting.be","hosting-cluster.nl","ac.ru","edu.ru","gov.ru","int.ru","mil.ru","test.ru","dyn.cosidns.de","dynamisches-dns.de","dnsupdater.de","internet-dns.de","l-o-g-i-n.de","dynamic-dns.info","feste-ip.net","knx-server.net","static-access.net","realm.cz","*.cryptonomic.net","cupcake.is","curv.dev","*.customer-oci.com","*.oci.customer-oci.com","*.ocp.customer-oci.com","*.ocs.customer-oci.com","cyon.link","cyon.site","fnwk.site","folionetwork.site","platform0.app","daplie.me","localhost.daplie.me","dattolocal.com","dattorelay.com","dattoweb.com","mydatto.com","dattolocal.net","mydatto.net","biz.dk","co.dk","firm.dk","reg.dk","store.dk","dyndns.dappnode.io","*.dapps.earth","*.bzz.dapps.earth","builtwithdark.com","demo.datadetect.com","instance.datadetect.com","edgestack.me","ddns5.com","debian.net","deno.dev","deno-staging.dev","dedyn.io","deta.app","deta.dev","*.rss.my.id","*.diher.solutions","discordsays.com","discordsez.com","jozi.biz","dnshome.de","online.th","shop.th","drayddns.com","shoparena.pl","dreamhosters.com","mydrobo.com","drud.io","drud.us","duckdns.org","bip.sh","bitbridge.net","dy.fi","tunk.org","dyndns-at-home.com","dyndns-at-work.com","dyndns-blog.com","dyndns-free.com","dyndns-home.com","dyndns-ip.com","dyndns-mail.com","dyndns-office.com","dyndns-pics.com","dyndns-remote.com","dyndns-server.com","dyndns-web.com","dyndns-wiki.com","dyndns-work.com","dyndns.biz","dyndns.info","dyndns.org","dyndns.tv","at-band-camp.net","ath.cx","barrel-of-knowledge.info","barrell-of-knowledge.info","better-than.tv","blogdns.com","blogdns.net","blogdns.org","blogsite.org","boldlygoingnowhere.org","broke-it.net","buyshouses.net","cechire.com","dnsalias.com","dnsalias.net","dnsalias.org","dnsdojo.com","dnsdojo.net","dnsdojo.org","does-it.net","doesntexist.com","doesntexist.org","dontexist.com","dontexist.net","dontexist.org","doomdns.com","doomdns.org","dvrdns.org","dyn-o-saur.com","dynalias.com","dynalias.net","dynalias.org","dynathome.net","dyndns.ws","endofinternet.net","endofinternet.org","endoftheinternet.org","est-a-la-maison.com","est-a-la-masion.com","est-le-patron.com","est-mon-blogueur.com","for-better.biz","for-more.biz","for-our.info","for-some.biz","for-the.biz","forgot.her.name","forgot.his.name","from-ak.com","from-al.com","from-ar.com","from-az.net","from-ca.com","from-co.net","from-ct.com","from-dc.com","from-de.com","from-fl.com","from-ga.com","from-hi.com","from-ia.com","from-id.com","from-il.com","from-in.com","from-ks.com","from-ky.com","from-la.net","from-ma.com","from-md.com","from-me.org","from-mi.com","from-mn.com","from-mo.com","from-ms.com","from-mt.com","from-nc.com","from-nd.com","from-ne.com","from-nh.com","from-nj.com","from-nm.com","from-nv.com","from-ny.net","from-oh.com","from-ok.com","from-or.com","from-pa.com","from-pr.com","from-ri.com","from-sc.com","from-sd.com","from-tn.com","from-tx.com","from-ut.com","from-va.com","from-vt.com","from-wa.com","from-wi.com","from-wv.com","from-wy.com","ftpaccess.cc","fuettertdasnetz.de","game-host.org","game-server.cc","getmyip.com","gets-it.net","go.dyndns.org","gotdns.com","gotdns.org","groks-the.info","groks-this.info","ham-radio-op.net","here-for-more.info","hobby-site.com","hobby-site.org","home.dyndns.org","homedns.org","homeftp.net","homeftp.org","homeip.net","homelinux.com","homelinux.net","homelinux.org","homeunix.com","homeunix.net","homeunix.org","iamallama.com","in-the-band.net","is-a-anarchist.com","is-a-blogger.com","is-a-bookkeeper.com","is-a-bruinsfan.org","is-a-bulls-fan.com","is-a-candidate.org","is-a-caterer.com","is-a-celticsfan.org","is-a-chef.com","is-a-chef.net","is-a-chef.org","is-a-conservative.com","is-a-cpa.com","is-a-cubicle-slave.com","is-a-democrat.com","is-a-designer.com","is-a-doctor.com","is-a-financialadvisor.com","is-a-geek.com","is-a-geek.net","is-a-geek.org","is-a-green.com","is-a-guru.com","is-a-hard-worker.com","is-a-hunter.com","is-a-knight.org","is-a-landscaper.com","is-a-lawyer.com","is-a-liberal.com","is-a-libertarian.com","is-a-linux-user.org","is-a-llama.com","is-a-musician.com","is-a-nascarfan.com","is-a-nurse.com","is-a-painter.com","is-a-patsfan.org","is-a-personaltrainer.com","is-a-photographer.com","is-a-player.com","is-a-republican.com","is-a-rockstar.com","is-a-socialist.com","is-a-soxfan.org","is-a-student.com","is-a-teacher.com","is-a-techie.com","is-a-therapist.com","is-an-accountant.com","is-an-actor.com","is-an-actress.com","is-an-anarchist.com","is-an-artist.com","is-an-engineer.com","is-an-entertainer.com","is-by.us","is-certified.com","is-found.org","is-gone.com","is-into-anime.com","is-into-cars.com","is-into-cartoons.com","is-into-games.com","is-leet.com","is-lost.org","is-not-certified.com","is-saved.org","is-slick.com","is-uberleet.com","is-very-bad.org","is-very-evil.org","is-very-good.org","is-very-nice.org","is-very-sweet.org","is-with-theband.com","isa-geek.com","isa-geek.net","isa-geek.org","isa-hockeynut.com","issmarterthanyou.com","isteingeek.de","istmein.de","kicks-ass.net","kicks-ass.org","knowsitall.info","land-4-sale.us","lebtimnetz.de","leitungsen.de","likes-pie.com","likescandy.com","merseine.nu","mine.nu","misconfused.org","mypets.ws","myphotos.cc","neat-url.com","office-on-the.net","on-the-web.tv","podzone.net","podzone.org","readmyblog.org","saves-the-whales.com","scrapper-site.net","scrapping.cc","selfip.biz","selfip.com","selfip.info","selfip.net","selfip.org","sells-for-less.com","sells-for-u.com","sells-it.net","sellsyourhome.org","servebbs.com","servebbs.net","servebbs.org","serveftp.net","serveftp.org","servegame.org","shacknet.nu","simple-url.com","space-to-rent.com","stuff-4-sale.org","stuff-4-sale.us","teaches-yoga.com","thruhere.net","traeumtgerade.de","webhop.biz","webhop.info","webhop.net","webhop.org","worse-than.tv","writesthisblog.com","ddnss.de","dyn.ddnss.de","dyndns.ddnss.de","dyndns1.de","dyn-ip24.de","home-webserver.de","dyn.home-webserver.de","myhome-server.de","ddnss.org","definima.net","definima.io","ondigitalocean.app","*.digitaloceanspaces.com","bci.dnstrace.pro","ddnsfree.com","ddnsgeek.com","giize.com","gleeze.com","kozow.com","loseyourip.com","ooguy.com","theworkpc.com","casacam.net","dynu.net","accesscam.org","camdvr.org","freeddns.org","mywire.org","webredirect.org","myddns.rocks","blogsite.xyz","dynv6.net","e4.cz","eero.online","eero-stage.online","elementor.cloud","elementor.cool","en-root.fr","mytuleap.com","tuleap-partners.com","encr.app","encoreapi.com","onred.one","staging.onred.one","eu.encoway.cloud","eu.org","al.eu.org","asso.eu.org","at.eu.org","au.eu.org","be.eu.org","bg.eu.org","ca.eu.org","cd.eu.org","ch.eu.org","cn.eu.org","cy.eu.org","cz.eu.org","de.eu.org","dk.eu.org","edu.eu.org","ee.eu.org","es.eu.org","fi.eu.org","fr.eu.org","gr.eu.org","hr.eu.org","hu.eu.org","ie.eu.org","il.eu.org","in.eu.org","int.eu.org","is.eu.org","it.eu.org","jp.eu.org","kr.eu.org","lt.eu.org","lu.eu.org","lv.eu.org","mc.eu.org","me.eu.org","mk.eu.org","mt.eu.org","my.eu.org","net.eu.org","ng.eu.org","nl.eu.org","no.eu.org","nz.eu.org","paris.eu.org","pl.eu.org","pt.eu.org","q-a.eu.org","ro.eu.org","ru.eu.org","se.eu.org","si.eu.org","sk.eu.org","tr.eu.org","uk.eu.org","us.eu.org","eurodir.ru","eu-1.evennode.com","eu-2.evennode.com","eu-3.evennode.com","eu-4.evennode.com","us-1.evennode.com","us-2.evennode.com","us-3.evennode.com","us-4.evennode.com","twmail.cc","twmail.net","twmail.org","mymailer.com.tw","url.tw","onfabrica.com","apps.fbsbx.com","ru.net","adygeya.ru","bashkiria.ru","bir.ru","cbg.ru","com.ru","dagestan.ru","grozny.ru","kalmykia.ru","kustanai.ru","marine.ru","mordovia.ru","msk.ru","mytis.ru","nalchik.ru","nov.ru","pyatigorsk.ru","spb.ru","vladikavkaz.ru","vladimir.ru","abkhazia.su","adygeya.su","aktyubinsk.su","arkhangelsk.su","armenia.su","ashgabad.su","azerbaijan.su","balashov.su","bashkiria.su","bryansk.su","bukhara.su","chimkent.su","dagestan.su","east-kazakhstan.su","exnet.su","georgia.su","grozny.su","ivanovo.su","jambyl.su","kalmykia.su","kaluga.su","karacol.su","karaganda.su","karelia.su","khakassia.su","krasnodar.su","kurgan.su","kustanai.su","lenug.su","mangyshlak.su","mordovia.su","msk.su","murmansk.su","nalchik.su","navoi.su","north-kazakhstan.su","nov.su","obninsk.su","penza.su","pokrovsk.su","sochi.su","spb.su","tashkent.su","termez.su","togliatti.su","troitsk.su","tselinograd.su","tula.su","tuva.su","vladikavkaz.su","vladimir.su","vologda.su","channelsdvr.net","u.channelsdvr.net","edgecompute.app","fastly-terrarium.com","fastlylb.net","map.fastlylb.net","freetls.fastly.net","map.fastly.net","a.prod.fastly.net","global.prod.fastly.net","a.ssl.fastly.net","b.ssl.fastly.net","global.ssl.fastly.net","fastvps-server.com","fastvps.host","myfast.host","fastvps.site","myfast.space","fedorainfracloud.org","fedorapeople.org","cloud.fedoraproject.org","app.os.fedoraproject.org","app.os.stg.fedoraproject.org","conn.uk","copro.uk","hosp.uk","mydobiss.com","fh-muenster.io","filegear.me","filegear-au.me","filegear-de.me","filegear-gb.me","filegear-ie.me","filegear-jp.me","filegear-sg.me","firebaseapp.com","fireweb.app","flap.id","onflashdrive.app","fldrv.com","fly.dev","edgeapp.net","shw.io","flynnhosting.net","forgeblocks.com","id.forgerock.io","framer.app","framercanvas.com","*.frusky.de","ravpage.co.il","0e.vc","freebox-os.com","freeboxos.com","fbx-os.fr","fbxos.fr","freebox-os.fr","freeboxos.fr","freedesktop.org","freemyip.com","wien.funkfeuer.at","*.futurecms.at","*.ex.futurecms.at","*.in.futurecms.at","futurehosting.at","futuremailing.at","*.ex.ortsinfo.at","*.kunden.ortsinfo.at","*.statics.cloud","independent-commission.uk","independent-inquest.uk","independent-inquiry.uk","independent-panel.uk","independent-review.uk","public-inquiry.uk","royal-commission.uk","campaign.gov.uk","service.gov.uk","api.gov.uk","gehirn.ne.jp","usercontent.jp","gentapps.com","gentlentapis.com","lab.ms","cdn-edges.net","ghost.io","gsj.bz","githubusercontent.com","githubpreview.dev","github.io","gitlab.io","gitapp.si","gitpage.si","glitch.me","nog.community","co.ro","shop.ro","lolipop.io","angry.jp","babyblue.jp","babymilk.jp","backdrop.jp","bambina.jp","bitter.jp","blush.jp","boo.jp","boy.jp","boyfriend.jp","but.jp","candypop.jp","capoo.jp","catfood.jp","cheap.jp","chicappa.jp","chillout.jp","chips.jp","chowder.jp","chu.jp","ciao.jp","cocotte.jp","coolblog.jp","cranky.jp","cutegirl.jp","daa.jp","deca.jp","deci.jp","digick.jp","egoism.jp","fakefur.jp","fem.jp","flier.jp","floppy.jp","fool.jp","frenchkiss.jp","girlfriend.jp","girly.jp","gloomy.jp","gonna.jp","greater.jp","hacca.jp","heavy.jp","her.jp","hiho.jp","hippy.jp","holy.jp","hungry.jp","icurus.jp","itigo.jp","jellybean.jp","kikirara.jp","kill.jp","kilo.jp","kuron.jp","littlestar.jp","lolipopmc.jp","lolitapunk.jp","lomo.jp","lovepop.jp","lovesick.jp","main.jp","mods.jp","mond.jp","mongolian.jp","moo.jp","namaste.jp","nikita.jp","nobushi.jp","noor.jp","oops.jp","parallel.jp","parasite.jp","pecori.jp","peewee.jp","penne.jp","pepper.jp","perma.jp","pigboat.jp","pinoko.jp","punyu.jp","pupu.jp","pussycat.jp","pya.jp","raindrop.jp","readymade.jp","sadist.jp","schoolbus.jp","secret.jp","staba.jp","stripper.jp","sub.jp","sunnyday.jp","thick.jp","tonkotsu.jp","under.jp","upper.jp","velvet.jp","verse.jp","versus.jp","vivian.jp","watson.jp","weblike.jp","whitesnow.jp","zombie.jp","heteml.net","cloudapps.digital","london.cloudapps.digital","pymnt.uk","homeoffice.gov.uk","ro.im","goip.de","run.app","a.run.app","web.app","*.0emm.com","appspot.com","*.r.appspot.com","codespot.com","googleapis.com","googlecode.com","pagespeedmobilizer.com","publishproxy.com","withgoogle.com","withyoutube.com","*.gateway.dev","cloud.goog","translate.goog","*.usercontent.goog","cloudfunctions.net","blogspot.ae","blogspot.al","blogspot.am","blogspot.ba","blogspot.be","blogspot.bg","blogspot.bj","blogspot.ca","blogspot.cf","blogspot.ch","blogspot.cl","blogspot.co.at","blogspot.co.id","blogspot.co.il","blogspot.co.ke","blogspot.co.nz","blogspot.co.uk","blogspot.co.za","blogspot.com","blogspot.com.ar","blogspot.com.au","blogspot.com.br","blogspot.com.by","blogspot.com.co","blogspot.com.cy","blogspot.com.ee","blogspot.com.eg","blogspot.com.es","blogspot.com.mt","blogspot.com.ng","blogspot.com.tr","blogspot.com.uy","blogspot.cv","blogspot.cz","blogspot.de","blogspot.dk","blogspot.fi","blogspot.fr","blogspot.gr","blogspot.hk","blogspot.hr","blogspot.hu","blogspot.ie","blogspot.in","blogspot.is","blogspot.it","blogspot.jp","blogspot.kr","blogspot.li","blogspot.lt","blogspot.lu","blogspot.md","blogspot.mk","blogspot.mr","blogspot.mx","blogspot.my","blogspot.nl","blogspot.no","blogspot.pe","blogspot.pt","blogspot.qa","blogspot.re","blogspot.ro","blogspot.rs","blogspot.ru","blogspot.se","blogspot.sg","blogspot.si","blogspot.sk","blogspot.sn","blogspot.td","blogspot.tw","blogspot.ug","blogspot.vn","goupile.fr","gov.nl","awsmppl.com","g\xFCnstigbestellen.de","g\xFCnstigliefern.de","fin.ci","free.hr","caa.li","ua.rs","conf.se","hs.zone","hs.run","hashbang.sh","hasura.app","hasura-app.io","pages.it.hs-heilbronn.de","hepforge.org","herokuapp.com","herokussl.com","ravendb.cloud","myravendb.com","ravendb.community","ravendb.me","development.run","ravendb.run","homesklep.pl","secaas.hk","hoplix.shop","orx.biz","biz.gl","col.ng","firm.ng","gen.ng","ltd.ng","ngo.ng","edu.scot","sch.so","hostyhosting.io","h\xE4kkinen.fi","*.moonscale.io","moonscale.net","iki.fi","ibxos.it","iliadboxos.it","impertrixcdn.com","impertrix.com","smushcdn.com","wphostedmail.com","wpmucdn.com","tempurl.host","wpmudev.host","dyn-berlin.de","in-berlin.de","in-brb.de","in-butter.de","in-dsl.de","in-dsl.net","in-dsl.org","in-vpn.de","in-vpn.net","in-vpn.org","biz.at","info.at","info.cx","ac.leg.br","al.leg.br","am.leg.br","ap.leg.br","ba.leg.br","ce.leg.br","df.leg.br","es.leg.br","go.leg.br","ma.leg.br","mg.leg.br","ms.leg.br","mt.leg.br","pa.leg.br","pb.leg.br","pe.leg.br","pi.leg.br","pr.leg.br","rj.leg.br","rn.leg.br","ro.leg.br","rr.leg.br","rs.leg.br","sc.leg.br","se.leg.br","sp.leg.br","to.leg.br","pixolino.com","na4u.ru","iopsys.se","ipifony.net","iservschule.de","mein-iserv.de","schulplattform.de","schulserver.de","test-iserv.de","iserv.dev","iobb.net","mel.cloudlets.com.au","cloud.interhostsolutions.be","users.scale.virtualcloud.com.br","mycloud.by","alp1.ae.flow.ch","appengine.flow.ch","es-1.axarnet.cloud","diadem.cloud","vip.jelastic.cloud","jele.cloud","it1.eur.aruba.jenv-aruba.cloud","it1.jenv-aruba.cloud","keliweb.cloud","cs.keliweb.cloud","oxa.cloud","tn.oxa.cloud","uk.oxa.cloud","primetel.cloud","uk.primetel.cloud","ca.reclaim.cloud","uk.reclaim.cloud","us.reclaim.cloud","ch.trendhosting.cloud","de.trendhosting.cloud","jele.club","amscompute.com","clicketcloud.com","dopaas.com","hidora.com","paas.hosted-by-previder.com","rag-cloud.hosteur.com","rag-cloud-ch.hosteur.com","jcloud.ik-server.com","jcloud-ver-jpc.ik-server.com","demo.jelastic.com","kilatiron.com","paas.massivegrid.com","jed.wafaicloud.com","lon.wafaicloud.com","ryd.wafaicloud.com","j.scaleforce.com.cy","jelastic.dogado.eu","fi.cloudplatform.fi","demo.datacenter.fi","paas.datacenter.fi","jele.host","mircloud.host","paas.beebyte.io","sekd1.beebyteapp.io","jele.io","cloud-fr1.unispace.io","jc.neen.it","cloud.jelastic.open.tim.it","jcloud.kz","upaas.kazteleport.kz","cloudjiffy.net","fra1-de.cloudjiffy.net","west1-us.cloudjiffy.net","jls-sto1.elastx.net","jls-sto2.elastx.net","jls-sto3.elastx.net","faststacks.net","fr-1.paas.massivegrid.net","lon-1.paas.massivegrid.net","lon-2.paas.massivegrid.net","ny-1.paas.massivegrid.net","ny-2.paas.massivegrid.net","sg-1.paas.massivegrid.net","jelastic.saveincloud.net","nordeste-idc.saveincloud.net","j.scaleforce.net","jelastic.tsukaeru.net","sdscloud.pl","unicloud.pl","mircloud.ru","jelastic.regruhosting.ru","enscaled.sg","jele.site","jelastic.team","orangecloud.tn","j.layershift.co.uk","phx.enscaled.us","mircloud.us","myjino.ru","*.hosting.myjino.ru","*.landing.myjino.ru","*.spectrum.myjino.ru","*.vps.myjino.ru","jotelulu.cloud","*.triton.zone","*.cns.joyent.com","js.org","kaas.gg","khplay.nl","ktistory.com","kapsi.fi","keymachine.de","kinghost.net","uni5.net","knightpoint.systems","koobin.events","oya.to","kuleuven.cloud","ezproxy.kuleuven.be","co.krd","edu.krd","krellian.net","webthings.io","git-repos.de","lcube-server.de","svn-repos.de","leadpages.co","lpages.co","lpusercontent.com","lelux.site","co.business","co.education","co.events","co.financial","co.network","co.place","co.technology","app.lmpm.com","linkyard.cloud","linkyard-cloud.ch","members.linode.com","*.nodebalancer.linode.com","*.linodeobjects.com","ip.linodeusercontent.com","we.bs","*.user.localcert.dev","localzone.xyz","loginline.app","loginline.dev","loginline.io","loginline.services","loginline.site","servers.run","lohmus.me","krasnik.pl","leczna.pl","lubartow.pl","lublin.pl","poniatowa.pl","swidnik.pl","glug.org.uk","lug.org.uk","lugs.org.uk","barsy.bg","barsy.co.uk","barsyonline.co.uk","barsycenter.com","barsyonline.com","barsy.club","barsy.de","barsy.eu","barsy.in","barsy.info","barsy.io","barsy.me","barsy.menu","barsy.mobi","barsy.net","barsy.online","barsy.org","barsy.pro","barsy.pub","barsy.ro","barsy.shop","barsy.site","barsy.support","barsy.uk","*.magentosite.cloud","mayfirst.info","mayfirst.org","hb.cldmail.ru","cn.vu","mazeplay.com","mcpe.me","mcdir.me","mcdir.ru","mcpre.ru","vps.mcdir.ru","mediatech.by","mediatech.dev","hra.health","miniserver.com","memset.net","messerli.app","*.cloud.metacentrum.cz","custom.metacentrum.cz","flt.cloud.muni.cz","usr.cloud.muni.cz","meteorapp.com","eu.meteorapp.com","co.pl","*.azurecontainer.io","azurewebsites.net","azure-mobile.net","cloudapp.net","azurestaticapps.net","1.azurestaticapps.net","centralus.azurestaticapps.net","eastasia.azurestaticapps.net","eastus2.azurestaticapps.net","westeurope.azurestaticapps.net","westus2.azurestaticapps.net","csx.cc","mintere.site","forte.id","mozilla-iot.org","bmoattachments.org","net.ru","org.ru","pp.ru","hostedpi.com","customer.mythic-beasts.com","caracal.mythic-beasts.com","fentiger.mythic-beasts.com","lynx.mythic-beasts.com","ocelot.mythic-beasts.com","oncilla.mythic-beasts.com","onza.mythic-beasts.com","sphinx.mythic-beasts.com","vs.mythic-beasts.com","x.mythic-beasts.com","yali.mythic-beasts.com","cust.retrosnub.co.uk","ui.nabu.casa","pony.club","of.fashion","in.london","of.london","from.marketing","with.marketing","for.men","repair.men","and.mom","for.mom","for.one","under.one","for.sale","that.win","from.work","to.work","cloud.nospamproxy.com","netlify.app","4u.com","ngrok.io","nh-serv.co.uk","nfshost.com","*.developer.app","noop.app","*.northflank.app","*.build.run","*.code.run","*.database.run","*.migration.run","noticeable.news","dnsking.ch","mypi.co","n4t.co","001www.com","ddnslive.com","myiphost.com","forumz.info","16-b.it","32-b.it","64-b.it","soundcast.me","tcp4.me","dnsup.net","hicam.net","now-dns.net","ownip.net","vpndns.net","dynserv.org","now-dns.org","x443.pw","now-dns.top","ntdll.top","freeddns.us","crafting.xyz","zapto.xyz","nsupdate.info","nerdpol.ovh","blogsyte.com","brasilia.me","cable-modem.org","ciscofreak.com","collegefan.org","couchpotatofries.org","damnserver.com","ddns.me","ditchyourip.com","dnsfor.me","dnsiskinky.com","dvrcam.info","dynns.com","eating-organic.net","fantasyleague.cc","geekgalaxy.com","golffan.us","health-carereform.com","homesecuritymac.com","homesecuritypc.com","hopto.me","ilovecollege.info","loginto.me","mlbfan.org","mmafan.biz","myactivedirectory.com","mydissent.net","myeffect.net","mymediapc.net","mypsx.net","mysecuritycamera.com","mysecuritycamera.net","mysecuritycamera.org","net-freaks.com","nflfan.org","nhlfan.net","no-ip.ca","no-ip.co.uk","no-ip.net","noip.us","onthewifi.com","pgafan.net","point2this.com","pointto.us","privatizehealthinsurance.net","quicksytes.com","read-books.org","securitytactics.com","serveexchange.com","servehumour.com","servep2p.com","servesarcasm.com","stufftoread.com","ufcfan.org","unusualperson.com","workisboring.com","3utilities.com","bounceme.net","ddns.net","ddnsking.com","gotdns.ch","hopto.org","myftp.biz","myftp.org","myvnc.com","no-ip.biz","no-ip.info","no-ip.org","noip.me","redirectme.net","servebeer.com","serveblog.net","servecounterstrike.com","serveftp.com","servegame.com","servehalflife.com","servehttp.com","serveirc.com","serveminecraft.net","servemp3.com","servepics.com","servequake.com","sytes.net","webhop.me","zapto.org","stage.nodeart.io","pcloud.host","nyc.mn","static.observableusercontent.com","cya.gg","omg.lol","cloudycluster.net","omniwe.site","service.one","nid.io","opensocial.site","opencraft.hosting","orsites.com","operaunite.com","tech.orange","authgear-staging.com","authgearapps.com","skygearapp.com","outsystemscloud.com","*.webpaas.ovh.net","*.hosting.ovh.net","ownprovider.com","own.pm","*.owo.codes","ox.rs","oy.lc","pgfog.com","pagefrontapp.com","pagexl.com","*.paywhirl.com","bar0.net","bar1.net","bar2.net","rdv.to","art.pl","gliwice.pl","krakow.pl","poznan.pl","wroc.pl","zakopane.pl","pantheonsite.io","gotpantheon.com","mypep.link","perspecta.cloud","lk3.ru","on-web.fr","bc.platform.sh","ent.platform.sh","eu.platform.sh","us.platform.sh","*.platformsh.site","*.tst.site","platter-app.com","platter-app.dev","platterp.us","pdns.page","plesk.page","pleskns.com","dyn53.io","onporter.run","co.bn","postman-echo.com","pstmn.io","mock.pstmn.io","httpbin.org","prequalifyme.today","xen.prgmr.com","priv.at","prvcy.page","*.dweb.link","protonet.io","chirurgiens-dentistes-en-france.fr","byen.site","pubtls.org","pythonanywhere.com","eu.pythonanywhere.com","qoto.io","qualifioapp.com","qbuser.com","cloudsite.builders","instances.spawn.cc","instantcloud.cn","ras.ru","qa2.com","qcx.io","*.sys.qcx.io","dev-myqnapcloud.com","alpha-myqnapcloud.com","myqnapcloud.com","*.quipelements.com","vapor.cloud","vaporcloud.io","rackmaze.com","rackmaze.net","g.vbrplsbx.io","*.on-k3s.io","*.on-rancher.cloud","*.on-rio.io","readthedocs.io","rhcloud.com","app.render.com","onrender.com","repl.co","id.repl.co","repl.run","resindevice.io","devices.resinstaging.io","hzc.io","wellbeingzone.eu","wellbeingzone.co.uk","adimo.co.uk","itcouldbewor.se","git-pages.rit.edu","rocky.page","\u0431\u0438\u0437.\u0440\u0443\u0441","\u043A\u043E\u043C.\u0440\u0443\u0441","\u043A\u0440\u044B\u043C.\u0440\u0443\u0441","\u043C\u0438\u0440.\u0440\u0443\u0441","\u043C\u0441\u043A.\u0440\u0443\u0441","\u043E\u0440\u0433.\u0440\u0443\u0441","\u0441\u0430\u043C\u0430\u0440\u0430.\u0440\u0443\u0441","\u0441\u043E\u0447\u0438.\u0440\u0443\u0441","\u0441\u043F\u0431.\u0440\u0443\u0441","\u044F.\u0440\u0443\u0441","*.builder.code.com","*.dev-builder.code.com","*.stg-builder.code.com","sandcats.io","logoip.de","logoip.com","fr-par-1.baremetal.scw.cloud","fr-par-2.baremetal.scw.cloud","nl-ams-1.baremetal.scw.cloud","fnc.fr-par.scw.cloud","functions.fnc.fr-par.scw.cloud","k8s.fr-par.scw.cloud","nodes.k8s.fr-par.scw.cloud","s3.fr-par.scw.cloud","s3-website.fr-par.scw.cloud","whm.fr-par.scw.cloud","priv.instances.scw.cloud","pub.instances.scw.cloud","k8s.scw.cloud","k8s.nl-ams.scw.cloud","nodes.k8s.nl-ams.scw.cloud","s3.nl-ams.scw.cloud","s3-website.nl-ams.scw.cloud","whm.nl-ams.scw.cloud","k8s.pl-waw.scw.cloud","nodes.k8s.pl-waw.scw.cloud","s3.pl-waw.scw.cloud","s3-website.pl-waw.scw.cloud","scalebook.scw.cloud","smartlabeling.scw.cloud","dedibox.fr","schokokeks.net","gov.scot","service.gov.scot","scrysec.com","firewall-gateway.com","firewall-gateway.de","my-gateway.de","my-router.de","spdns.de","spdns.eu","firewall-gateway.net","my-firewall.org","myfirewall.org","spdns.org","seidat.net","sellfy.store","senseering.net","minisite.ms","magnet.page","biz.ua","co.ua","pp.ua","shiftcrypto.dev","shiftcrypto.io","shiftedit.io","myshopblocks.com","myshopify.com","shopitsite.com","shopware.store","mo-siemens.io","1kapp.com","appchizi.com","applinzi.com","sinaapp.com","vipsinaapp.com","siteleaf.net","bounty-full.com","alpha.bounty-full.com","beta.bounty-full.com","small-web.org","vp4.me","try-snowplow.com","srht.site","stackhero-network.com","musician.io","novecore.site","static.land","dev.static.land","sites.static.land","storebase.store","vps-host.net","atl.jelastic.vps-host.net","njs.jelastic.vps-host.net","ric.jelastic.vps-host.net","playstation-cloud.com","apps.lair.io","*.stolos.io","spacekit.io","customer.speedpartner.de","myspreadshop.at","myspreadshop.com.au","myspreadshop.be","myspreadshop.ca","myspreadshop.ch","myspreadshop.com","myspreadshop.de","myspreadshop.dk","myspreadshop.es","myspreadshop.fi","myspreadshop.fr","myspreadshop.ie","myspreadshop.it","myspreadshop.net","myspreadshop.nl","myspreadshop.no","myspreadshop.pl","myspreadshop.se","myspreadshop.co.uk","api.stdlib.com","storj.farm","utwente.io","soc.srcf.net","user.srcf.net","temp-dns.com","supabase.co","supabase.in","supabase.net","su.paba.se","*.s5y.io","*.sensiosite.cloud","syncloud.it","dscloud.biz","direct.quickconnect.cn","dsmynas.com","familyds.com","diskstation.me","dscloud.me","i234.me","myds.me","synology.me","dscloud.mobi","dsmynas.net","familyds.net","dsmynas.org","familyds.org","vpnplus.to","direct.quickconnect.to","tabitorder.co.il","taifun-dns.de","beta.tailscale.net","ts.net","gda.pl","gdansk.pl","gdynia.pl","med.pl","sopot.pl","site.tb-hosting.com","edugit.io","s3.teckids.org","telebit.app","telebit.io","*.telebit.xyz","gwiddle.co.uk","*.firenet.ch","*.svc.firenet.ch","reservd.com","thingdustdata.com","cust.dev.thingdust.io","cust.disrec.thingdust.io","cust.prod.thingdust.io","cust.testing.thingdust.io","reservd.dev.thingdust.io","reservd.disrec.thingdust.io","reservd.testing.thingdust.io","tickets.io","arvo.network","azimuth.network","tlon.network","torproject.net","pages.torproject.net","bloxcms.com","townnews-staging.com","tbits.me","12hp.at","2ix.at","4lima.at","lima-city.at","12hp.ch","2ix.ch","4lima.ch","lima-city.ch","trafficplex.cloud","de.cool","12hp.de","2ix.de","4lima.de","lima-city.de","1337.pictures","clan.rip","lima-city.rocks","webspace.rocks","lima.zone","*.transurl.be","*.transurl.eu","*.transurl.nl","site.transip.me","tuxfamily.org","dd-dns.de","diskstation.eu","diskstation.org","dray-dns.de","draydns.de","dyn-vpn.de","dynvpn.de","mein-vigor.de","my-vigor.de","my-wan.de","syno-ds.de","synology-diskstation.de","synology-ds.de","typedream.app","pro.typeform.com","uber.space","*.uberspace.de","hk.com","hk.org","ltd.hk","inc.hk","name.pm","sch.tf","biz.wf","sch.wf","org.yt","virtualuser.de","virtual-user.de","upli.io","urown.cloud","dnsupdate.info","lib.de.us","2038.io","vercel.app","vercel.dev","now.sh","router.management","v-info.info","voorloper.cloud","neko.am","nyaa.am","be.ax","cat.ax","es.ax","eu.ax","gg.ax","mc.ax","us.ax","xy.ax","nl.ci","xx.gl","app.gp","blog.gt","de.gt","to.gt","be.gy","cc.hn","blog.kg","io.kg","jp.kg","tv.kg","uk.kg","us.kg","de.ls","at.md","de.md","jp.md","to.md","indie.porn","vxl.sh","ch.tc","me.tc","we.tc","nyan.to","at.vg","blog.vu","dev.vu","me.vu","v.ua","*.vultrobjects.com","wafflecell.com","*.webhare.dev","reserve-online.net","reserve-online.com","bookonline.app","hotelwithflight.com","wedeploy.io","wedeploy.me","wedeploy.sh","remotewd.com","pages.wiardweb.com","wmflabs.org","toolforge.org","wmcloud.org","panel.gg","daemon.panel.gg","messwithdns.com","woltlab-demo.com","myforum.community","community-pro.de","diskussionsbereich.de","community-pro.net","meinforum.net","affinitylottery.org.uk","raffleentry.org.uk","weeklylottery.org.uk","wpenginepowered.com","js.wpenginepowered.com","wixsite.com","editorx.io","half.host","xnbay.com","u2.xnbay.com","u2-local.xnbay.com","cistron.nl","demon.nl","xs4all.space","yandexcloud.net","storage.yandexcloud.net","website.yandexcloud.net","official.academy","yolasite.com","ybo.faith","yombo.me","homelink.one","ybo.party","ybo.review","ybo.science","ybo.trade","ynh.fr","nohost.me","noho.st","za.net","za.org","bss.design","basicserver.io","virtualserver.io","enterprisecloud.nu"]')}},hr={};function mt(ye){var Z=hr[ye];if(Z!==void 0)return Z.exports;var P=hr[ye]={id:ye,loaded:!1,exports:{}};return vi[ye].call(P.exports,P,P.exports,mt),P.loaded=!0,P.exports}mt.m=vi,mt.n=function(ye){var Z=ye&&ye.__esModule?function(){return ye.default}:function(){return ye};return mt.d(Z,{a:Z}),Z},mt.d=function(ye,Z){for(var P in Z)mt.o(Z,P)&&!mt.o(ye,P)&&Object.defineProperty(ye,P,{enumerable:!0,get:Z[P]})},mt.u=function(ye){if(ye===348)return"voxeet-dvwc-worker.js"},mt.o=function(ye,Z){return Object.prototype.hasOwnProperty.call(ye,Z)},mt.r=function(ye){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(ye,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ye,"__esModule",{value:!0})},mt.nmd=function(ye){return ye.paths=[],ye.children||(ye.children=[]),ye},mt.p="",mt.b=typeof document!="undefined"?document.baseURI||self.location.href:"";var $h={};return function(){mt.d($h,{default:function(){return ee}});var ye={};mt.r(ye),mt.d(ye,{VideoPresentationPause:function(){return K},VideoPresentationPlay:function(){return R},VideoPresentationSeek:function(){return ae},VideoPresentationStarted:function(){return u},VideoPresentationStopped:function(){return k}});var Z={};mt.r(Z),mt.d(Z,{FileConversionProgress:function(){return Oe},FileConverted:function(){return Pe},FilePresentationStarted:function(){return oe},FilePresentationStopped:function(){return le},FilePresentationUpdated:function(){return Ee}});var P={};mt.r(P),mt.d(P,{ActiveSpeakerChange:function(){return ut},BandwidthRestrictionChanged:function(){return Lt},ConferenceDestroyed:function(){return Ce},ConferenceEnded:function(){return Et},ConferenceGlobalError:function(){return gn},ConferenceGlobalTrace:function(){return Ie},ConferenceJoined:function(){return Pt},ConferenceJoining:function(){return Mt},ConferenceLeaving:function(){return yi},ConferenceLeft:function(){return Rt},ConferenceStats:function(){return rt},ConferenceVideoFilterUpdate:function(){return Ze},DvcsMetric:function(){return Ae},OfferCreated:function(){return Kt},OwnParticipantSwitched:function(){return ge},ParticipantAdded:function(){return Wt},ParticipantKicked:function(){return bt},ParticipantSwitched:function(){return pe},ParticipantUpdated:function(){return Be},RtsStatusUpdated:function(){return yn},StreamAdded:function(){return _t},StreamRemoved:function(){return vn},StreamUpdated:function(){return Jt},UpdateToken:function(){return et},UserAction:function(){return lt},VideoForwardedChanged:function(){return it}});var x={};mt.r(x),mt.d(x,{RecordingStatusUpdated:function(){return kn}});var _={};mt.r(_),mt.d(_,{ConferenceMessageReceived:function(){return st}});var g={};mt.r(g),mt.d(g,{ActiveParticipants:function(){return Si},ConferenceCreatedNotification:function(){return xi},ConferenceEndedNotification:function(){return Ir},ConferenceStatusNotification:function(){return ki},InvitationReceived:function(){return Jn},ParticipantJoinedNotification:function(){return wi},ParticipantLeftNotification:function(){return qe}});var y={};mt.r(y),mt.d(y,{SessionClosed:function(){return dn},SessionOpened:function(){return dn}});var w={};mt.r(w),mt.d(w,{LocalVideoStarted:function(){return _i},LocalVideoStopped:function(){return Gt},LocalVideoUpdated:function(){return Tn}});var p={};mt.r(p),mt.d(p,{AudioUpdated:function(){return fi}});var l,C,W,m=mt(7187),b=mt.n(m);class F{constructor(e){this.type=e}}class S extends F{constructor(e,n,o){super(e),this.conferenceId=n,this.userId=o}}class u extends S{constructor(e){super(Le.VideoPresentationStarted,e.conferenceId,e.userId),this.url=e.url,this.timestamp=e.timestamp}static fromData(e){return new u(Object.assign({},e))}}class k extends S{constructor(e){super(Le.VideoPresentationStopped,e.conferenceId,e.userId)}static fromData(e){return new k(Object.assign({},e))}}class R extends S{constructor(e){super(Le.VideoPresentationPlay,e.conferenceId,e.userId),this.timestamp=e.timestamp}static fromData(e){return new R(Object.assign({},e))}}class K extends S{constructor(e){super(Le.VideoPresentationPause,e.conferenceId,e.userId),this.timestamp=e.timestamp}static fromData(e){return new K(Object.assign({},e))}}class ae extends S{constructor(e){super(Le.VideoPresentationSeek,e.conferenceId,e.userId),this.timestamp=e.timestamp}static fromData(e){return new ae(Object.assign({},e))}}class Y{constructor(e){this.position=0,this.id=e}}class oe extends F{constructor(e){super(Le.FilePresentationStarted),this.file=e}static fromData(e){const n=new Y(e.fileId);return n.imageCount=e.imageCount,n.position=e.position,n.ownerId=e.userId,new oe(n)}}class le extends F{constructor(e){super(Le.FilePresentationStopped),this.file=e}static fromData(e){const n=new Y(e.fileId);return n.ownerId=e.userId,new le(n)}}class Ee extends F{constructor(e){super(Le.FilePresentationUpdated),this.file=e}static fromData(e){const n=new Y(e.fileId);return n.ownerId=e.userId,n.position=e.position,new Ee(n)}}class me{constructor(e,n,o,c,v){this.userId=e,this.fileId=n,this.currentStep=o,this.stepCount=c,this.progress=v}}class Oe extends F{constructor(e){super(Le.FileConversionProgress),this.fileConversion=e}static fromData(e){const n=new me(e.userId,e.fileId,e.currentStep,e.stepCount,e.progress);return new Oe(n)}}class Ke{constructor(e,n){this.id=e,this.imageCount=n}}class Pe extends F{constructor(){super(Le.FileConverted),this.files=[]}static fromData(e){const n=new Pe;return n.error=e.error||"",e.files&&e.files.forEach(o=>{const c=new Ke(o.fileId,o.nbImageConverted);c.name=o.filename,c.size=o.filesize,c.ownerId=o.owner,n.files.push(c)}),n}}class we{constructor(){}static fromJoinData(e){const n=new we;return n.currentLanguage=e.currentLanguage,n.dolbyVoice=e.dolbyVoice==="true",n.liveRecording=e.liveRecording,n.mode=e.mode,n.rtcpMode=e.rtcpMode,n.stats=e.stats,n.ttl=e.ttl,n.videoCodec=e.videoCodec,n.spatialAudioStyle=e.spatialAudioStyle,n}}(function(t){t.Regular="regular",t.Mixed="mixed"})(l||(l={}));class yt{}(function(t){t.None="none",t.SendOnly="sendonly",t.RecvOnly="recvonly",t.SendRecv="sendrecv"})(C||(C={}));class Pt extends F{constructor(){super(Le.ConferenceJoined)}static fromData(e){const n=new Pt;return n.conferenceId=e&&e.conferenceId?e.conferenceId:null,n.recordingStatus=e.recordingStatus,n.recordingParticipant=e.recordingUser,n.recordingStartTimestamp=e.startRecordTimestamp,n.parameters=we.fromJoinData(e.metadata),n.listenOnly=e.listenOnly,n}isJoinedAsRTSViewer(){var e;return((e=this.listenOnly)===null||e===void 0?void 0:e.type)===l.Mixed}}class Mt extends F{constructor(e){super(Le.ConferenceJoining),this.conferenceId=e}}class rt extends F{constructor(){super(Le.ConferenceStats)}static fromData(e){const n=new rt;return n.stats=e.participantStats,n}}class Rt extends F{constructor(){super(Le.ConferenceLeft)}static fromData(e){const n=new Rt;return n.stateDump=e,n}}class Kt extends F{constructor(){super(Le.OfferCreated)}withMaster(e){return this.master=e,this}withUserId(e){return this.userId=e,this}withConferenceId(e){return this.conferenceId=e,this}withDescription(e){return this.description=e,this}withCandidates(e){return this.candidates=e,this}withState(e){return this.state=e,this}static fromData(e){return new Kt().withMaster(e.master).withUserId(e.user_id).withConferenceId(e.conference_id).withDescription(e.description).withCandidates(e.candidates).withState(e.state)}}class Wt extends F{constructor(){super(Le.ParticipantAdded)}static fromData(e){const n=new Wt;return n.userId=e.user_id,n.externalId=e.externalId,n.name=e.name,n.avatarUrl=e.avatarUrl,n.status=e.status,n.metadata=e.metadata,n.participantType=e.participantType,n.audio=e.audio||!1,n.audioReceivingStopped=e.audioReceivingStopped||!1,n.video=(e==null?void 0:e.video)||!1,n}}class Be extends F{constructor(){super(Le.ParticipantUpdated)}static fromData(e){const n=new Be;return n.userId=e.user_id,n.status=e.status,n.participantType=e.participantType,n.audio=e.audio,n.audioReceivingStopped=e.audioReceivingStopped,n.name=e.name,n.avatarUrl=e.avatarUrl,n.externalId=e.externalId,n.video=(e==null?void 0:e.video)||!1,n}static fromParticipant(e){const n=new Be;return n.userId=e.id,n.status=e.status,n.participantType=e.type,n.externalId=e.info.externalId,n.name=e.info.name,n.avatarUrl=e.info.avatarUrl,n.audio=e.audioTransmitting||!1,n.video=e.videoTransmitting||!1,n}}class yi extends F{constructor(){super(Le.ConferenceLeaving)}}class Et extends F{constructor(){super(Le.ConferenceEnded)}}class gn extends F{constructor(e,n){super(Le.ConferenceGlobalError),this.error=e,n&&(this.code=n)}static fromData(e,n){return new gn(e,n)}}class Ie extends F{constructor(e){super(Le.ConferenceGlobalTrace),e.description&&(this.description=e.description),this.data=e.data,this.api=e.api,this.ts=Date.now()}static fromData(e){return new Ie(e)}}class pe extends F{constructor(){super(Le.ParticipantSwitched)}static fromData(e){const n=new pe;return n.userId=e.user_id,n}}class ge extends F{constructor(){super(Le.OwnParticipantSwitched)}}class Ce extends F{constructor(){super(Le.ConferenceDestroyed)}static fromData(e){const n=new Ce;return n.conferenceId=e.conferenceId,n.conferenceAlias=e.conferenceAlias,n}}class Ae extends F{constructor(){super(Le.DvcsMetric)}static fromData(e){const n=new Ae;return n.name=e.name,n.userId=e.userId,n.value=e.value,n}}class ut extends F{constructor(){super(Le.ActiveSpeakerChange),this.speakers=[],this.conferenceId=""}static fromData(e){const n=new ut;return n.speakers=e.activeSpeakers,n.conferenceId=e.conferenceId,n}}class it extends F{constructor(){super(Le.VideoForwardedChanged),this.videoForwardedId=[],this.conferenceId=""}static fromData(e){const n=new it;return n.videoForwardedId=e.videoForwardedId,n.conferenceId=e.conferenceId,n}}class et extends F{constructor(){super(Le.UpdateToken)}static fromData(e){const n=new et;return n.conferenceId=e.conferenceId,n.userId=e.userId,n.conferenceAccessToken=e.content.access_token,n}}class bt extends F{constructor(){super(Le.ParticipantKicked)}static fromData(e){const n=new bt;return n.userId=e.userId,n.status=e.status,n.participantType=e.participantType,n.audio=e.audio,n.audioReceivingStopped=e.audioReceivingStopped,n}}class Ze extends F{constructor(){super(Le.ConferenceVideoFilterUpdate)}static fromData(e){const n=new Ze;return n.filter=e.filter,n.filterOptions=e.filterOptions?e.filterOptions:{},n}}class _t extends F{constructor(){super(Le.StreamAdded)}static fromData(e){const n=new _t;return n.peerId=e==null?void 0:e.peerId,n.stream=e==null?void 0:e.stream,n}}class vn extends F{constructor(){super(Le.StreamRemoved)}static fromData(e){const n=new vn;return n.peerId=e==null?void 0:e.peerId,n.stream=e==null?void 0:e.stream,n}}class Jt extends F{constructor(){super(Le.StreamUpdated)}static fromData(e){const n=new Jt;return n.peerId=e==null?void 0:e.peerId,n.stream=e==null?void 0:e.stream,n}}class Lt extends F{constructor(){super(Le.BandwidthRestrictionChanged)}static fromData(e){const n=new Lt;return n.bandwidth=e==null?void 0:e.bandwidth,n}}class yn extends F{constructor(){super(Le.RtsStatusUpdated)}static fromData(e){const n=new yn;return n.status=e.status,n.streamName=e.streamName,n.streamAccountId=e.streamAccountId,n.subscribeToken=e.subscribeToken,n.conferenceId=e.conferenceId,n}}class lt extends F{constructor(e){super(Le.UserAction),this.level=e.level,this.action=e.action,this.description=e.description,this.component=e.component,this.api=e.api,this.payload=e.payload}static fromData(e){return new lt(e)}}class kn extends F{constructor(){super(Le.RecordingStatusUpdated)}static fromData(e){const n=new kn;return n.participantId=e.user_id,n.status=e.recording_status,n.startTimestamp=e.start_record_timestamp,n}static fromJoinEvent(e){const n=new kn;return n.participantId=e.recordingParticipant,n.status=e.recordingStatus,n.startTimestamp=e.recordingStartTimestamp,n}}class st extends F{constructor(){super(Le.ConferenceMessageReceived)}static fromData(e){const n=new st;return n.message=e.message,n.conferenceId=e.conference_id,n.participantId=e.user_id,n}}(function(t){t.USER="user",t.SPEAKER="speaker",t.LISTENER="listener",t.DOLBYVOICE="dolbyVoice",t.PSTN="pstn",t.MIXER="mixer",t.NONE="none",t.ROBOT="robot",t.MIXER_MIX="mixer_mix"})(W||(W={}));const Ln=t=>{switch(t){case"USER":default:return W.USER;case"SPEAKER":return W.SPEAKER;case"LISTENER":return W.LISTENER;case"MIXER":return W.MIXER;case"NONE":return W.NONE;case"ROBOT":return W.ROBOT;case"DOLBYVOICE":return W.DOLBYVOICE;case"MIXER_MIX":return W.MIXER_MIX}};var Rn;(function(t){t.RESERVED="Reserved",t.INACTIVE="Inactive",t.DECLINE="Decline",t.CONNECTING="Connecting",t.CONNECTED="Connected",t.LEFT="Left",t.WARNING="Warning",t.ERROR="Error",t.KICKED="Kicked"})(Rn||(Rn={}));const Ct=t=>{switch(t){case"RESERVED":return Rn.RESERVED;case"INACTIVE":return Rn.INACTIVE;case"DECLINE":return Rn.DECLINE;case"CONNECTING":default:return Rn.CONNECTING;case"ON_AIR":case"CONNECTED":return Rn.CONNECTED;case"LEFT":return Rn.LEFT;case"WARNING":return Rn.WARNING;case"ERROR":return Rn.ERROR;case"KICKED":return Rn.KICKED}};var z;(function(t){t.Status="status"})(z||(z={}));class Fn extends m.EventEmitter{constructor(e,n="CONNECTING",o="USER"){super(),this.info=new yt,this.streams=new Array,this.audioQuality=-1,this.audioTransmitting=!1,this.videoTransmitting=!1,this._audioReceivingStopped=!1,this.id=e,this.status=Ct(n),this.type=Ln(o)}init(e){this.updateStatus(e.status),this.info=new yt,this.info.name=e.name,this.info.externalId=e.externalId,this.info.avatarUrl=e.avatarUrl,this.audioTransmitting=e.audio,this._audioReceivingStopped=e.audioReceivingStopped,this.metadata=e.metadata,this.level=0,this.active=!1,this.type=Ln(e.participantType),this.videoTransmitting=(e==null?void 0:e.video)||!1}update(e){this.updateStatus(e.status),this.updateType(e.participantType),this.updateAudioReceivingStopped(e.audioReceivingStopped||!1),this.updateName(e.name),this.updateAvatarUrl(e.avatarUrl),this.updateExternalId(e.externalId),this.updateVideoTransmitting((e==null?void 0:e.video)||!1)}updateAudioTransmitting(e){this.audioTransmitting=e||!1}updateVideoTransmitting(e){this.videoTransmitting=e||!1}updateAudioReceivingStopped(e){this._audioReceivingStopped=e||!1}get audioReceivingFrom(){return this.audioTransmitting&&!this._audioReceivingStopped}get audio(){return this.audioTransmitting}updateType(e){this.type=Ln(e)}updateStatus(e){const n=this.status;this.status=Ct(e),n!==this.status&&this.emit(z.Status)}updateName(e){this.info.name=e}updateAvatarUrl(e){this.info.avatarUrl=e}updateExternalId(e){this.info.externalId=e}}class Jn extends F{constructor(){super(Le.InvitationReceived)}static fromData(e){const n=new Jn;return n.conferenceId=e.conferenceId,n.conferenceAlias=e.confAlias,n.conferenceToken=e.confToken,n.participant=new Fn(e.inviter.userId,"ON_AIR"),n.participant.info.name=e.inviter.nickName,n.participant.info.externalId=e.inviter.externalId,n.participant.info.avatarUrl=e.inviter.externalAvatarUrl,n}}class xi extends F{constructor(){super(Le.ConferenceCreatedNotification)}static fromData(e){const n=new xi;return n.conferenceId=e.conference.confId,n.conferenceAlias=e.conference.confAlias,n}}class Ir extends F{constructor(){super(Le.ConferenceEndedNotification)}static fromData(e){const n=new Ir;return n.conferenceId=e.conference.confId,n.conferenceAlias=e.conference.confAlias,n}}class ki extends F{constructor(){super(Le.ConferenceStatusNotification),this.participants=new Array}static fromData(e){const n=new ki;return n.conferenceId=e.confId,n.conferenceAlias=e.confAlias,n.live=e.live,e.participants.forEach(o=>{const c=new Fn(o.userId,o.status);c.info.name=o.externalName,c.info.externalId=o.externalId,n.participants.push(c)}),n}}class wi extends F{constructor(){super(Le.ParticipantJoinedNotification)}static fromData(e){const n=new wi;return n.conferenceId=e.conference.confId,n.conferenceAlias=e.conference.confAlias,n.participant=new Fn(e.participant.userId,"ON_AIR"),n.participant.info.externalId=e.participant.externalId,n.participant.info.name=e.participant.externalName,n}}class qe extends F{constructor(){super(Le.ParticipantLeftNotification)}static fromData(e){const n=new qe;return n.conferenceId=e.conference.confId,n.conferenceAlias=e.conference.confAlias,n.participant=new Fn(e.participant.userId,"LEFT"),n.participant.info.externalId=e.participant.externalId,n.participant.info.name=e.participant.externalName,n}}class Si extends F{constructor(){super(Le.ActiveParticipants),this.participants=[],this.participantCount=0,this.viewerCount=0}static fromData(e){const n=new Si;return n.participants=e.participants.map(o=>{const c=new Fn(o.userId,o.participantStatus,o.participantType);return c.updateName(o.externalName),c.updateExternalId(o.externalId),c}),n.conferenceId=e.conference.confId,n.conferenceAlias=e.conference.confAlias,n.participantCount=e.participantCount===e.participants.length?e.participantCount:e.participants.length,e.viewerCount&&(n.viewerCount=e.viewerCount),n}}class dn extends F{constructor(){super(Le.SessionOpened)}static fromData(){return new dn}}class _i extends F{constructor(){super(Le.LocalVideoStarted)}static fromData(e){const n=new _i;return n.track=e==null?void 0:e.track,n}}class Gt extends F{constructor(){super(Le.LocalVideoStopped)}static fromData(e){const n=new Gt;return n.track=e==null?void 0:e.track,n}}class Tn extends F{constructor(){super(Le.LocalVideoUpdated)}static fromData(e){const n=new Tn;return n.track=e==null?void 0:e.track,n}}class fi extends Event{constructor(e,n,o){super(Le.AudioStopped),this.participant=e,this.previousAudioTransmitting=n,this.audioTransmitting=o}}const Je=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},P),Z),ye),x),_),g),y),w),p),Le={};Object.keys(Je).forEach(t=>Le[t]=t);var h=mt(5130),E=mt.n(h);const U=E()("vxt:events");class L extends m.EventEmitter{constructor(){super()}register(e,n){n.map(o=>{e.__proto__["on"+o]?this.on(o,e.__proto__["on"+o].bind(e)):e["on"+o]?this.on(o,e["on"+o].bind(e)):this.on(o,c=>e.emit(o.toString(),c))})}send(e){!e&&U("Received undefined event"),e&&U("EventBus: "+e.type),e&&this.emit(e.type,e)}}const H=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},P),x),Z),ye),_),g),y),ie=new L;ie.setMaxListeners(18);var J=ie;class ke extends Error{constructor(e,n){super(n),this.message=n,this.name=e}}class De extends Error{constructor(e,n,o,c){super(n),this.message=n,this.name=e,this.peerId=o,this.underlyingError=c}}class Ye extends Error{constructor(e){super(e.message),this.message=e.message,this.name=e.name,e.constraint&&(this.constraint=e.constraint)}toString(){return this.constraint?`${this.name}: ${this.message} '${this.constraint}'`:`${this.name}: ${this.message}`}}class dt extends Error{constructor(e){super(e),this.message=e,this.name="MediaError"}}class wt extends Error{constructor(e,n){super(n),this.message=n,this.name=e}}class ot extends Error{constructor(e,n){super(n),this.message=n,this.name=e}}class ct extends Error{constructor(e){super("ServerError"),this.name="ServerError",this.data=e.response?e.response.data:{},this.status=e.response?e.response.status:"",this.statusText=e.response?e.response.statusText:"",this.code=e.response?e.response.data.error_code:"",this.reason=e.response?e.response.data.error_reason:"",this.description=e.response?e.response.data.error_description:"",this.message=this.description}}class bn extends Error{constructor(e){super(),this.name="WebSocketError",this.message=e}}class at extends Error{constructor(e="Your client does not support this functionality."){super(),this.name="UnsupportedError",this.message=e}}class Ht extends Error{constructor(e){super(),this.name="VideoForwardingError",this.message=e}}class jn extends Error{constructor(e){super(),this.name="SpatialAudioError",this.message=e}}class Sn extends Error{constructor(e){super(e),this.name="VideoServiceError",this.message=e}}class he extends Error{constructor(e){super(),this.name="ParameterError",this.message=e}}class Me extends Error{constructor(e){super(),this.message=e,this.name="SessionError"}}class Ge extends Error{constructor(e,n){super(),this.message=`Failed to select ${n} device. Reason: ${e}`,this.name="DeviceChangeError"}}class Te extends Error{constructor(e,n){super(),this.message=n,this.name=e}}const nt=t=>new De("NotFoundError","Unable to find peer.",t),ft=t=>new De("InvalidPeerOfferError","Received an offer with media description for invalid peerId: "+t),vt=()=>new ke("InsufficientPermissionsError","Insufficient permissions for this operation"),Ot=t=>new De("PeerConnectionFailedError","Peer connection has failed to connect.",t),Yt=()=>new ke("UninitializedError","Conference is not initialized."),Cn=()=>new Me("Refresh token is null or undefined, please check your callback."),Nn=(t,e)=>new De("DataChannelError","Data channel connection failed. Reason: "+e,t),Zt=(t,e)=>{let n=e||"Video processor exception";return t&&(t.name&&(n+=`, name: "${t.name}"`),t.message&&(n+=`, message: "${t.message}"`)),new Sn(n)},An=(t,e)=>{let n;switch(t){case 1:n="MEDIA_ERR_ABORTED";break;case 2:n="MEDIA_ERR_NETWORK";break;case 3:n="MEDIA_ERR_DECODE";break;case 4:n="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:n="UNDEFINED"}return new Ye({name:"AudioRendererError",message:`The error ${n}(${t}) occured while rendering the audio. Error message: '${e}'`})};class It extends m.EventEmitter{constructor(e){super(),this._sdk=e}}class Nt extends It{constructor(e){super(e),J.register(this,[Le.ConferenceJoined,Le.ConferenceLeft])}onConferenceJoined(e){this._conferenceId=e.conferenceId}onConferenceLeft(e){this._conferenceId=null}checkConference(){if(!this._conferenceId)throw Yt()}}function pn(t){return function(e){let n=function(...o){let c=function(){return new e(...o)};c.prototype=e.prototype;let v=new c;return J.register(v,t),v};return n.prototype=e.prototype,n}}var Jr=mt(9644),Fi=mt.n(Jr),Ti=mt(9640),Tt=mt.n(Ti);class ei extends b(){constructor(){super();try{this._isAvailable=DolbyVoice.prototype.hasOwnProperty("setTransparentMode")}catch{this._isAvailable=!1}}isAvailable(){return this._isAvailable}}var Ni,qt,ln,Mi,er,ko,Hi,Yi,Pr,Kr,Vr,zi,Rr,Br,Zr,bo,Qr,En,Wr,Zo,Bs,Fa,zc=ei,Uc=mt(2382),Ws=mt.n(Uc),Wd=mt(7160),Gs=mt.n(Wd);class Qe{static get parsed(){return typeof window!="undefined"&&window.navigator!==void 0&&window.navigator.userAgent!==void 0?Gs().getParser(window.navigator.userAgent):null}}Qe.isFirefox=(qt=(Ni=Qe.parsed)===null||Ni===void 0?void 0:Ni.is("Firefox"))!==null&&qt!==void 0&&qt,Qe.isChrome=(Mi=(ln=Qe.parsed)===null||ln===void 0?void 0:ln.is("Chrome"))!==null&&Mi!==void 0&&Mi,Qe.isEdge=(ko=(er=Qe.parsed)===null||er===void 0?void 0:er.is("Microsoft Edge"))!==null&&ko!==void 0&&ko,Qe.isSafari=(Yi=(Hi=Qe.parsed)===null||Hi===void 0?void 0:Hi.is("Safari"))!==null&&Yi!==void 0&&Yi,Qe.isElectron=(Kr=(Pr=Qe.parsed)===null||Pr===void 0?void 0:Pr.is("Electron"))!==null&&Kr!==void 0&&Kr,Qe.isExplorer=(zi=(Vr=Qe.parsed)===null||Vr===void 0?void 0:Vr.is("Internet Explorer"))!==null&&zi!==void 0&&zi,Qe.isAndroid=(Br=(Rr=Qe.parsed)===null||Rr===void 0?void 0:Rr.is("android"))!==null&&Br!==void 0&&Br,Qe.isIOS=(bo=(Zr=Qe.parsed)===null||Zr===void 0?void 0:Zr.is("ios"))!==null&&bo!==void 0&&bo,Qe.isDesktop=((Qr=Qe.parsed)===null||Qr===void 0?void 0:Qr.getPlatformType())==="desktop",Qe.isMobile=((En=Qe.parsed)===null||En===void 0?void 0:En.getPlatformType())==="mobile",Qe.isWindows=((Wr=Qe.parsed)===null||Wr===void 0?void 0:Wr.getOSName())==="windows",Qe.isMacOS=((Zo=Qe.parsed)===null||Zo===void 0?void 0:Zo.getOSName())==="macOS",Qe.isVideoProcessingSupported=(Bs=Qe.parsed)===null||Bs===void 0?void 0:Bs.satisfies({desktop:{electron:">=13",chrome:">=91",edge:">=91"}}),Qe.requiresScreenshareWorkaround=Qe.isIOS&&Qe.isSafari||Qe.isSafari&&!(!((Fa=Qe.parsed)===null||Fa===void 0)&&Fa.satisfies({safari:">16.2"}));const tr="00000000-0000-0000-0000-000000000000",eo=typeof ri!="undefined"&&!ri.window,Fu=Qe.isElectron;Qe.parsed,eo?(ri.WebSocket=mt(6946),ri.navigator=ri.window||{},Fu?(ri.Buffer=mt(2349).Buffer,ri.window=ri.window||{}):(ri.navigator.mediaDevices={},ri.navigator.mediaDevices.enumerateDevices=function(){},ri.MediaStream=class{getTracks(){return[]}getAudioTracks(){return[]}getVideoTracks(){return[]}},ri.self=globalThis,ri.location={href:""}),typeof btoa=="undefined"&&(ri.btoa=function(t){return new Buffer(t).toString("base64")}),typeof atob=="undefined"&&(ri.atob=function(t){return new Buffer(t,"base64").toString()})):Ws()(window,{shimChrome:!1,shimFirefox:!1,shimEdge:!0,shimSafari:!1});const Vc=new zc;var Gd=eo?{}:window.RTCIceCandidate||window.webkitRTCIceCandidate||window.mozRTCIceCandidate,Gn=eo?{}:window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection,to=eo?{}:window.RTCSessionDescription||window.webkitRTCSessionDescription||window.mozRTCSessionDescription,Nu=eo?{}:window.AudioContext||window.webkitAudioContext||window.mozAudioContext;const zu=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;navigator.getUserMedia=(t={})=>new Promise((e,n)=>{zu.call(window.navigator,t,o=>{e(o)},o=>{n(o)})}),!navigator.mediaDevices||navigator.mediaDevices.getDisplayMedia&&!Fu||(navigator.mediaDevices.getDisplayMedia=t=>{return e=void 0,n=void 0,c=function*(){let v={},j=t&&t.sourceId;return window.getScreenSourceId&&(j=yield window.getScreenSourceId()),j&&(Qe.isElectron||Qe.isChrome?v={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:j,maxWidth:1920,maxHeight:1080}}}:Qe.isFirefox&&(v={video:{mediaSource:t.sourceId,maxWidth:1920,maxHeight:1080}})),navigator.mediaDevices.getUserMedia(v)},new((o=void 0)||(o=Promise))(function(v,j){function X(B){try{D(c.next(B))}catch(ue){j(ue)}}function O(B){try{D(c.throw(B))}catch(ue){j(ue)}}function D(B){var ue;B.done?v(B.value):(ue=B.value,ue instanceof o?ue:new o(function(je){je(ue)})).then(X,O)}D((c=c.apply(e,n||[])).next())});var e,n,o,c});var nr=Qe.isExplorer,Hs=function(t,e){if(nr)t&&t.nodeName==="VIDEO"&&(t.videoRenderer&&VideoRenderer.unhandle(t),VideoRenderer.handle(t)),t.srcObject=e;else if((t==null?void 0:t.srcObject)!==void 0)if(Qe.isSafari){const n=t.srcObject&&t.srcObject.getAudioTracks(),o=e&&e.getAudioTracks();t&&t instanceof HTMLVideoElement?requestAnimationFrame(()=>{t.srcObject=e}):(!n||!o||n.length!==o.length||n.length>0&&o.length>0&&n[0].id!==o[0].id)&&(t.srcObject=e)}else t.srcObject=e;else(t==null?void 0:t.mozSrcObject)!==void 0?t.mozSrcObject=e:(t==null?void 0:t.src)!==void 0?t.src=e===null?"":URL.createObjectURL(e):Tt().error("Error attaching stream to element.");return t};navigator.attachMediaStream=Hs;var Bc=mt(5595);class no{constructor(e,n,o,c,v,j,X,O,D,B){this.getHost=X,this.map=O,this.accessToken=null,this.conferenceToken=null,this.getToken=n,this.setToken=o,this.getCurrentConferenceToken=j,this.getUserToken=c,this.getRefreshTokenCb=v,this.hashId=e,this.isTokenExpired=D,this.getLeavingCallback=B,eo&&(this.cookie=null,this.cookiejar=new Bc.US,Fi().interceptors.request.use(ue=>(this.cookiejar.getCookies(ue.url,(je,Ve)=>{ue.headers.cookie=Ve.join("; ")}),ue)),Fi().interceptors.response.use(ue=>(ue.headers["set-cookie"]instanceof Array&&ue.headers["set-cookie"].forEach(je=>{const Ve=Bc.Vj.parse(je);Ve.key==="vxtk"&&(this.cookiejar.setCookie(Ve,ue.config.url,function(ht,St){}),this.cookie=Ve.value)}),ue))),Fi().interceptors.response.use(ue=>ue,ue=>{const{response:{status:je}}=ue;return je===401&&this.getLeavingCallback(),Promise.reject(ue)}),this.inject()}handleRequest(e,n,o){return c=this,v=void 0,X=function*(){const O=o&&o.data?o.data:{},D=o&&o.queryParams?o.queryParams:{};let B=o&&o.headers?o.headers:{},ue=this.getHost()+this.templateUri(e,o)+this.appendQueryParams(D);this.isTokenExpired()&&(yield this.getRefreshTokenCb()),this.accessToken=this.getToken(),this.jwtUserToken=this.getUserToken?this.getUserToken():null,this.conferenceToken=this.getCurrentConferenceToken?this.getCurrentConferenceToken():null,B=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B),{"Content-Type":"application/json","Voxeet-Id":this.hashId}),this.accessToken&&{Authorization:`Bearer ${this.accessToken}`}),this.jwtUserToken&&{"X-Token":this.jwtUserToken}),this.conferenceToken&&{"X-conf-access-token":this.conferenceToken});const je={method:n,headers:B,withCredentials:!0};return o&&o.keepAlive?(je.keepalive=!0,je.body=JSON.stringify(O),fetch(ue,je)):(je.data=O,je.url=ue,Fi()(je).then(Ve=>Ve).catch(Ve=>{throw Ve.response&&Ve.response.data.error_code===114?vt():new ct(Ve)}))},new((j=void 0)||(j=Promise))(function(O,D){function B(Ve){try{je(X.next(Ve))}catch(ht){D(ht)}}function ue(Ve){try{je(X.throw(Ve))}catch(ht){D(ht)}}function je(Ve){var ht;Ve.done?O(Ve.value):(ht=Ve.value,ht instanceof j?ht:new j(function(St){St(ht)})).then(B,ue)}je((X=X.apply(c,v||[])).next())});var c,v,j,X}appendQueryParams(e){let n=[];for(let o in e)e.hasOwnProperty(o)&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return n.length>0?"?"+n.join("&"):""}templateUri(e,n){return e.replace(/\{([^\{\}]+)\}/g,(o,c)=>(n[c]||Tt().debug("Failed to find parameter :",c,"for uri: ",e),n[c]))}inject(){this.getCookie=function(){return this.cookie};for(let e in this.map)this[e]=function(n){return this.handleRequest(this.map[e].uri,this.map[e].method,n)}}}class vs{static inject(e,n,o,c,v,j,X,O,D=!1,B,ue){const je=vs.generateId(40);for(let Ve in O)D?(e[Ve]=new no(je,n,o,c,v,j,X,O[Ve],B,ue),e.getHashId=function(){return je}):(e.prototype[Ve]=new no(je,n,o,c,v,j,X,O[Ve],B,ue),e.prototype.getHashId=function(){return je});return e.prototype.getHashId=function(){return je},e}static byteToHex(e){return("0"+e.toString(16)).slice(-2)}static generateId(e){return Array(e+1).join((Math.random().toString(36)+"00000000000000000").slice(2,18)).slice(0,e)}}var Wc=vs;class Qt{static getToken(){return Qt.accessToken}static setToken(e){Qt.accessToken=e}static setAccessTokenExpiration(e){Qt.accessTokenExpiration=e}static getJwtToken(){return Qt.jwtToken}static setJwtToken(e){Qt.jwtToken=e}static getTokenCallback(){return Qt.tokenCallback}static getHost(){return Qt.host}static getAccessTokenExpiration(){return Qt.accessTokenExpiration}static getLeavingCallback(){return Qt.leavingCallback}static isTokenExpired(){return Qt.accessTokenExpiration-new Date().getTime()/1e3<0}static setRegion(e){e&&e.length===2&&this.flavor!=="devssl"&&this.flavor!=="development"?(Qt.host=this.flavor==="staging"?`https://${e}.comms.sdk.staging.dolbyio.com`:`https://${e}.comms.sdk.dolby.io`,Qt.wsHost=this.flavor==="staging"?`wss://${e}.comms.sdk.staging.dolbyio.com`:`wss://${e}.comms.sdk.dolby.io`):(Qt.host="https://comms.sdk.dolby.io",Qt.wsHost="wss://comms.sdk.dolby.io")}static getCurrentConferenceToken(){return Qt.currentConferenceToken}static setCurrentConferenceToken(e){Qt.currentConferenceToken=Qt.conferenceTokens.get(e)}static getConferenceToken(e){return Qt.conferenceTokens.get(e)}static setConferenceTokens(e,n){Qt.conferenceTokens=Qt.conferenceTokens.set(e,n)}static clearConferenceTokens(){Qt.conferenceTokens.clear()}}Qt.conferenceTokens=new Map,Qt.host="https://comms.sdk.dolby.io",Qt.wsHost="wss://comms.sdk.dolby.io",Qt.flavor="production",Wc.inject(Qt,Qt.getToken,Qt.setToken,Qt.getJwtToken,Qt.getTokenCallback,Qt.getCurrentConferenceToken,Qt.getHost,{version:"2.0",init:{register:{method:"POST",uri:"/v1/oauth2/token"},refresh:{method:"POST",uri:"/v1/oauth2/refresh"},invalidate:{method:"POST",uri:"/v1/oauth2/invalidate"},identify:{method:"POST",uri:"/v2/users/identify"},logout:{method:"POST",uri:"/v1/users/logout"},updateParticipantInfo:{method:"POST",uri:"/v2/users/update"}},conferences:{updatePermissions:{method:"POST",uri:"/v1/conferences/{conferenceId}/permissions"},kick:{method:"POST",uri:"/v1/conferences/{conferenceId}/kick/{peerId}"},invite:{method:"POST",uri:"/v1/conferences/{conferenceId}/invite"},answer:{method:"POST",uri:"/v1/conferences/{conferenceId}/answer/{peerId}"},candidates:{method:"POST",uri:"/v1/conferences/{conferenceId}/candidates/{peerId}"},broadcast:{method:"POST",uri:"/v1/conferences/{conferenceId}/send"},create:{method:"POST",uri:"/v1/conferences/create"},getDemo:{method:"GET",uri:"/v1/conferences/demo"},joinRoom:{method:"POST",uri:"/v1/conferences/{conferenceId}/join"},leave:{method:"POST",uri:"/v1/conferences/{conferenceId}/leave"},videoForwarding:{method:"POST",uri:"/v1/conferences/{conferenceId}/videoforwarding"},stopVideo:{method:"GET",uri:"/v1/conferences/{conferenceId}/video/{peerId}/stop"},startVideo:{method:"GET",uri:"/v1/conferences/{conferenceId}/video/{peerId}/start"},stopMedia:{method:"POST",uri:"/v1/conferences/{conferenceId}/media/{peerId}/stop"},startMedia:{method:"POST",uri:"/v1/conferences/{conferenceId}/media/{peerId}/start"},subscribe:{method:"GET",uri:"/v1/conferences/{conferenceId}/subscribe"},unsubscribe:{method:"DELETE",uri:"/v1/conferences/{conferenceId}/subscribe"},status:{method:"POST",uri:"/v1/conferences/{conferenceId}/status"},postRenegociate:{method:"POST",uri:"/v1/conferences/{conferenceId}/renegociate"},renegociate:{method:"GET",uri:"/v1/conferences/{conferenceId}/renegociate"},startRecording:{method:"POST",uri:"/v1/conferences/{conferenceId}/recording/start"},stopRecording:{method:"GET",uri:"/v1/conferences/{conferenceId}/recording/stop"},replay:{method:"POST",uri:"/v1/conferences/{conferenceId}/replay"},reserve:{method:"POST",uri:"/v1/conferences/{conferenceId}/reserve"},setMode:{method:"POST",uri:"/v1/conferences/{conferenceId}/mode"},mix:{method:"POST",uri:"/v1/conferences/{conferenceId}/mix"},download:{method:"GET",uri:"/v1/conferences/{conferenceId}/download"},mixUrl:{method:"GET",uri:"/v1/conferences/{conferenceId}/url"},wait:{method:"GET",uri:"/v1/conferences/{conferenceId}/wait"},getStats:{method:"GET",uri:"/v1/conferences/{conferenceId}/stats"},simulcast:{method:"POST",uri:"/v1/conferences/{conferenceId}/simulcast"},error:{method:"POST",uri:"/v1/conferences/{conferenceId}/error"},audioUpdate:{method:"POST",uri:"/v1/conferences/{conferenceId}/audio/{peerId}/update"},updateParticipantInfo:{method:"POST",uri:"/v1/conferences/{conferenceId}/metadata/{peerId}"}},screen:{start:{method:"GET",uri:"/v1/conferences/{conferenceId}/sharing/start"},stop:{method:"GET",uri:"/v1/conferences/{conferenceId}/sharing/stop"}},fileshare:{start:{method:"POST",uri:"/v1/conferences/{conferenceId}/filepresentation/start"},update:{method:"POST",uri:"/v1/conferences/{conferenceId}/filepresentation/update"},stop:{method:"POST",uri:"/v1/conferences/{conferenceId}/filepresentation/stop"}},externallive:{start:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/live/start"},stop:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/live/stop"}},hls:{start:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/hls/start"},stop:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/hls/stop"}},videoshare:{start:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/start"},stop:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/stop"},play:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/play"},pause:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/pause"},seek:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/seek"}},tyw:{speaker:{method:"GET",uri:"/v1/conferences/{conferenceId}/speaker"},setMetadata:{method:"POST",uri:"/v1/conferences/{conferenceId}/metadata"}},subscription:{post:{method:"POST",uri:"/v1/subscriptions"},delete:{method:"DELETE",uri:"/v1/subscriptions"}}},!0,Qt.isTokenExpired,Qt.getLeavingCallback);var Re=Qt;class Hd{constructor(e,n,o){this.ownerId=e,this.url=n,this.timestamp=o}}var ir,io,wo,Qo,ea,vr,Na=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j},yr=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},qi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};(function(t){t.PLAYING="playing",t.PAUSED="paused",t.STOPPED="stopped"})(ea||(ea={})),function(t){t.Started="started",t.Stopped="stopped",t.Played="played",t.Pause="paused",t.Seek="sought"}(vr||(vr={}));let Ar=class extends Nt{constructor(t,e){super(t),ir.set(this,void 0),io.set(this,void 0),wo.set(this,void 0),Qo.set(this,!1),yr(this,wo,e),this.clear()}clear(){yr(this,ir,null),yr(this,io,ea.STOPPED)}start(t){return qi(this,Qo)?Promise.reject(new at("A client who joined as a listener cannot start sharing a video file.")):Re.videoshare.start({conferenceId:this._conferenceId,data:{url:t}}).then(e=>{})}stop(){return Re.videoshare.stop({conferenceId:this._conferenceId})}play(){return Re.videoshare.play({conferenceId:this._conferenceId})}pause(t){return Re.videoshare.pause({conferenceId:this._conferenceId,data:{timestamp:t}})}seek(t){return Re.videoshare.seek({conferenceId:this._conferenceId,data:{timestamp:t}})}onVideoPresentationStarted(t){yr(this,ir,new Hd(t.userId,t.url,t.timestamp)),qi(this,ir).owner=qi(this,wo).participants.get(t.userId),yr(this,io,ea.PLAYING),this.emit(vr.Started,qi(this,ir))}onVideoPresentationStopped(t){this.clear(),this.emit(vr.Stopped)}onVideoPresentationPlay(t){yr(this,io,ea.PLAYING),qi(this,ir).timestamp=t.timestamp,this.emit(vr.Played,qi(this,ir))}onVideoPresentationPause(t){yr(this,io,ea.PAUSED),qi(this,ir).timestamp=t.timestamp,this.emit(vr.Pause,qi(this,ir))}onVideoPresentationSeek(t){qi(this,ir).timestamp=t.timestamp,this.emit(vr.Seek,qi(this,ir))}get current(){return qi(this,ir)}get state(){return qi(this,io)}onConferenceJoined(t){super.onConferenceJoined(t),yr(this,Qo,!!t.listenOnly)}onConferenceLeft(t){qi(this,ir)&&(this.clear(),this.emit(vr.Stopped)),super.onConferenceLeft(t),yr(this,Qo,!1)}};ir=new WeakMap,io=new WeakMap,wo=new WeakMap,Qo=new WeakMap,Na([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Ar.prototype,"start",null),Na([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Ar.prototype,"stop",null),Na([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Ar.prototype,"play",null),Na([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Ar.prototype,"pause",null),Na([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Ar.prototype,"seek",null),Ar=Na([pn([Le.VideoPresentationStarted,Le.VideoPresentationStopped,Le.VideoPresentationPlay,Le.VideoPresentationPause,Le.VideoPresentationSeek])],Ar);class rr{static getHost(){return rr.host}static setRegion(e){e&&e.length===2&&this.flavor!=="devssl"&&this.flavor!=="development"?rr.host=this.flavor==="staging"?`https://${e}.comms.sdk.staging.dolbyio.com`:`https://${e}.comms.sdk.dolby.io`:rr.host="https://comms.sdk.dolby.io"}}rr.host="https://comms.sdk.dolby.io",rr.flavor="production",rr.endpoints={file:{convert:{method:"POST",uri:"/v1/files/convert"},urlConvert:{method:"POST",uri:"/v1/files/urlConvert"},getImage:{method:"GET",uri:"/v1/files/{fileId}/converted/{page}"},getThumbnail:{method:"GET",uri:"/v1/files/{fileId}/converted/{page}/thumbnail"}}},Wc.inject(rr,Re.getToken,Re.setToken,Re.getJwtToken,Re.getTokenCallback,()=>{},rr.getHost,rr.endpoints,!0,Re.isTokenExpired,Re.getLeavingCallback);var Ys,qs,ji,ta,Ui=rr,za=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j},Yd=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},Ua=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},He=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};(function(t){t.Converted="converted",t.ConversionProgress="conversionProgress",t.Started="started",t.Updated="updated",t.Stopped="stopped"})(ta||(ta={}));let na=class extends Nt{constructor(t,e){super(t),Ys.set(this,void 0),qs.set(this,!1),ji.set(this,null),Ua(this,Ys,e)}convert(t){if(t.size>262144e3)throw new Error("File size exceeds 250 MB, the maximum file size.");let e=new FormData;return e.append("file",t),Ui.file.convert({data:e})}convertUrl(t,e){return Ui.file.urlConvert({data:{filename:t,url:e}})}start(t){return He(this,qs)?Promise.reject(new at("A client who joined as a listener cannot share a file.")):Re.fileshare.start({conferenceId:this._conferenceId,data:{fileId:t.id,imageCount:t.imageCount}}).then(e=>e.data)}update(t){return Yd(this,void 0,void 0,function*(){return this.checkPresentation(),(yield Re.fileshare.update({conferenceId:this._conferenceId,data:{fileId:He(this,ji).id,position:t}})).data})}stop(){return Yd(this,void 0,void 0,function*(){return this.checkPresentation(),(yield Re.fileshare.stop({conferenceId:this._conferenceId,data:{fileId:He(this,ji).id}})).data})}image(t,e){let n=e;return n||(this.checkPresentation(),n=He(this,ji).id),Promise.resolve(`${Ui.host}/v1/files/${n}/converted/${t}?token=${Re.jwtToken}&hashId=${Re.getHashId()}`)}thumbnail(t,e){let n=e;return n||(this.checkPresentation(),n=He(this,ji).id),Promise.resolve(`${Ui.host}/v1/files/${n}/converted/${t}/thumbnail/?token=${Re.jwtToken}&hashId=${Re.getHashId()}`)}checkPresentation(){if(!He(this,ji))throw new Error("File Presentation not stated")}onFileConverted(t){this.emit(ta.Converted,t.files[0])}onFileConversionProgress(t){this.emit(ta.ConversionProgress,t.fileConversion)}onFilePresentationStarted(t){Ua(this,ji,t.file),He(this,ji).owner=He(this,Ys).participants.get(t.file.ownerId),this.emit(ta.Started,He(this,ji))}onFilePresentationUpdated(t){He(this,ji).position=t.file.position,this.emit(ta.Updated,He(this,ji))}onFilePresentationStopped(t){const e=He(this,ji);Ua(this,ji,null),this.emit(ta.Stopped,e)}get current(){return He(this,ji)}onConferenceJoined(t){super.onConferenceJoined(t),Ua(this,qs,!!t.listenOnly)}onConferenceLeft(t){if(He(this,ji)){const e=He(this,ji);Ua(this,ji,null),this.emit(ta.Stopped,e)}super.onConferenceLeft(t),Ua(this,qs,!1)}};Ys=new WeakMap,qs=new WeakMap,ji=new WeakMap,za([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],na.prototype,"start",null),za([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],na.prototype,"update",null),za([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],na.prototype,"stop",null),na=za([pn([Le.FileConversionProgress,Le.FileConverted,Le.FilePresentationStarted,Le.FilePresentationStopped,Le.FilePresentationUpdated])],na);var mn=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j};class So extends Nt{constructor(e){super(e)}start({uri:e="",hls:n=!1}){return n?Re.hls.start({conferenceId:this._conferenceId}):Re.externallive.start({conferenceId:this._conferenceId,data:{uri:e}})}stop({hls:e=!1}={}){return e?Re.hls.stop({conferenceId:this._conferenceId}):Re.externallive.stop({conferenceId:this._conferenceId})}}mn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],So.prototype,"start",null),mn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],So.prototype,"stop",null);class Gc extends It{constructor(e){super(e)}hasElectron(){return Vc.isAvailable()}}var ia,en,ro,Gr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};(function(t){t.Camera="Camera",t.ScreenShare="ScreenShare",t.Custom="Custom",t.CustomVideo="CustomVideo"})(en||(en={})),function(t){t[t.Camera=0]="Camera",t[t.ScreenShare=1]="ScreenShare",t[t.Custom=2]="Custom"}(ro||(ro={}));class Va extends MediaStream{constructor(e){super(e),this.type=en.Camera,ia.set(this,[]),Gr(this,ia).push(new $s)}addTrack(e){e instanceof MediaStreamTrack?super.addTrack(e):Gr(this,ia).push(e)}removeTrack(e){e instanceof MediaStreamTrack?super.removeTrack(e):Gr(this,ia).shift()}getAudioTracks(){return Gr(this,ia)}getTracks(){return[...super.getTracks(),...this.getAudioTracks()]}}ia=new WeakMap;class $s{constructor(){this.id="fakeAudioTrack",this.kind="audio",this.enabled=!0}applyConstraints(e){return Promise.resolve()}clone(){return this}getCapabilities(){return null}getConstraints(){return null}getSettings(){return null}stop(){}addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}}var ci=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})};class ys extends m.EventEmitter{constructor(){super()}addPeer({peerId:e,description:n,candidates:o,isMaster:c,state:v="default",wasmEnabled:j}){return ci(this,void 0,void 0,function*(){const{peer:X,isNew:O}=yield this.createPeerConnection(e,v,c);yield this.updateMasterStream(e,v,c),this.initAudioOutputSelection(),yield this.setRemoteDescription(e,this.getSsrc(n.sdp),n.type,n.sdp,n.oid),O&&!eo&&X&&X.isMaster&&(yield this.addMasterStream(X)),yield Promise.all(o.map(D=>ci(this,void 0,void 0,function*(){yield this.setPeerCandidate(e,D.mid,D.mline_index,D.sdp)}))),yield this.createAnswer(e,v,n.oid,j)})}setRemoteSdp(e,n,o,c){return ci(this,void 0,void 0,function*(){return yield this.setRemoteDescription(e,this.getSsrc(n.sdp),n.type,n.sdp,n.oid,c)})}removePeer(e){this.closePeerConnection(e).catch(n=>console.warn("Peer connection close error",n.message)),this.removePeerConnection(e)}getSsrc(e){var n=/a=ssrc\:(.*?)\s/gm.exec(e);return Tt().trace("VoxeetRTC.getSsrc",n),n&&n[1]!=null?n[1]:"0"}checkStream(e){let n=/([0-9]*)_?([a-zA-Z0-9]*)_?([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})/gm.exec(e.id);return n[1]==ro.Camera?e.type=en.Camera:n[1]==ro.ScreenShare?e.type=en.ScreenShare:n[1]>=ro.Custom?(e.label=n[2],e.type=en.Custom):e.type=en.Camera,n[3]}updateMasterStream(e,n,o){return Promise.resolve()}sessionCreatedEvent(e,n,o,c,v,j,X){Tt().trace("VoxeetRTC.onSessionCreated",e,n,o,X),this.emit("sessionCreated",e,n,o,c,v,j,X)}addStreamEvent(e,n){Tt().trace("VoxeetRTC.addStream",e,n),this.emit("addStream",e,n)}updateStreamEvent(e,n){Tt().trace("VoxeetRTC.updateStream",e,n),this.emit("updateStream",e,n)}removeStreamEvent(e){Tt().trace("VoxeetRTC.removeStream",e),this.emit("removeStream",e)}addScreenStreamEvent(e,n){Tt().trace("VoxeetRTC.addScreenStream",e,n),this.emit("addScreenStream",e,n)}removeScreenStreamEvent(e,n){Tt().trace("VoxeetRTC.removeScreenStream"),this.emit("removeScreenStream",e,n)}endedScreenStreamEvent(){this.emit("endedScreenStream")}updateScreenStreamEvent(e,n){this.emit("updateScreenStream",e,n)}iceCandidatesGatheringCompleteEvent(e,n){this.emit("iceCandidatesGatheringComplete",e,n)}connectionStatusEvent(e){this.emit("connectionStatus",e)}initializeCallstats(e,n){return Promise.resolve()}init({constraints:e,processCb:n,listenOnly:o,ownerId:c,options:v}){Tt().error("abstract implementation init")}release(){return ci(this,void 0,void 0,function*(){Tt().error("abstract implementation release")})}createPeerConnection(e,n,o){Tt().error("abstract implementation createPeerConnection")}closePeerConnection(e){Tt().error("abstract implementation closePeerConnection")}removePeerConnection(e){Tt().error("abstract implementation removePeerConnection")}createAnswer(e,n="default",o,c){Tt().error("abstract implementation createAnswer")}setRemoteDescription(e,n,o,c,v,j){Tt().error("abstract implementation setRemoteDescription")}setPeerCandidate(e,n,o,c){Tt().error("abstract implementation setPeerCandidate")}toggleMute(e){Tt().error("abstract implementation")}toggleOwnMute(){Tt().error("abstract implementation")}mutePeer(e,n){Tt().error("abstract implementation")}getLevel(e,n){Tt().error("abstract implementation")}isSpeaking(e,n){Tt().error("abstract implementation")}initAudioOutputSelection(){Tt().error("abstract implementation")}setPeerPosition(e,n,o){Tt().error("abstract implementation setPeerPosition")}getPeerPosition(e){Tt().error("abstract implementation getPeerPosition")}setGain(e,n){Tt().error("abstract implementation")}startVideoForPeer(e,n){Tt().error("abstract implementation")}stopVideoForPeer(e){Tt().error("abstract implementation")}startScreenShare(e){Tt().error("abstract implementation")}stopScreenShare(){Tt().error("abstract implementation")}changeRecordingDevice(){Tt().error("abstract implementation")}selectAudioInput(e){Tt().error("abstract implementation")}selectVideoInput(e){Tt().error("abstract implementation")}selectAudioOutput(e){Tt().error("abstract implementation")}getInboundRtpStats(){return Tt().warn("Abstract getInboundRtpStats"),Promise.resolve()}configureStateDump(e=60){return ci(this,void 0,void 0,function*(){return Promise.resolve()})}getStateDumpConfiguration(){return ci(this,void 0,void 0,function*(){return Promise.resolve(0)})}createStateDump(e){return ci(this,void 0,void 0,function*(){return Promise.resolve()})}setTransparentMode(e){return ci(this,void 0,void 0,function*(){Tt().error("abstract implementation setTransparentMode")})}setComfortNoiseLevel(e){return ci(this,void 0,void 0,function*(){Tt().error("abstract implementation setComfortNoiseLevel")})}getComfortNoiseLevel(){return ci(this,void 0,void 0,function*(){Tt().error("abstract implementation getComfortNoiseLevel")})}stopRtsView(){Tt().error("abstract implementation stopRtsView")}startRtsView(e,n,o){return ci(this,void 0,void 0,function*(){Tt().error("abstract implementation startRtsView")})}muteOutput(e){Tt().error("abstract implementation muteOutput")}setVideoForwarding(e){Tt().error("abstract implementation setVideoForwarding")}removeVideoForwarding(e){Tt().error("abstract implementation removeVideoForwarding")}}var qd=ys,$d=mt(673),Uu=mt.n($d);class Hl extends qd{constructor(){super(),this.engine=null,this.ownerId=null,this.peers=[],this.isMuted=!1,this.mutedPeer=[],this.speechThreshold=.05,this.ssMsid="none"}enumerateAudioDevices(e){return e==="input"?Promise.resolve(this.engine.enumerateAudioDevices()):Promise.resolve(this.engine.enumerateAudioOutputDevices())}static enumerateAudioDevices(e){return Promise.resolve([])}static enumerateVideoDevices(){return Promise.resolve(MediaEngine.enumerateVideoDevices())}init({constraints:e,processCb:n,listenOnly:o,ownerId:c,mixing:v}){return new Promise((j,X)=>{try{this.ownerId=c,v.uri.search("rtmp://")===-1&&(v.uri=Uu().join("out/",v.uri)),this.engine=new MediaEngine,v.enabled?this.engine.initMixer(v.uri):this.engine.init(),this.engine.on("sessionCreated",this.onSessionCreated.bind(this)),this.engine.on("sessionError",this.onSessionError.bind(this)),this.engine.on("streamAdded",this.onStreamAdded.bind(this)),this.engine.on("streamUpdated",this.onStreamUpdated.bind(this)),this.engine.on("streamRemoved",this.onStreamRemoved.bind(this)),this.engine.on("screenStreamAdded",this.onScreenStreamAdded.bind(this)),this.engine.on("screenStreamRemoved",this.onScreenStreamRemoved.bind(this)),j()}catch(O){X(O)}})}release(){this.engine&&(this.engine.release(),this.engine=null)}onSessionCreated(e,n,o){console.log("--- session created",e,n),super.sessionCreatedEvent(e,{type:n,sdp:o},null,this.ssMsid,"default")}onSessionError(e,n){console.log("--- session error",e,n)}onStreamAdded(e,n){console.log("--- stream added",e,n),this.addStreamEvent(e,n)}onStreamUpdated(e,n){console.log("--- stream updated, peerId, stream"),this.updateStreamEvent(e,n)}onStreamRemoved(e,n){console.log("--- stream removed",e),this.removeStreamEvent(e)}onScreenStreamAdded(e,n){console.log("--- screen stream added",e),this.ssMsid=n.label(),this.addScreenStreamEvent(e,n)}onScreenStreamRemoved(e,n){console.log("--- screen stream removed",e),this.ssMsid="none",this.removeScreenStreamEvent()}attachMediaStream(e,n,o){return new Promise((c,v)=>{try{this.engine.attachMediaStream(e,n,o),c()}catch(j){v(j)}})}createPeerConnection(e,n,o){return new Promise((c,v)=>{try{this.engine.createPeerConnection(e,o),c({peer:{},isNew:!1})}catch(j){v(j)}})}closePeerConnection(e){return new Promise((n,o)=>{try{this.engine.closePeerConnection(e),n()}catch(c){o(c)}})}removePeerConnection(e){}setRemoteDescription(e,n,o,c,v){return new Promise((j,X)=>{try{this.engine.setRemoteDescription(e,n,o,c),j()}catch(O){X(O)}})}setPeerCandidate(e,n,o,c){return new Promise((v,j)=>{try{this.engine.setPeerCandidate(e,n,o,c),v()}catch(X){j(X)}})}createAnswer(e){return new Promise((n,o)=>{try{const c=this.engine.createAnswer(e);this.engine.setLocalDescription(e,"answer",c),n()}catch(c){o(c)}})}startVideoForPeer(e,n){return new Promise((o,c)=>{try{console.log(n),this.engine.startVideo(),o()}catch(v){c(v)}})}stopVideoForPeer(e){return new Promise((n,o)=>{try{this.engine.stopVideo(),n()}catch(c){o(c)}})}selectAudioInput(e){return new Promise((n,o)=>{try{this.engine.selectAudioDevice(e),n()}catch(c){o(c)}})}selectAudioOutput(e){return new Promise((n,o)=>{try{this.engine.selectAudioOutputDevice(e),n()}catch(c){o(c)}})}selectVideoInput(e){return new Promise((n,o)=>{try{this.engine.selectVideoDevice(e),n()}catch(c){o(c)}})}getLevel(e,n){try{n(parseFloat(this.engine.getLevel(e)))}catch(o){console.error(o)}}isSpeaking(e,n){this.getLevel(e,o=>{o>this.speechThreshold?n(!0):n(!1)})}setPeerPosition(e,n,o){return new Promise((c,v)=>{try{let j=90-180*Math.atan2(o,n)/Math.PI;const X=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));j/=90,console.log(e,n,o,X,j),X!==NaN&&j!==NaN&&this.engine.setPeerPosition(e,j,X),c()}catch(j){v(j)}})}getPeerPosition(){return{x:0,y:0}}toggleMute(e){let n=!1;try{e==this.ownerId?(this.isMuted=!this.isMuted,n=this.isMuted,this.engine.setMute(this.isMuted)):(this.mutedPeer.find(o=>o===e)?(this.mutedPeer=this.mutedPeer.filter(o=>o!==e),n=!1):(this.mutedPeer.push(e),n=!0),this.engine.setParticipantMute(e,n))}catch(o){console.error(o)}return n}enable3DAudio(e){return new Promise((n,o)=>{try{this.engine.enable3DAudio(e),n()}catch(c){console.error(c),o(c)}})}hasScreenShare(){return!1}startScreenShare(e){return new Promise((n,o)=>{try{this.engine.startScreenshare(),n()}catch(c){console.error(c),o()}})}stopScreenShare(){try{this.engine.stopScreenshare()}catch(e){console.error(e)}}}var kr=mt(6850),oo=mt.n(kr);function Xd(t){let e=t||!1;return(Qe.isMobile||typeof navigator!="undefined"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||!Qe.isChrome&&!Qe.isSafari&&!Qe.isFirefox&&!Qe.isEdge)&&(e=!1),e}mt(1344);const Jd=({predefinedConstraints:t={audio:!0,video:!1},mixingEnabled:e=!1,dolbyProcessing:n=!1}={},o)=>{if(e)return{audio:!1,video:!1};const c=n?oo().media.dolbyProcessing.constraints:oo().media.constraints;return Object.assign(Object.assign({},c),{audio:t.audio===void 0?Object.assign({},c.audio):t.audio&&Object.assign(Object.assign({},o?{}:c.audio),t.audio),video:t.video===void 0?Object.assign({},c.video):t.video&&Object.assign(Object.assign({},c.video),t.video)})};var br,Hc=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})};(function(t){t.HD="hd",t.MD="md",t.SD="sd",t.Auto="auto"})(br||(br={}));const Xs=3e4,ra=(t,e,n)=>{const o=e+2*n+20;let c=93.2-(o<160?o/4:o-120)/10;return c-=2.5*t,c=Math.max(0,c),100*(1+.035*c+7e-6*c*(c-60)*(100-c))/100},Kd=t=>Math.pow(10,2.069924867*Math.pow(Math.log10(t),.6250223771)),Zd=(t,e,n=!0)=>{let o=0;if(t){const c=t.filter(O=>O.type==="inbound-rtp"&&O.kind==="video"),v=e.filter(O=>O.type==="inbound-rtp"&&O.kind==="video"),j=n?O=>O.type==="track":O=>O.type==="track"&&O.kind==="video",X=e.filter(j);if(c.length>0&&v.length>0&&X.length>0){parseInt(v[0].packetsLost),parseInt(v[0].packetsReceived),parseInt(c[0].packetsLost),parseInt(c[0].packetsReceived);const O=(parseInt(v[0].packetsLost),parseInt(c[0].packetsLost),parseInt(v[0].timestamp)-parseInt(c[0].timestamp));let D=8*(parseInt(v[0].bytesReceived)-parseInt(c[0].bytesReceived))/(O/1e3);const B=Kd(parseInt(X[0].frameHeight)*parseInt(X[0].frameWidth));D>3e4&&(D=Math.min(D,B),o=Math.log(D/Xs)/Math.log(B/Xs)*4+1)}}return o},Vu=(t,e,n)=>{let o=0;if(t){const c=t.filter(j=>j.type==="outbound-rtp"&&j.kind==="video"),v=e.filter(j=>j.type==="outbound-rtp"&&j.kind==="video");if(c.length>0&&v.length>0&&n.length>0){const j=parseInt(v[0].timestamp)-parseInt(c[0].timestamp);let X=8*(parseInt(v[0].bytesSent)-parseInt(c[0].bytesSent))/(j/1e3);const O=Kd(parseInt(n[0].getSettings().height)*parseInt(n[0].getSettings().width));X>3e4&&(X=Math.min(X,O),o=Math.log(X/Xs)/Math.log(O/Xs)*4+1)}}return o},Yl=t=>{const e=t.split(`
`).map(o=>o.trim());let n=!1;for(let o=0;o<e.length;++o)e[o].startsWith("m=")&&(n=e[o].startsWith("m=audio")),n&&(e[o].startsWith("a=sendonly")||e[o].startsWith("a=recvonly")||e[o].startsWith("a=sendrecv"))&&(e[o]="a=inactive");return e.join(`\r
`)};var Or,$i,Yc=class{constructor(t,e,n=!1,o=!1,c){this.stream=e,this.processCb=c,this.isLocal=n,this.audio3D=o,this.connected=!1,this.level=0,this.context=t,this.dbrange=36,this.dblimit=0,this.x=0,this.y=.5,this.savedGain=1}connectSource(){this.source.connect(this.analyserNode)}updateStream(t){this.stream=t,this.source.disconnect(),this.analyserNode.disconnect(),this.source=this.context.createMediaStreamSource(this.stream),this.connectSource()}connect(){this.source=this.context.createMediaStreamSource(this.stream),this.analyserNode=new AnalyserNode(this.context,{fftSize:256,smoothingTimeConstant:1}),this.data=new Uint8Array(this.analyserNode.fftSize),this.connectSource(),this.isLocal||(this.gainNode=this.context.createGain(),this.gainNode.gain.value=kr.audioSettings.gain,this.audio3D?(this.stereoPanner=this.context.createPanner(),this.stereoPanner.channelCount=1,this.stereoPanner.setOrientation(0,0,0),this.stereoPanner.setPosition(this.x,0,-this.y),Qe.isFirefox&&Qe.isWindows?this.stereoPanner.panningModel="equalpower":this.stereoPanner.panningModel="HRTF",this.stereoPanner.distanceModel=kr.audioSettings.distanceModel,this.stereoPanner.refDistance=kr.audioSettings.refDistance,this.stereoPanner.maxDistance=kr.audioSettings.maxDistance,this.stereoPanner.rolloffFactor=kr.audioSettings.rollOffFactor,this.analyserNode.connect(this.stereoPanner),this.stereoPanner.connect(this.gainNode)):this.analyserNode.connect(this.gainNode),this.gainNode.gain.value=0,this.gainNode.connect(this.context.destination)),this.connected=!0}disconnect(){this.isLocal||(this.audio3D&&this.stereoPanner.disconnect(),this.gainNode.disconnect(),this.context.destination.disconnect()),this.analyserNode.disconnect(),this.source.disconnect()}update(){if(this.connected){this.analyserNode.getByteTimeDomainData(this.data);let t=this.calculateRms(this.data),e=this.toDb(t);this.level=this.db2vu(e)}else this.level=0}calculateRms(t){let e=0;return t.forEach(n=>{let o=n-127;e+=o*o}),Math.sqrt(e/t.length)}toDb(t){return 20*Math.log10(t)}db2vu(t){if(t===-1/0||t<this.dblimit)return 0;let e=t/this.dbrange,n=Math.PI/2+Math.PI/2*e,o=1-Math.sin(n);return o>1?1:o}setGain(t){!this.isLocal&&this.audio3D&&(this.gainNode.gain.value=t)}setPosition(t,e){!this.isLocal&&this.audio3D&&(isFinite(t)&&isFinite(e)?(this.x=t,this.y=Math.max(kr.audioSettings.refDistance,Math.min(1,e)),this.stereoPanner.setPosition(this.x,0,this.y)):Tt().debug("setPosition received non finite position"))}getLevel(){return this.level}setLevel(t){this.level=t}},zt=new class{constructor(){this.level="debug",Tt().setLevel("debug")}trace(...t){Tt().trace(...t)}info(...t){Tt().info(...t)}debug(...t){Tt().debug(...t)}warn(...t){Tt().warn(...t)}error(...t){Tt().error(...t)}setLevel(t){this.level=t,Tt().setLevel(t)}setConferenceId(t){}setUserContext(t){}},oa=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Ba=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class $t{constructor(e,n){Or.set(this,0),$i.set(this,null),oa(this,Or,e),oa(this,$i,n)}get timestamp(){return Ba(this,Or)}get data(){return Ba(this,$i)}}Or=new WeakMap,$i=new WeakMap;var a=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})};const d=E()("vxt:rtc");var I=class extends qd{constructor(t){super(),this.mediaManager=t,this.conferenceId=null,this.connection=null,this.peers=[],this.localMediaStream=null,this.sharingStream=null,this.sharingPeerConnection=null,this.audioTrack=null,this.speechThreshold=.2,this.constraints=null,this.processCb=null,this.listenOnly=!1,this.dolbyVoice=!1,this.lastStats=[],this.recentlySeenRTT=0,this.audioTags=new class{constructor(e,n){this.audio3D=n,this.rtc=e,this.sinkId=null,this.playAudioPromise=null}playAudioTag(e){const n=this.getAudioTagElement(e);n&&n.play()}createAudioTag(e,n,o){return Hc(this,void 0,void 0,function*(){if(typeof document!="undefined"&&n&&n.getAudioTracks().length>0){var c=document.createElement("audio");return c.setAttribute("id","audio-"+e),c.setAttribute("class","vxt-audio"),this.sinkId&&(yield c.setSinkId(this.sinkId)),c.addEventListener("error",v=>{var j;o&&o((j=v==null?void 0:v.target)===null||j===void 0?void 0:j.error)}),document.body.appendChild(c),Hs(c,n),this.playAudioPromise=c.play(),this.playAudioPromise}return Promise.resolve(!0)})}updateAudioTag(e,n){return Hc(this,void 0,void 0,function*(){if(n&&n.getAudioTracks().length>0){const o=this.getAudioTagElement(e);return o?(this.playAudioPromise&&(yield this.playAudioPromise),Hs(o,n),o.play()):this.createAudioTag(e,n)}return Promise.resolve(!0)})}removeAudioTag(e){const n=this.getAudioTagElement(e);n&&n.parentNode.removeChild(n)}removeAllAudioTags(){typeof document!="undefined"&&document.querySelectorAll(".vxt-audio").forEach(e=>e.parentNode.removeChild(e))}setAudioTagVolume(e,n,o){const c=this.getAudioTagElement(e);if(c&&Qe.isChrome&&this.audio3D){let v=kr.audioSettings.chromeCutOffVolume;const j=Math.sqrt(Math.pow(n,2)+Math.pow(o,2));v*=Math.exp(-4*j),(v<.001||!isFinite(v))&&(v=.001),c.volume=v}}isMuted(e){const n=this.getAudioTagElement(e);return!!n&&n.volume===0}muteAudioTag(e,n){const o=this.getAudioTagElement(e);if(o)if(n)o.volume=0;else if(this.audio3D){let c=this.rtc.getPeerPosition(e);this.setAudioTagVolume(e,c.x,c.y)}else o.volume=1}toggleMute(e){const n=this.isMuted(e);return this.muteAudioTag(e,!n),!n}setSinkId(e){return Hc(this,void 0,void 0,function*(){this.sinkId=e,yield this.updateSinks()})}updateSinks(){return Hc(this,void 0,void 0,function*(){if(typeof document!="undefined"){const e=document.querySelectorAll(".vxt-audio");for(const n of e)try{yield n.setSinkId(this.sinkId)}catch(o){console.error(o)}}})}getAudioTagElement(e){if(typeof document!="undefined")return document.getElementById("audio-"+e)}}(this,this.audio3D),this.blockedPeers=[],this.currentConstraints=null,this.bandwidth=null,this.audioTransceiver=null,this.videoTransceiver=null,this.screenAudioTransceiver=null,this.screenTransceiver=null,this.remoteScreenStream=[],this.userMediaPromise=Promise.resolve(),this.rtpStatsCache=new $t(0,null),this.rtpStatsForTelemetryCache=new $t(0,null),this.isLeavingConference=!1,this.isOutputMuted=!1}autoplayBlockedEvent(){d("autoplayBlockedEvent"),this.emit("autoplayBlocked")}playBlockedAudio(){return a(this,void 0,void 0,function*(){this.blockedPeers.forEach(t=>{this.peers.filter(e=>e.peerId===t&&!e.isMaster).map(()=>{this.audioTags&&this.audioTags.playAudioTag(t)})}),yield this.audioContext.resume(),this.blockedPeers=[]})}createAudioTag(t,e){return a(this,void 0,void 0,function*(){try{yield this.audioTags.createAudioTag(t,e,this.onAudioTagError.bind(this))}catch{this.blockedPeers.length===0&&this.autoplayBlockedEvent(),this.blockedPeers.push(t)}})}updateAudioTag(t,e){return a(this,void 0,void 0,function*(){try{yield this.audioTags.updateAudioTag(t,e)}catch{this.autoplayBlockedEvent(t)}})}initAudioOutputSelection(){if(!this.mediaManager.isOutputSelectorValid&&Qe.isDesktop&&(Qe.isChrome||Qe.isEdge||Qe.isElectron)&&(this.mediaManager.selectAudioOutputDevice=this.selectAudioOutput.bind(this),Qe.isWindows)){const t=this.mediaManager.audioOutputDevices.find(e=>e.deviceId==="communications");t&&(this.selectAudioOutput(t),this.mediaManager.selectedAudioOutputDevice=t)}}addStreamEvent(t,e){d("addStreamEvent",t,e);const n=this.peers.find(o=>o.peerId===t);n&&(n.streamAddedEmitted=!0),this.localMediaStream&&this.localMediaStream.id===e.id&&(e.type=en.Camera),this.emit("addStream",t,e)}updateStreamEvent(t,e){d("updateStreamEvent",t,e);let n=this.peers.find(o=>o.peerId===t);n&&!n.closed&&(this.localMediaStream&&this.localMediaStream.id===e.id&&(e.type=en.Camera),this.emit("updateStream",t,e))}removeStreamEvent(t,e){d("removeStreamEvent",t);let n=this.peers.find(o=>o.peerId===t);n&&(n.streamAddedEmitted=!1),n&&!n.isMaster&&this.audioTags.removeAudioTag(t),n&&!n.closed&&(this.localMediaStream&&this.localMediaStream.id===e.id&&(e.type=en.Camera),n.stream=null,this.emit("removeStream",t,e))}getDefaultAudioConstraints(t=this.dolbyVoice){let e=Jd({dolbyProcessing:t});return Qe.isWindows&&this.mediaManager.audioInputDevices.find(n=>n.deviceId==="communications")&&(e.audio.deviceId={exact:"communications"}),e.audio}updateSelectedInputAudioDevice(){return a(this,void 0,void 0,function*(){const t=yield this.mediaManager.getConnectedAudioInputDevices();if(!t||t.length===0)return;let e=null;if(this.localMediaStream){const n=this.localMediaStream.getAudioTracks();e=n.length>0&&n[0]}if(e){const n=e.getSettings(),o=t.find(c=>c.deviceId===n.deviceId);o&&(this.mediaManager.selectedAudioInputDevice=o)}else{let n=null;Qe.isWindows&&(n=t.find(o=>o.deviceId==="communications")),n||(n=t.find(o=>o.deviceId==="default")),this.mediaManager.selectedAudioInputDevice=n||t[0]}})}registerLocalAudioTrackEvents(t){t.onended=()=>this.onAudioTrackEnded()}unregisterAudioTrackEvents(t){t.onended=null}getUserMediaWithChecks(t){return a(this,void 0,void 0,function*(){const e=yield navigator.mediaDevices.getUserMedia(t),n=e.getAudioTracks();return n[0]&&(this.registerLocalAudioTrackEvents(n[0]),(o=>{const c=o.getSettings();return!(!c||!("echoCancellation"in c))&&!!o.getConstraints()&&((v,j,X)=>!(j in v)||(typeof v[j]!="object"?v[j]:"exact"in v[j]?v[j].exact:"ideal"in v[j]&&v[j].ideal))(o.getConstraints(),"echoCancellation")&&!o.getSettings().echoCancellation})(n[0])&&this.emit("error",new Ye({name:"EchoCancellationError",message:"Echo Cancellation is disabled."}))),this.customAudio=!1,e})}init({constraints:t,processCb:e,listenOnly:n,ownerId:o,options:c,videoTrack:v,audioTrack:j,dolbyVoice:X}){return a(this,void 0,void 0,function*(){if(this.constraints=Object.assign({},t),this.constraints.video=!1,this.processCb=e,this.options=c,this.listenOnly=n,this.dolbyVoice=X,this.mediaManager.selectAudioInputDevice=this.selectAudioInput.bind(this),yield this.initAudioContext(),Qe.isWindows&&this.constraints.audio&&!this.constraints.audio.deviceId&&this.mediaManager.audioInputDevices.find(O=>O.deviceId==="communications")&&(this.constraints.audio.deviceId={exact:"communications"}),j)this.audioTrack=j,this.localMediaStream?this.localMediaStream.addTrack(j):this.localMediaStream=new MediaStream([j]),this.customAudio=!0;else if(!n&&(this.constraints.audio||this.constraints.video))try{this.localMediaStream=yield this.getUserMediaWithChecks(this.constraints),this.audioTrack=this.localMediaStream.getAudioTracks()[0]}catch(O){throw new Ye(O)}v&&(this.localMediaStream?this.localMediaStream.addTrack(v):this.localMediaStream=new MediaStream([v])),yield this.updateSelectedInputAudioDevice()})}release(){return a(this,void 0,void 0,function*(){this.peers.map(t=>{this.closePeerConnection(t.peerId)}),this.peers=[],this.audioTrack&&(this.audioTrack.onended=null,this.audioTrack.onmute=null,this.audioTrack.onunmute=null,this.audioTrack.stop()),this.clonedAudioTrack&&this.clonedAudioTrack.stop(),this.localMediaStream&&this.localMediaStream.getAudioTracks().forEach(t=>t.stop()),this.sharingStream&&this.stopScreenShare(),this.audioContext&&this.audioContext.close(),this.mediaManager.initSelectAudioDevice(),this.mediaManager.getComfortNoiseLevel=void 0,this.mediaManager.setComfortNoiseLevel=void 0})}initAudioContext(){var t;return a(this,void 0,void 0,function*(){Qe.isExplorer||(this.audioContext=new Nu((t=this.options)===null||t===void 0?void 0:t.audioContextOptions),this.audioContext.resume(),this.audioContext.onstatechange=()=>{this.checkAutoplayBlocked()})})}checkAutoplayBlocked(){this.audioContext.state==="suspended"&&this.emit("autoplayBlocked")}isPeerConnectionStable(){const t=this.peers.filter(e=>e.connection);return t.length>0&&t[0].connection.signalingState==="stable"}ensurePeer(t){var{peerId:e,isMaster:n}=t,o=function(v,j){var X={};for(var O in v)Object.prototype.hasOwnProperty.call(v,O)&&j.indexOf(O)<0&&(X[O]=v[O]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function"){var D=0;for(O=Object.getOwnPropertySymbols(v);D<O.length;D++)j.indexOf(O[D])<0&&Object.prototype.propertyIsEnumerable.call(v,O[D])&&(X[O[D]]=v[O[D]])}return X}(t,["peerId","isMaster"]);let c=this.peers.find(v=>v.peerId===e);return c||(c=Object.assign({peerId:e,connection:null,stream:null,process:null,isMaster:n},o),this.peers.push(c)),c}createPeerConnection(t,e,n){return a(this,void 0,void 0,function*(){let o=!1,c=this.ensurePeer({peerId:t,isMaster:n}),{connection:v}=c;return v&&e==="close"&&(v.close(),v=null),v||(o=!0,oo().peerConnection.config.sdpSemantics="unified-plan",v=new Gn(oo().peerConnection.config,oo().peerConnection.constraints),v.candidates=[],c.connection=v,yield this.addConnectionListeners(c),yield this.addTrackListeners(t,c,{x:0,y:.2},v),v.onicecandidate=j=>{j.candidate?v.candidates.push({sdpMid:j.candidate.sdpMid,sdpMLineIndex:j.candidate.sdpMLineIndex,sdp:j.candidate.candidate}):this.iceCandidatesGatheringCompleteEvent(t,v.candidates)}),d("createPeerConnection",this.peers),{peer:c,isNew:o}})}addMasterStream(t){return a(this,void 0,void 0,function*(){if(d("addMasterStream",t),this.localMediaStream){const e=!t.stream;yield this.addStream(this.localMediaStream,t.connection),t.stream=this.localMediaStream,this.audioContext&&this.localMediaStream.getAudioTracks().length>0&&(t.process=new Yc(this.audioContext,this.localMediaStream,!0,this.audio3D,this.processCb),t.process.connect()),e?this.addStreamEvent(t.peerId,this.localMediaStream):this.updateStreamEvent(t.peerId,this.localMediaStream)}})}addConnectionListeners({peerId:t,connection:e}){return a(this,void 0,void 0,function*(){e.oniceconnectionstatechange=n=>{this.connectionStatusEvent({peerId:t,connectionStatus:n.target.iceConnectionState,signalingState:n.target.signalingState})},e.onsignalingstatechange=n=>{this.connectionStatusEvent({peerId:t,connectionStatus:n.target.iceConnectionState,signalingState:n.target.signalingState})}})}updateMasterStream(t,e,n){if(n){if(e==="active"&&this.constraints.audio)return this.startAudioForPeer(t);if(e==="inactive")return this.stopAudioForPeer(t)}return Promise.resolve()}closePeerConnection(t){d("closePeerConnection",t);const e=this.peers.find(n=>n.peerId===t);return e&&this._closePeerConnectionForPeer(e),Promise.resolve()}removePeerConnection(t){var e=-1,n=[];if(this.peers.filter(o=>o.peerId===t).map(o=>{e=this.peers.indexOf(o)}),Qe.isSafari&&e!==-1){const o=this.peers[e],c=this.remoteScreenStream.findIndex(v=>v.peerId===o.peerId);setTimeout(()=>{o&&o.sharedScreen&&c>-1&&(o.sharedScreen=!1,this.removeScreenStreamEvent(o.peerId,this.remoteScreenStream[c].stream),this.remoteScreenStream.splice(c,1))},0)}return e!==-1&&(n=this.peers.splice(e,1)),n}hasScreenShare(){return this.sharingStream!==null}createAnswer(t,e="default",n,o){var c,v,j,X,O,D;return a(this,void 0,void 0,function*(){d("createAnswer",t,n);const B=this.peers.find(Ve=>Ve.peerId===t),ue=o!==void 0?o:{enabled:!1};if(!B)throw nt(t);let je=this.sharingStream?this.sharingStream.id:"none";try{const Ve=yield B.connection.createAnswer();this.emit("traceRtcEvent",Je.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.createAnswer",data:{oid:n}})),((c=this.options)===null||c===void 0?void 0:c.preferSendMono)&&((v=this.options)===null||v===void 0?void 0:v.preferRecvMono)||(Ve.sdp=((ht="",St=!1,nn=!1)=>St||nn?ht.split(`
`).map(jt=>(jt.includes("fmtp:111 minptime=10")&&(St&&!jt.includes("sprop-stereo=1")&&(jt=jt.replace("fmtp:111 minptime=10","fmtp:111 minptime=10;sprop-stereo=1")),nn&&!jt.includes(";stereo=1")&&(jt=jt.replace("fmtp:111 minptime=10","fmtp:111 minptime=10;stereo=1"))),jt)).join(`
`):ht)(Ve.sdp,!(!((j=this.options)===null||j===void 0)&&j.preferSendMono),!(!((X=this.options)===null||X===void 0)&&X.preferRecvMono))),!((O=this.options)===null||O===void 0)&&O.audioBitrate&&(Ve.sdp=((ht="",St)=>{let nn=ht.split(`
`);const jt=(Pn=>{if(typeof Pn=="string")switch(Pn.toLowerCase()){case"18kbps":return 18e3;case"64kbps":return 64e3;case"80kbps":return 8e4;case"96kbps":return 96e3;case"128kbps":return 128e3}else{if([18e3,64e3,8e4,96e3,128e3].includes(Pn))return Pn;if([18,64,80,96,128].includes(Pn))return 1e3*Pn}})(St);return nn.map(Pn=>(Pn.includes("fmtp:111 minptime=10")&&(Pn=Pn.includes("maxaveragebitrate=")?Pn.replace(/maxaveragebitrate=\d+/,"maxaveragebitrate="+jt):Pn.replace("fmtp:111 minptime=10","fmtp:111 minptime=10; maxaveragebitrate="+jt)),Pn)).join(`
`)})(Ve.sdp,(D=this.options)===null||D===void 0?void 0:D.audioBitrate)),d("Answer",Ve.sdp),yield B.connection.setLocalDescription(Ve),this.emit("traceRtcEvent",Je.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.setLocalDescription",data:{oid:n}})),this.sessionCreatedEvent(t,B.connection.localDescription,null,je,e,n,ue)}catch(Ve){throw zt.error("webrtc","VoxeetRTCNative.createAnswer",Ve),((ht,St)=>new De("CreateAnswerError",ht.message,St,ht))(Ve,B.peerId)}})}createOffer(t){zt.trace("createOffer, peerId");var e=this.peers.find(n=>n.peerId===t);return e?e.connection.createOffer().then(n=>e.connection.setLocalDescription(n)).then(()=>{d("Offer",e.connection.localDescription)}).catch(n=>{throw n}):Promise.reject(new nt(t))}setRemoteDescription(t,e,n,o,c,v){return a(this,void 0,void 0,function*(){d("setRemoteDescription"),d("Offer",o),this.bandwidth=(j=>{const X=Qe.isFirefox?"TIAS":"AS",O=j.split(`
`).map(B=>B.trim()).find(B=>B.indexOf(`b=${X}:`)===0);if(!O)return;const D=new RegExp(":(.*)");return Qe.isFirefox?parseInt(O.match(D)[1])/1e3:parseInt(O.match(D)[1])})(o),this.emit("onBandwidthRestrictionChanged",this.bandwidth),yield Promise.all(this.peers.filter(j=>j.peerId===t).map(j=>a(this,void 0,void 0,function*(){try{yield j.connection.setRemoteDescription(new to({type:n,sdp:o})),this.emit("traceRtcEvent",Je.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.setRemoteDescription",data:{oid:c}}))}catch(X){throw zt.error("webrtc","VoxeetRTC.setRemoteDescription error: ",t,X),((O,D)=>new De("RemoteDescriptionError",O.message,D,O))(X,j.peerId)}}))),Qe.requiresScreenshareWorkaround&&this.peers.filter(j=>j.peerId===t).forEach(j=>{if(this.remoteScreenStream.length>0){let X=o.split(`
`).map(D=>D.trim()),O="";X.forEach(function(D,B){if(D.indexOf("a=mid:")===0&&(O=D),D.startsWith("a=inactive")&&O.startsWith("a=mid:screenshare")&&X[B+1].startsWith("a=msid:")){const ue=/a=msid:1_screen_([a-z0-9-]+)/,je=X[B+1].match(ue);if(je){const Ve=je[1],ht=this.peers.find(St=>St.peerId===Ve&&St.hasOwnProperty("sharedScreen")&&St.sharedScreen===!0);if(ht){const St=this.remoteScreenStream.findIndex(nn=>nn.peerId===ht.peerId);St>-1&&(ht.sharedScreen=!1,this.removeScreenStreamEvent(ht.peerId,this.remoteScreenStream[St].stream),this.remoteScreenStream.splice(St,1))}}}},this)}})})}setPeerCandidate(t,e,n,o){return a(this,void 0,void 0,function*(){yield Promise.all(this.peers.filter(c=>c.peerId===t).map(c=>a(this,void 0,void 0,function*(){yield c.connection.addIceCandidate(new Gd({candidate:o,sdpMLineIndex:n,sdpMid:e}))})))})}setPeerPosition(t,e,n){}mutePeer(t,e){this.peers.filter(n=>n.peerId===t).forEach(n=>{this.setMute(e,n)})}toggleMute(t){var e=!1;return this.peers.filter(n=>n.peerId===t).forEach(n=>{e=this.togglePeerMute(n)}),e}isOwnMuted(){return!this.audioTrack||!this.audioTrack.enabled}setMute(t,e){var n;const o=(n=e.stream)===null||n===void 0?void 0:n.getAudioTracks();(o==null?void 0:o.length)&&o[0]&&(e.isMaster&&(t?(this.clonedAudioTrack=this.audioTrack.clone(),e.process.updateStream(new MediaStream([this.clonedAudioTrack]))):(e.process.updateStream(e.stream),this.clonedAudioTrack&&(this.clonedAudioTrack.stop(),this.clonedAudioTrack=null))),o[0].enabled=!t,this.emit("onTrackMute",t,e.isMaster?void 0:e.peerId))}togglePeerMute(t){var e;const n=(e=t.stream)===null||e===void 0?void 0:e.getAudioTracks();if(n!=null&&n.length)return this.setMute(n[0].enabled,t),!n[0].enabled}muteOutput(t){this.peers.filter(e=>!e.isMaster).forEach(e=>{this.setMute(t,e)}),this.isOutputMuted=t}setGain(t,e){this.peers.filter(n=>n.peerId===t).map(n=>{n.process&&n.process.setGain(e)})}getPeerPosition(t){var e=this.peers.find(n=>n.peerId===t);return e&&e.process&&this.audio3D?{x:e.process.x,y:e.process.y}:{x:0,y:.5}}getLevel(t,e){var n=this.peers.find(o=>o.peerId===t);return n?this._getProcessLevel(n).then(o=>{e(o)}):e(0)}isSpeaking(t,e){this.getLevel(t,n=>{n>this.speechThreshold?e(!0):e(!1)})}callWithoutConcurrency(t,...e){return a(this,void 0,void 0,function*(){let n=null;this.userMediaPromise=this.userMediaPromise.then(()=>t.call(this,...e)).catch(c=>{n=c});const o=yield this.userMediaPromise;if(n)throw n;return o})}stopAudioForPeer(t){return a(this,void 0,void 0,function*(){yield this.callWithoutConcurrency(this.stopAudioForPeerInternal,t)})}startAudioForPeer(t,e){return a(this,void 0,void 0,function*(){return yield this.callWithoutConcurrency(this.startAudioForPeerInternal,t,e)})}stopVideoForPeer(t){return a(this,void 0,void 0,function*(){yield this.callWithoutConcurrency(this.stopVideoForPeerInternal,t)})}startVideoForPeer(t,e){return a(this,void 0,void 0,function*(){yield this.callWithoutConcurrency(this.startVideoForPeerInternal,t,e)})}selectAudioInput(t){return a(this,void 0,void 0,function*(){yield this.callWithoutConcurrency(this.selectAudioInputInternal,t)})}selectAudioOutput(t){return a(this,void 0,void 0,function*(){yield this.callWithoutConcurrency(this.selectAudioOutputInternal,t)})}stopVideoForPeerInternal(t){return a(this,void 0,void 0,function*(){for(const n of this.peers.filter(o=>o.peerId===t))if(n.stream&&n.isMaster){if(!this.localMediaStream||this.localMediaStream.getVideoTracks().length===0)return;var e=this.localMediaStream.getVideoTracks()[0];this.localMediaStream.removeTrack(e),yield this.removeTrack(e,n.connection,this.localMediaStream),this.localMediaStream.getTracks().length?this.updateStreamEvent(t,this.localMediaStream):(this.removeStreamEvent(t,this.localMediaStream),this.localMediaStream=null)}})}updateLocalVideo(t){return a(this,void 0,void 0,function*(){const e=this.peers.find(n=>n.isMaster);this.localMediaStream?(this.videoTrack=t,this.localMediaStream.getVideoTracks().forEach(n=>{this.localMediaStream.removeTrack(n)}),yield this.onVideoTrackUpdated(e)):(this.localMediaStream=new MediaStream([t]),this.localMediaStream.type=en.Camera,e.stream=this.localMediaStream,this.addStreamEvent(e.id,this.localMediaStream))})}startVideoForPeerInternal(t,e){return a(this,void 0,void 0,function*(){for(const n of this.peers.filter(o=>o.peerId===t))if(n.isMaster){if(this.localMediaStream&&this.localMediaStream.getVideoTracks().length>0)return;this.videoTrack=e;try{this.localMediaStream?(this.localMediaStream.addTrack(e),yield this.addTrack(e,n.connection,this.localMediaStream,"video"),this.updateStreamEvent(t,this.localMediaStream)):(this.localMediaStream=new MediaStream([e]),this.localMediaStream.type=en.Camera,n.stream=this.localMediaStream,yield this.addStream(this.localMediaStream,n.connection),this.addStreamEvent(t,this.localMediaStream))}catch(o){throw new Ye(o)}}})}stopAudioForPeerInternal(t){return a(this,void 0,void 0,function*(){for(const e of this.peers.filter(n=>n.peerId===t))if(e.stream&&e.isMaster){if(!this.localMediaStream||this.localMediaStream.getAudioTracks().length===0)throw new dt("Already stopped");let n=this.audioTrack;this.unregisterAudioTrackEvents(n),n.stop(),n.enabled=!1,yield this.removeTrack(n,e.connection,this.localMediaStream),this.localMediaStream.removeTrack(n),this.audioContext&&e.process&&e.process.disconnect(),this.localMediaStream.getTracks().length?this.updateStreamEvent(t,this.localMediaStream):(this.removeStreamEvent(t,this.localMediaStream),this.localMediaStream=null)}})}startAudioForPeerInternal(t,e){return a(this,void 0,void 0,function*(){for(const n of this.peers.filter(o=>o.peerId===t))if(n.isMaster){if(this.localMediaStream&&this.localMediaStream.getAudioTracks().length>0)throw new dt("Already started");try{let o=null;if(e instanceof MediaStreamTrack)this.audioTrack=e,this.customAudio=!0,o=new MediaStream([e]);else{let c=JSON.parse(JSON.stringify(this.constraints));c.video=!1,e?c.audio=this.constraints.audio=e:c.audio||(c.audio=this.constraints.audio=this.getDefaultAudioConstraints()),o=yield this.getUserMediaWithChecks(c),this.audioTrack=o.getAudioTracks()[0]}return this.localMediaStream?(this.localMediaStream.addTrack(this.audioTrack),yield this.addTrack(this.audioTrack,n.connection,this.localMediaStream,"audio"),this.updateStreamEvent(t,this.localMediaStream)):(this.localMediaStream=o,this.localMediaStream.type=en.Camera,n.stream=o,yield this.addStream(this.localMediaStream,n.connection),this.addStreamEvent(t,this.localMediaStream)),yield this.updateSelectedInputAudioDevice(),this.audioContext&&(n.process=new Yc(this.audioContext,this.localMediaStream,!0,this.audio3D),n.process.connect()),this.audioTrack}catch(o){throw new Ye(o)}}})}getAudioTrackSettings(){return this.audioTrack.getSettings()}updateAudioProcessing(t){return a(this,void 0,void 0,function*(){for(const e of this.peers.filter(n=>n.isMaster===!0)){if(typeof this.constraints.audio=="object"&&(delete this.constraints.audio.autoGainControl,delete this.constraints.audio.googAutoGainControl,delete this.constraints.audio.noiseSuppression),this.audioTrack){const o=this.getAudioTrackSettings();o&&o.deviceId&&(t.deviceId={exact:o.deviceId})}const n=yield this.updateAudioTrack(t);if(!n)return;this.audioTrack=n.getAudioTracks()[0],yield this.onAudioTrackUpdated(e)}})}preserveAudioConstraintsSettings(t){this.constraints.audio=t}updateAudioTrack(t,e=!0){return a(this,void 0,void 0,function*(){const n=typeof this.constraints.audio=="object"?this.constraints.audio:this.getDefaultAudioConstraints(),o=Object.assign(Object.assign({},n),t);if(e&&(this.constraints.audio=o),!this.localMediaStream||this.localMediaStream.getAudioTracks().length===0)return;const c=this.audioTrack.enabled;let v;this.audioTrack.enabled=!1,this.unregisterAudioTrackEvents(this.audioTrack),this.audioTrack.stop(),this.localMediaStream.removeTrack(this.localMediaStream.getAudioTracks()[0]);try{const j={audio:o,video:!1};v=yield this.getUserMediaWithChecks(j),this.constraints.audio=o}catch(j){throw j}return v.getAudioTracks()[0].enabled=c,v})}onAudioTrackUpdated(t){return a(this,void 0,void 0,function*(){this.localMediaStream.addTrack(this.audioTrack),yield this.replaceTrack(this.audioTrack,t.connection),this.audioContext&&t.process&&t.process.updateStream(this.localMediaStream),this.updateStreamEvent(t.peerId,t.stream)})}onVideoTrackUpdated(t){return a(this,void 0,void 0,function*(){this.localMediaStream.addTrack(this.videoTrack),yield this.replaceTrack(this.videoTrack,t.connection,this.localMediaStream),this.updateStreamEvent(t.peerId,t.stream)})}getDefaultMicrophone(){var t,e;let n=(e=(t=this.constraints)===null||t===void 0?void 0:t.audio)===null||e===void 0?void 0:e.deviceId;return n||(Qe.isWindows&&this.mediaManager.audioInputDevices.find(o=>o.deviceId==="communications")?n="communications":this.mediaManager.audioInputDevices.find(o=>o.deviceId==="default")?n="default":this.mediaManager.audioInputDevices.length&&(n=this.mediaManager.audioInputDevices[0].deviceId)),n}restartInputAudio(){return a(this,void 0,void 0,function*(){if(this.customAudio)return;const t=this.getDefaultMicrophone();yield this.selectAudioInput(t)})}onAudioTrackEnded(){return a(this,void 0,void 0,function*(){const t=this.audioTrack.getSettings().groupId;(yield this.mediaManager.getConnectedAudioInputDevices()).find(e=>e.groupId===t)&&(this.emit("onTrackEnded",new Ye({name:"TrackEndedError",message:"Audio track has unexpectedly ended."})),this.restartInputAudio())})}selectAudioInputInternal(t){return a(this,void 0,void 0,function*(){for(const e of this.peers.filter(n=>n.isMaster===!0)){let n=yield this.updateAudioTrack({deviceId:{exact:t.deviceId}});if(!n||n.type===en.ScreenShare)return;let o=n.getAudioTracks()[0];const c=o.getSettings();if(c.deviceId!==t.deviceId||c.groupId&&c.groupId!==t.groupId){const v=(yield this.mediaManager.getConnectedAudioInputDevices()).find(j=>t.groupId===j.groupId&&j.deviceId!==c.deviceId);if(v){const j=o.enabled;o.stop();const X=Object.assign(Object.assign({},this.constraints),{video:!1});X.audio.deviceId=v.deviceId,n=yield this.getUserMediaWithChecks(X),o=n.getAudioTracks()[0],o.enabled=j}}if(Qe.isSafari){const v=o.clone();if(this.audioTrack=v,!n.active||this.audioTrack.readyState!=="live")throw new dt("Failed to start input audio track");v.onended=()=>a(this,void 0,void 0,function*(){d("Failed to start device, restarting...",t),yield this.selectAudioInput(t)}),setTimeout(()=>{v.onended=null},45e3),o.stop()}else this.audioTrack=o;this.registerLocalAudioTrackEvents(this.audioTrack),this.customAudio=!1,yield this.onAudioTrackUpdated(e)}})}selectAudioOutputInternal(t){return a(this,void 0,void 0,function*(){const e=t.deviceId;if(e&&this.audioTags)for(const n of this.peers.filter(o=>o.isMaster===!0))return yield this.audioTags.setSinkId(e),Promise.resolve();return Promise.reject(new Error("Unavailable"))})}startScreenShare(t){return a(this,void 0,void 0,function*(){return this.sharingStream?Promise.reject(new Error("Unable to start more than one screen share at a time.")):(Qe.isChrome||Qe.isEdge?t.hasOwnProperty("audio")&&t.audio!==!0||(t.audio={echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1}):t.audio&&(console.warn("Screen-share with audio is not supported on this browser."),t.audio=!1),this.sharingStream=yield navigator.mediaDevices.getDisplayMedia(t),this.sharingStream.type=en.ScreenShare,Promise.resolve(this.sharingStream))})}releaseScreenShare(){this.sharingStream&&this.sharingStream.getVideoTracks().length>0&&(this.sharingStream.getVideoTracks()[0].onended=null,this.sharingStream.getVideoTracks()[0].stop(),this.sharingStream.getAudioTracks()[0].onended=null,this.sharingStream.getAudioTracks()[0].stop(),this.sharingStream=null)}addMasterScreenStream(t,e="audioshare",n="screenshare"){return a(this,void 0,void 0,function*(){const o=this.peers.find(c=>c.isMaster);o&&t&&(yield this.addScreenStream(t,o.connection,e,n),this.sharingStream.getVideoTracks()[0].onended=c=>{this.endedScreenStreamEvent()},this.addScreenStreamEvent(o.peerId,this.sharingStream))})}changeScreenShare(t){return a(this,void 0,void 0,function*(){if(this.sharingStream){this.sharingStream.getVideoTracks()[0].onended=null,yield Promise.all(this.peers.filter(e=>e.isMaster).map(e=>a(this,void 0,void 0,function*(){yield this.removeScreenStream(this.sharingStream,e.connection)}))),this.sharingStream.getVideoTracks()[0].stop(),this.sharingStream=null;try{const e=yield navigator.mediaDevices.getDisplayMedia({video:!0,sourceId:t});return this.sharingStream!==e&&(this.sharingStream=e,yield Promise.all(this.peers.filter(n=>n.isMaster).map(n=>a(this,void 0,void 0,function*(){this.sharingStream&&(yield this.addScreenStream(this.sharingStream,n.connection),this.sharingStream.getVideoTracks()[0].onended=o=>{this.endedScreenStreamEvent()},this.updateScreenStreamEvent(n.peerId,this.sharingStream))})))),this.sharingStream}catch(e){throw new Ye(e)}}})}stopScreenShare(){return a(this,void 0,void 0,function*(){this.sharingStream&&(this.sharingStream.getVideoTracks()[0].onended=null,yield Promise.all(this.peers.filter(t=>t.isMaster).map(t=>a(this,void 0,void 0,function*(){yield this.removeScreenStream(this.sharingStream,t.connection)}))),yield Promise.all(this.peers.filter(t=>t.isMaster).map(t=>a(this,void 0,void 0,function*(){this.removeScreenStreamEvent(t.peerId,this.sharingStream),this.sharingStream.getVideoTracks()[0].stop(),this.sharingStream.getAudioTracks().length>0&&this.sharingStream.getAudioTracks()[0].stop(),this.sharingStream=null}))))})}changeRecordingDevice(){getUserMedia(constraints,t=>{})}_getRtcForTrack(t,e){return Qe.isChrome?t.getStats().then(n=>[...n.values()].filter(o=>o.type==="track"&&o.trackIdentifier===e.id)).then(n=>n[0].audioLevel):t.getStats(e).then(n=>n.ssrc&&n.ssrc.audioInputLevel?n.ssrc.audioInputLevel:n.ssrc.audioOutputLevel)}_getRtcLevel(t,e){return t.stream?this._getRtcForTrack(t.connection,t.stream.getAudioTracks()[0]).then(n=>(20*Math.log10(n)+70)/80).catch(n=>0):Promise.resolve(0)}_getProcessLevel(t){var e=0;return t.process&&(t.process.update(),e=t.process.getLevel()),Promise.resolve(e)}_getStats(t,e){return t.getStats(e)}getInboundRtpStats(){return new Promise((t,e)=>{let n={bytesReceived:0,packetsReceived:0};this.peers.filter(o=>!o.isMaster).map(o=>{o.connection.getStats().then(c=>{c.forEach(v=>{v.type==="inbound-rtp"&&(n.bytesReceived+=v.bytesReceived,n.packetsReceived+=v.packetsReceived)}),t(n)})})})}setVideoForwarding(t){var e;const n=this.ensurePeer({peerId:t,isMaster:!1,forwarded:!0});n.forwarded=!0,!((e=n.cachedVideoTracks)===null||e===void 0)&&e.length&&(n.stream?(n.cachedVideoTracks.forEach(o=>{n.stream.addTrack(o)}),n.streamAddedEmitted?this.updateStreamEvent(t,n.stream):this.addStreamEvent(t,n.stream)):(n.stream=new MediaStream(n.cachedVideoTracks),this.addStreamEvent(t,n.stream))),n.cachedVideoTracks=[]}removeVideoForwarding(t){var e;const n=this.ensurePeer({peerId:t,isMaster:!1});n.forwarded=!1;const o=(e=n.stream)===null||e===void 0?void 0:e.getVideoTracks();n.cachedVideoTracks=o,o!=null&&o.length&&(n.stream&&o.forEach(c=>{n.stream.removeTrack(c)}),n.stream.getTracks().length>0?this.updateStreamEvent(t,n.stream):this.removeStreamEvent(t,n.stream))}handleIncomingMediaStream(t,e){if(!t.forwarded&&t.peerId!==tr){const n=e.getVideoTracks();if(n!=null&&n.length)return t.cachedVideoTracks=n,t.cachedVideoTracks.forEach(o=>{e.removeTrack(o)}),void(t.stream=e)}t.peerId!==tr&&this.dolbyVoice&&!e.getVideoTracks().length&&e.getAudioTracks().length||e.getTracks().length&&(t.streamAddedEmitted?this.updateStreamEvent(t.peerId,e):this.addStreamEvent(t.peerId,e)),t.stream=e}addFakeAudio(t){let e=this.peers.find(n=>n.peerId===t);e||(e=this.ensurePeer({peerId:t,isMaster:!1,forwarded:!1})),e.audioTransmitting=!0,e.stream?e.stream.getTracks().length||(e.stream=new Va(e.stream),e.streamAddedEmitted?this.updateStreamEvent(t,e.stream):this.addStreamEvent(t,e.stream)):(e.stream=new Va(new MediaStream),this.addStreamEvent(t,e.stream))}removeFakeAudio(t){const e=this.peers.find(o=>o.peerId===t);if(!(e!=null&&e.stream)||e.stream.getAudioTracks().length===0)return;e.audioTransmitting=!1;const n=e.stream.getAudioTracks().filter(o=>o instanceof $s);n.length&&(n.forEach(o=>{e.stream.removeTrack(o)}),e.stream.getTracks().length>0?this.updateStreamEvent(t,e.stream):this.removeStreamEvent(t,e.stream))}getRTCPeerConnections(){return this.peers.filter(t=>t.connection).map(t=>t.connection)}getRtpStats(){return a(this,void 0,void 0,function*(){const t=new Date().getTime();return this.rtpStatsCache.timestamp+500<t&&(this.rtpStatsCache=new $t(t,yield this.getLocalRtpStats())),this.rtpStatsCache.data})}getLocalRtpStats(){return a(this,void 0,void 0,function*(){const t=this.peers.find(o=>o.isMaster),e=yield this.getRtpStatsForTelemetry(),n=e==null?void 0:e.metrics;if(t){const o=n.get(t.peerId).filter(c=>c.type==="candidate-pair");for(const[c,v]of n){let j=0,X=0;if(c===t.peerId){const O=v.filter(ue=>(ue.type==="remote-inbound-rtp"||ue.type==="inbound-rtp")&&ue.kind==="audio"),D=v.filter(ue=>ue.type==="outbound-rtp"&&ue.kind==="audio");let B=[];if(this.lastStats[c]&&(B=this.lastStats[c].filter(ue=>ue.type==="outbound-rtp"&&ue.kind==="audio")),O.length>0&&D.length>0&&B.length>0&&D[0].bytesSent>B[0].bytesSent){let ue=o[0].currentRoundTripTime?o[0].currentRoundTripTime:O[0].roundTripTime;ue=ue||this.recentlySeenRTT,this.recentlySeenRTT=ue;const je=parseFloat(O[0].packetsLost)/parseFloat(D[0].packetsSent);j=ra(parseFloat(100*je),1e3*parseFloat(ue),1e3*parseFloat(O[0].jitter))}if(this.localMediaStream){let ue=this.localMediaStream.getVideoTracks();X=Vu(this.lastStats[c],v,ue)}}else{const O=v.filter(B=>B.type==="inbound-rtp"&&B.kind==="audio");if(O.length>0&&o.length>0){const B=parseFloat(O[0].packetsLost)/parseFloat(O[0].packetsReceived);j=ra(parseFloat(100*B),1e3*parseFloat(o[0].currentRoundTripTime),1e3*parseFloat(O[0].jitter))}const D=this.peers.findIndex(B=>B.peerId===tr)>-1;X=Zd(this.lastStats[c],v,D)}this.lastStats[c]=[...v],n.set(c,[...v,{id:"Scores",audio:j,video:X}])}}return n})}getRemoteScreenStreamInfo(t){let e=null,n=null,o=null;return t&&(e=/([0-9]*)_?([a-zA-Z0-9]*)_?([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})/gm.exec(t.id)[3],n=t.id,o=t.getTracks().map(c=>c.id)),[e,n,o]}getRemoteStats(t,e){let n=new Map,o=t.getReceivers(),c=new Map(o.map(v=>[v.track.id,v.getSynchronizationSources().map(j=>j.source)]));return this.peers.forEach(({stream:v,peerId:j,isMaster:X})=>{if(!v||X)return;const O=this.remoteScreenStream.findIndex(St=>St.peerId===j),D=O>-1?this.remoteScreenStream[O].stream:null,B=((St,nn)=>{const jt=[...St.getAudioTracks(),...St.getVideoTracks()];return nn&&jt.push(...nn.getTracks()),jt})(v,D),[ue,je,Ve]=this.getRemoteScreenStreamInfo(D);let ht=B.flatMap(St=>{if(!((pi,mi,Xn)=>pi.find(un=>{var fr;return un.type==="inbound-rtp"&&((fr=mi.get(Xn))===null||fr===void 0?void 0:fr.includes(un.ssrc))}))(e,c,St.id))return[];const nn=((pi,mi)=>{let Xn=null;return pi.some(un=>un.type==="track")?(Xn=pi.find(un=>un.type==="track"&&un.trackIdentifier===mi.id),Xn.kind=mi.kind):Xn={type:"track",id:mi.id,kind:mi.kind,trackIdentifier:mi.id},Xn})(e,St),jt=((pi,mi,Xn)=>{const un=pi.find(fr=>fr.type==="inbound-rtp"&&mi.get(Xn.trackIdentifier).includes(fr.ssrc));return un.trackId=Xn.id,un})(e,c,nn),Pn=((pi,mi,Xn,un,fr)=>pi.some(Lu=>Lu.type==="stream")?pi.find(Lu=>Lu.type==="stream"&&Lu.trackIds.includes(Xn.id)):un&&un.includes(Xn.trackIdentifier)?{type:"stream",id:fr,streamIdentifier:fr,trackIds:[Xn.id]}:{type:"stream",id:mi.id,streamIdentifier:mi.id,trackIds:[Xn.id]})(e,v,nn,Ve,je);return[jt,nn,Pn]});n.set(j,ht)}),n}getLocalScreenShareInfo(){return a(this,void 0,void 0,function*(){if(this.screenTransceiver==null||this.screenTransceiver.sender==null||this.screenTransceiver.sender.track==null)return[null,null];let t=[...(yield this.screenTransceiver.sender.getStats()).values()].filter(e=>e.type==="outbound-rtp");return t[0]?[t[0].ssrc,this.screenTransceiver.sender.track.id]:[null,null]})}addContentTypeToScreenShareOutboundRtpStats(t,e,n){e&&n&&t.filter(o=>o.type==="outbound-rtp").forEach(o=>{o.ssrc===e&&(o.hasOwnProperty("contentType")||(o.contentType="screenshare"),o.hasOwnProperty("trackId")||(o.trackId=n))})}getRtpStatsForTelemetry(){return a(this,void 0,void 0,function*(){const t=new Date().getTime();return this.rtpStatsForTelemetryCache.timestamp+500<t&&(this.rtpStatsForTelemetryCache=new $t(t,yield this.getLocalRtpStatsForTelemetry())),Object.assign({},this.rtpStatsForTelemetryCache.data)})}getLocalRtpStatsForTelemetry(){return a(this,void 0,void 0,function*(){const t=this.peers.find(j=>j.isMaster),e={metrics:new Map};if(!t)return e;if(!t.connection)return e.metrics.set(t.peerId,[]),e;let n=yield t.connection.getStats(null);n=[...n.values()];const[o,c]=yield this.getLocalScreenShareInfo(),v=[];return n.filter(j=>j.type==="media-source"||j.type==="outbound-rtp"||j.type==="remote-inbound-rtp"&&j.localId||j.type==="candidate-pair"||j.type==="track"&&j.remoteSource===!1).forEach(j=>{v.push(j)}),v.forEach(j=>{!j.hasOwnProperty("kind")&&j.hasOwnProperty("mediaType")&&(j.kind=j.mediaType)}),this.addContentTypeToScreenShareOutboundRtpStats(v,o,c),e.metrics.set(t.peerId,v),e.metrics=new Map([...e.metrics,...this.getRemoteStats(t.connection,n)]),e})}_closePeerConnectionForPeer(t){if(t.process&&t.process.disconnect(),t&&t.stream&&(this.removeStreamEvent(t.peerId,t.stream),t.stream=null),t.connection&&t.connection.signalingState!=="closed"){if(this.screenTransceiver&&this.screenTransceiver.currentDirection!=="inactive"){const e=new MediaStream;e.type=en.ScreenShare,this.removeScreenStreamEvent(t.peerId,e),this.screenTransceiver.sender.track&&this.screenTransceiver.sender.track.stop()}t.connection.close()}t&&(t.close=!0)}onRemoveTrack(t,e){var n,o;if(d("stream onRemoveTrack",e),e.currentTarget.id.search("screen_")!==-1)this.removeScreenStream(t,e.target);else{let c=this.peers.find(v=>v.peerId===t);if(!e.target.getTracks().length)return this.dolbyVoice&&(c==null?void 0:c.audioTransmitting)?(c.stream=new Va(new MediaStream),void this.updateStreamEvent(t,c.stream)):void this.removeStreamEvent(t,e.target);if(this.dolbyVoice&&(c==null?void 0:c.audioTransmitting)&&((n=e.target)===null||n===void 0?void 0:n.getVideoTracks().length)&&!(!((o=e.target)===null||o===void 0)&&o.getAudioTracks().length))return void(c.stream=new Va(e.target));this.updateStreamEvent(t,e.target)}}onScreenRemoveTrack(t,e){if(!e.target.getTracks().length){let n=this.peers.find(c=>c.peerId===t);n&&(n.sharedScreen=!1),d("stream onScreenRemoveTrack",e),e.target.type=en.ScreenShare;const o=this.remoteScreenStream.findIndex(c=>c.peerId===t);o>-1&&(this.removeScreenStreamEvent(t,this.remoteScreenStream[o].stream),this.remoteScreenStream.splice(o,1))}}addStream(t,e,n=ro.Camera){return a(this,void 0,void 0,function*(){let o,c;if(d("addStream",e.getTransceivers(),e.getSenders()),n==ro.Camera?(this.audioTransceiver=e.getTransceivers().find(v=>v.mid==="audio"),this.videoTransceiver=e.getTransceivers().find(v=>v.mid==="video"),o=this.audioTransceiver,c=this.videoTransceiver):(o=e.getTransceivers().find(v=>v.mid===`audio${n}`),c=e.getTransceivers().find(v=>v.mid===`video${n}`)),o&&t.getAudioTracks().length>0&&!this.wasm&&this.addTrack(t.getAudioTracks()[0],e,null),c&&(t.getVideoTracks().length>0&&this.addTrack(t.getVideoTracks()[0],e,null),this.options&&this.options.simulcast))try{const v=c.sender.getParameters();v.encodings||(v.encodings=[{rid:"l",active:!0},{rid:"m",active:!0},{rid:"h",active:!0}]),v.encodings[0]&&(v.encodings[0].scaleResolutionDownBy=4,v.encodings[0].maxBitrate=2e5,v.encodings[0].maxFramerate=20),v.encodings[1]&&(v.encodings[1].scaleResolutionDownBy=2,v.encodings[1].maxBitrate=7e5,v.encodings[1].maxFramerate=25),v.encodings[2]&&(v.encodings[2].scaleResolutionDownBy=1,v.encodings[2].maxBitrate=24e5,v.encodings[2].maxFramerate=25),yield c.sender.setParameters(v)}catch(v){console.error("Simulcast can't be activated"),d("simulcast error",v)}})}setDirection(t,e){t.setDirection?t.setDirection(e):t.direction=e}addScreenStream(t,e,n="audioshare",o="screenshare"){return a(this,void 0,void 0,function*(){yield Promise.all(e.getTransceivers().map(c=>a(this,void 0,void 0,function*(){c.mid===o?(this.screenTransceiver=c,this.setDirection(c,"sendonly"),yield c.sender.replaceTrack(t.getVideoTracks()[0])):c.mid===n&&(this.screenAudioTransceiver=c,this.setDirection(c,"sendonly"),yield c.sender.replaceTrack(t.getAudioTracks()[0]))})))})}removeScreenStream(t,e){return a(this,void 0,void 0,function*(){this.screenAudioTransceiver&&(this.setDirection(this.screenAudioTransceiver,"recvonly"),yield this.screenAudioTransceiver.sender.replaceTrack(null)),this.screenTransceiver&&(this.setDirection(this.screenTransceiver,"recvonly"),yield this.screenTransceiver.sender.replaceTrack(null))})}addTrack(t,e,n){return a(this,void 0,void 0,function*(){yield Promise.all(e.getTransceivers().map(o=>a(this,void 0,void 0,function*(){if(o.mid===t.kind){this.setDirection(o,o.mid==="audio"?"sendrecv":"sendonly"),yield o.sender.replaceTrack(t);const c={track:{readyState:t==null?void 0:t.readyState,kind:t==null?void 0:t.kind,enabled:t==null?void 0:t.enabled,id:t==null?void 0:t.id}};this.emit("traceRtcEvent",Je.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.addTrack",data:c}))}})))})}removeTrack(t,e,n){return a(this,void 0,void 0,function*(){yield Promise.all(e.getTransceivers().map(o=>a(this,void 0,void 0,function*(){if(o.mid===t.kind){this.setDirection(o,o.mid==="audio"?"recvonly":"inactive"),yield o.sender.replaceTrack(null);const c={track:{readyState:t==null?void 0:t.readyState,kind:t==null?void 0:t.kind,enabled:t==null?void 0:t.enabled,id:t==null?void 0:t.id}};this.emit("traceRtcEvent",Je.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.removeTrack",data:c}))}})))})}replaceTrack(t,e){return a(this,void 0,void 0,function*(){yield Promise.all(e.getTransceivers().map(n=>a(this,void 0,void 0,function*(){if(n.mid===t.kind){yield n.sender.replaceTrack(t);const o={track:{readyState:t==null?void 0:t.readyState,kind:t==null?void 0:t.kind,enabled:t==null?void 0:t.enabled,id:t==null?void 0:t.id}};this.emit("traceRtcEvent",Je.ConferenceGlobalTrace.fromData({api:"VoxeetRTCNative.replaceTrack",data:o}))}})))})}onAudioTagError(t){return a(this,void 0,void 0,function*(){this.emit("error",An(t==null?void 0:t.code,t==null?void 0:t.message)),Qe.isAndroid&&(this.audioTags.removeAllAudioTags(),yield this.callWithoutConcurrency(this.restartAllAudioTrackInstances))})}restartAllAudioTrackInstances(){return a(this,void 0,void 0,function*(){for(let t of this.peers)if(t.connection){const e=t.connection.remoteDescription,n=new to({type:e.type,sdp:Yl(e.sdp)});try{yield t.connection.setRemoteDescription(n)}catch(o){console.error("webrtc","VoxeetRTC.restartAllAudioTrackInstances error: ",t.peerId,o)}try{yield t.connection.setRemoteDescription(e)}catch(o){console.error("webrtc","VoxeetRTC.restartAllAudioTrackInstances error: ",t.peerId,o)}}})}updateOptions(t){this.options=Object.assign(Object.assign({},this.options),t)}},V=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})};const ne=E()("vxt:rtc:uplan");class fe extends I{constructor(e){super(e),this.mediaManager.getComfortNoiseLevel=()=>Promise.reject(new Error("not supported")),this.mediaManager.setComfortNoiseLevel=n=>Promise.reject(new Error("not supported"))}onAddTrack(e,n,o){if(ne("stream onAddTrack",o),o.track&&o.track.kind==="audio"){const c=this.getPeerPosition(e);this.audioContext&&(n.process?n.process.updateStream(o.target):(n.process=new Yc(this.audioContext,o.target,!1,this.audio3D),n.process.connect())),this.setPeerPosition(e,c.x,c.y)}this.updateStreamEvent(e,o.target)}addStreamEvent(e,n){super.addStreamEvent(e,n),this.peers.findIndex(o=>o.peerId===tr)>-1?this.peers.filter(o=>o.peerId===e&&!o.isMaster&&o.peerId===tr).forEach(()=>V(this,void 0,void 0,function*(){yield this.callWithoutConcurrency(this.createAudioTag,e,n)})):this.peers.filter(o=>o.peerId===e&&!o.isMaster).forEach(()=>V(this,void 0,void 0,function*(){yield this.callWithoutConcurrency(this.createAudioTag,e,n)}))}updateStreamEvent(e,n){super.updateStreamEvent(e,n),this.peers.findIndex(o=>o.peerId===tr)>-1?this.peers.filter(o=>o.peerId===e&&!o.isMaster&&o.peerId===tr).forEach(()=>V(this,void 0,void 0,function*(){yield this.callWithoutConcurrency(this.updateAudioTag,e,n)})):this.peers.filter(o=>o.peerId===e&&!o.isMaster).forEach(()=>V(this,void 0,void 0,function*(){yield this.callWithoutConcurrency(this.updateAudioTag,e,n)}))}addTrackListeners(e,n,o,c){return V(this,void 0,void 0,function*(){c.ontrack=v=>{let j=v.streams[0];if(j){let X=this.checkStream(j);const O=this.ensurePeer({peerId:X,isMaster:!1});if(O.closed=!1,v.streams[0].id.search("screen_")===-1)v.streams[0].getAudioTracks().length>0&&(this.audioContext&&(O.process?O.process.updateStream(v.streams[0]):(O.process=new Yc(this.audioContext,v.streams[0],!1,this.audio3D),O.process.connect())),v.streams[0].getAudioTracks()[0].enabled=!this.isOutputMuted),v.streams[0].onremovetrack=D=>this.onRemoveTrack(X,D),this.handleIncomingMediaStream(O,v.streams[0]);else{v.streams[0].onremovetrack=B=>this.onScreenRemoveTrack(X,B);const D=v.streams[0];D.type=en.ScreenShare,this.remoteScreenStream.push({stream:D,peerId:X}),setTimeout(()=>{O.sharedScreen&&O.sharedScreen===!0?this.updateScreenStreamEvent(X,v.streams[0]):(this.addScreenStreamEvent(X,v.streams[0]),O.sharedScreen=!0)},1)}}}})}}var Se=class{static create(t){return eo?new Hl:new fe(t)}static sdpSemantics(){return"unified-plan"}static sdpVersion(){return"SDP_V6"}static createDvwcOptions(t,e){return Qe.isDesktop&&(Qe.isChrome||Qe.isEdge)&&t&&e&&e.enabled?typeof t=="boolean"?e:Object.assign(e,t):null}},Ue=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})};E()("vxt:rtc:electron");class Fe{constructor(e){this.audioContext=e,this.oscillator=null,this.fakeAudioSendStream=null}release(){this.stopFakeAudioSendStreamTrack()}addMasterStream(e,n,o){return Ue(this,void 0,void 0,function*(){n||(yield this.addFakeAudioSendStreamTrack(e.connection,n,o))})}addStream(e,n,o){return Ue(this,void 0,void 0,function*(){e.getAudioTracks().length||(yield this.addFakeAudioSendStreamTrack(n,e,o))})}addTrack(e,n,o,c){return Ue(this,void 0,void 0,function*(){yield this.removeFakeAudioSendStreamTrack(e,n,o,c)})}removeTrack(e,n,o){return Ue(this,void 0,void 0,function*(){yield this.addFakeAudioSendStreamTrack(e,n,o)})}addFakeAudioSendStreamTrack(e,n,o){return Ue(this,void 0,void 0,function*(){e.dvc().setListenerMode(!0),yield o(this.startFakeAudioSendStreamTrack(),e,n)})}removeFakeAudioSendStreamTrack(e,n,o,c){return Ue(this,void 0,void 0,function*(){yield c(e,n,o),this.stopFakeAudioSendStreamTrack(),n.dvc().setListenerMode(!1),e.enabled=!1,e.enabled=!0})}startFakeAudioSendStreamTrack(){return this.fakeAudioSendStream||(this.oscillator=this.audioContext.createOscillator(),this.fakeAudioSendStream=this.audioContext.createMediaStreamDestination(),this.oscillator.connect(this.fakeAudioSendStream),this.oscillator.start()),this.fakeAudioSendStream.stream.getAudioTracks()[0]}stopFakeAudioSendStreamTrack(){this.fakeAudioSendStream&&(this.oscillator.stop(),this.oscillator.disconnect(),this.oscillator=null,this.fakeAudioSendStream=null)}}class pt extends fe{constructor(e){super(e),this.engine=null,this.dvcConference=null,this.dvc=null,this.dvc2FakeAudioTrackHelper=null}db2vu(e){if(e===-1/0||e<-100)return 0;if(e>=0)return 1;let n=e/100,o=Math.PI/2+Math.PI/2*n,c=1-Math.cos(o);return c>1?1:c}addPeer({peerId:e,description:n,candidates:o,isMaster:c,state:v="default"}){const j=Object.create(null,{addPeer:{get:()=>super.addPeer}});return Ue(this,void 0,void 0,function*(){yield j.addPeer.call(this,{peerId:e,description:n,candidates:o,isMaster:c,state:v});const X=this.peers.find(O=>O.peerId===e);X&&X.isMaster&&(this.dvcConference=X.connection.dvc(),this.dvcConference.setConferenceDisconnectedErrorCallback(this.conferenceDisconnectedErrorCallback.bind(this)),this.dvc=new DolbyVoice,this.dvc.setFatalErrorCallback(this.fatalErrorCallback.bind(this)),this.mediaManager.getComfortNoiseLevel=this.getComfortNoiseLevel.bind(this),this.mediaManager.setComfortNoiseLevel=this.setComfortNoiseLevel.bind(this))})}configureStateDump(e=60){return Ue(this,void 0,void 0,function*(){if(!this.dvc)throw Yt();return pt.throwIfNotSupported(this.dvc,"setAudioLoggingLength"),this.dvc.setAudioLoggingLength(e)})}getStateDumpConfiguration(){return Ue(this,void 0,void 0,function*(){if(!this.dvc)throw Yt();return pt.throwIfNotSupported(this.dvc,"getAudioLoggingLength"),this.dvc.getAudioLoggingLength()})}createStateDump(e){return Ue(this,void 0,void 0,function*(){if(!this.dvcConference)throw Yt();pt.throwIfNotSupported(this.dvcConference,"createStateDump");const n=yield this.createStateDumpBuffer(e);return{type:"zip",content:new Blob([n])}})}createStateDumpBuffer(e){return Ue(this,void 0,void 0,function*(){if(!e)return this.dvcConference.createStateDump();const n=yield this.getStateDumpConfiguration();n!=0&&(yield this.configureStateDump(0));const o=yield this.dvcConference.createStateDump();return n!=0&&(yield this.configureStateDump(n)),o})}getLevel(e,n){const o=this.peers.find(c=>c.peerId===e);o&&o.isMaster?n(0):o&&!o.isMaster?this.dvcConference.getTalkingLevels().then(c=>{const v=c.find(j=>j.clientId.split("@")[0]===e);n(v.talkingLevel)}).catch(c=>n(0)):n(0)}setRemoteDescription(e,n,o,c,v){const j=Object.create(null,{setRemoteDescription:{get:()=>super.setRemoteDescription}});return Ue(this,void 0,void 0,function*(){yield j.setRemoteDescription.call(this,e,n,o,c,null,v),((X,O,D)=>{const B=(je=>je.split("m=").slice(1).map(Ve=>"m="+Ve))(X),ue=B.find(je=>((Ve,ht)=>{const St=(nn=>{const jt=/^a=mid:(.*)$/m.exec(nn);return!jt||jt.length<2?null:jt[1]})(Ve);return!!St&&St==="audio"})(je));return!!ue&&RegExp("^a=rtpmap:.*DVC-2.*$","m").test(ue)})(c)&&!this.dvc2FakeAudioTrackHelper&&(this.dvc2FakeAudioTrackHelper=new Fe(this.audioContext))})}addMasterStream(e){const n=Object.create(null,{addMasterStream:{get:()=>super.addMasterStream},addTrack:{get:()=>super.addTrack}});return Ue(this,void 0,void 0,function*(){if(yield n.addMasterStream.call(this,e),this.dvc2FakeAudioTrackHelper)return this.dvc2FakeAudioTrackHelper.addMasterStream(e,this.localMediaStream,(o,c,v)=>Ue(this,void 0,void 0,function*(){return n.addTrack.call(this,o,c,v)}))})}addStream(e,n){const o=Object.create(null,{addStream:{get:()=>super.addStream},addTrack:{get:()=>super.addTrack}});return Ue(this,void 0,void 0,function*(){if(yield o.addStream.call(this,e,n),this.dvc2FakeAudioTrackHelper)return this.dvc2FakeAudioTrackHelper.addStream(e,n,(c,v,j)=>Ue(this,void 0,void 0,function*(){return o.addTrack.call(this,c,v,j)}))})}addTrack(e,n,o){const c=Object.create(null,{addTrack:{get:()=>super.addTrack}});return Ue(this,void 0,void 0,function*(){if(this.dvc2FakeAudioTrackHelper&&e.kind==="audio")return this.dvc2FakeAudioTrackHelper.addTrack(e,n,o,(v,j,X)=>Ue(this,void 0,void 0,function*(){return c.addTrack.call(this,v,j,X)}));yield c.addTrack.call(this,e,n,o)})}removeTrack(e,n,o){const c=Object.create(null,{replaceTrack:{get:()=>super.replaceTrack},removeTrack:{get:()=>super.removeTrack}});return Ue(this,void 0,void 0,function*(){if(this.dvc2FakeAudioTrackHelper&&e.kind==="audio")return this.dvc2FakeAudioTrackHelper.removeTrack(n,o,(v,j,X)=>Ue(this,void 0,void 0,function*(){return c.replaceTrack.call(this,v,j,X)}));yield c.removeTrack.call(this,e,n,o)})}release(){super.release(),this.dvcConference&&this.dvcConference.setConferenceDisconnectedErrorCallback(null),this.dvc=null,this.dvcConference=null,this.dvc2FakeAudioTrackHelper&&this.dvc2FakeAudioTrackHelper.release()}setTransparentMode(e){this.dvc.setTransparentMode(e)}setComfortNoiseLevel(e){return this.dvc.setComfortNoise(e)}getComfortNoiseLevel(){return this.dvc.getComfortNoise()}conferenceDisconnectedErrorCallback(e){this.emit("error",new Te("ConferenceDisconnectedError",e))}fatalErrorCallback(){this.dvc=null,this.dvcConference=null,this.emit("error",new Te("FatalError","DolbyVoice process has crashed, please reload your app."))}addFakePeer(e){this.ensurePeer({peerId:e,isMaster:!1})}static throwIfNotSupported(e,n){if(!(n in e))throw new at(`'${n}' is unsupported by ${e.constructor.name} object. Please try the latest NDS version.`)}}function on(t,e){if(!e)return t;const{customPath:n}=e;return n?n():t}var Bt=mt(1323),wn=mt.n(Bt);function Hn(){let t;return typeof document!="undefined"&&(t=function(){let e,n;if(e=document.currentScript,e)n=e.src.split("?")[0];else{const o=document.getElementsByTagName("script");if(!o||o.length===0)return;if(o[o.length-1].src.includes("voxeet-sdk.js"))n=o[o.length-1].src.split("?")[0];else{const c=Array.from(o).find(v=>v.src.includes("voxeet-sdk.js"));c&&(n=c.src.split("?")[0])}}if(n)return n.split("/").slice(0,-1).join("/")+"/"}()),t?t||"/":"//"}let ui=Hn();function wr(){return ui}function Ii(t,e="9737fff95babfc6733d1e0ed45d16601"){return ui+t+"?"+e}class _o{static get dnrLibraryFileUrl(){return Ii("dvdnr.wasm",_o.dolbyIoDvwcVersionHash)}static get mainModelUrl(){const e="lensnet_echo_0_7.bin";return{name:e,fileUrl:Ii(e,_o.dolbyIoDvwcVersionHash)}}static get sideModelsUrls(){return[]}}_o.dolbyIoDvwcVersionHash=wn()("1.4.4");var aa=mt(4590),lh=mt.n(aa),Qd=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})};let hh=!1;class Bu{constructor(e,n,o,c){this.audioPort=e,this.audioContext=n,this.enableInput=o.enableInput,this.config=o,this.reportCallback=c,hh||(this.workletModuleLoaded=this.fetchWorkletScript())}fetchWorkletScript(){const e=Ii(lh());return fetch(e).then(n=>n.text()).then(n=>{const o=new Blob([n],{type:"application/javascript; charset=utf-8"}),c=URL.createObjectURL(o);return this.audioContext.audioWorklet.addModule(c).finally(()=>URL.revokeObjectURL(c))}).then(hh=!0)}createWorklet(){typeof window!="undefined"&&(this.audioNode=new window.AudioWorkletNode(this.audioContext,"dvwc-worklet",{outputChannelCount:[2],processorOptions:Object.assign({namespaces:localStorage.getItem("debug")},this.config)}))}createAudioNode(){return Qd(this,void 0,void 0,function*(){if(!this.audioNode){if(yield this.workletModuleLoaded,this.audioNode)return;try{this.createWorklet()}catch{yield this.fetchWorkletScript(),this.createWorklet()}this.audioNode.port.onmessage=n=>this.reportCallback(n.data);const e={audioPort:this.audioPort};this.audioNode.port.postMessage(e,[this.audioPort])}})}freeAudioResources(){this.audioNode.port.postMessage({action:"stop"}),this.audioNode&&this.audioNode.disconnect(),this.audioNode=null}}class qc{constructor(e){const n=URL.createObjectURL(new Blob([`importScripts(${JSON.stringify(e.toString())});`],{type:"application/javascript"}));this.worker=new Worker(n),URL.revokeObjectURL(n)}getWorker(){return this.worker}}Object.freeze([1,4,4]);const el=Object.freeze({FEC_BITRATE_6P4:"FEC_BITRATE_6P4",FEC_BITRATE_8P0:"FEC_BITRATE_8P0",FEC_BITRATE_9P6:"FEC_BITRATE_9P6",FEC_BITRATE_11P2:"FEC_BITRATE_11P2",FEC_BITRATE_12P8:"FEC_BITRATE_12P8",FEC_BITRATE_14P4:"FEC_BITRATE_14P4",FEC_BITRATE_16P0:"FEC_BITRATE_16P0",FEC_BITRATE_17P6:"FEC_BITRATE_17P6",FEC_BITRATE_19P2:"FEC_BITRATE_19P2",FEC_BITRATE_20P8:"FEC_BITRATE_20P8",FEC_BITRATE_22P4:"FEC_BITRATE_22P4",FEC_BITRATE_24P0:"FEC_BITRATE_24P0"}),ao=(Object.freeze({COMFORT_NOISE_DEFAULT:"COMFORT_NOISE_DEFAULT",COMFORT_NOISE_MEDIUM:"COMFORT_NOISE_MEDIUM",COMFORT_NOISE_LOW:"COMFORT_NOISE_LOW",COMFORT_NOISE_OFF:"COMFORT_NOISE_OFF"}),Object.freeze({ALARM_SEVERITY_GREEN:"green",ALARM_SEVERITY_AMBER:"amber",ALARM_SEVERITY_RED:"red"}),Object.freeze({LOG_NONE:"NONE",LOG_CRITICAL:"CRITICAL",LOG_ERROR:"ERROR",LOG_WARNING:"WARNING",LOG_INFO:"INFO",LOG_DEBUG:"DEBUG"}));Object.freeze({[ao.LOG_NONE]:1,[ao.LOG_CRITICAL]:8,[ao.LOG_ERROR]:16,[ao.LOG_WARNING]:32,[ao.LOG_INFO]:128,[ao.LOG_DEBUG]:512}),Object.freeze({CONNECTION_STATUS_PENDING:"CONNECTION_STATUS_PENDING",CONNECTION_STATUS_CONNECTING:"CONNECTION_STATUS_CONNECTING",CONNECTION_STATUS_CONNECTED:"CONNECTION_STATUS_CONNECTED",CONNECTION_STATUS_FAILED:"CONNECTION_STATUS_FAILED",CONNECTION_STATUS_CONNECTED_DEGRADED_DOWNLINK:"CONNECTION_STATUS_CONNECTED_DEGRADED_DOWNLINK",CONNECTION_STATUS_CONNECTED_DEGRADED_UPLINK:"CONNECTION_STATUS_CONNECTED_DEGRADED_UPLINK",CONNECTION_STATUS_CONNECTED_DEGRADED:"CONNECTION_STATUS_CONNECTED_DEGRADED"}),Object.freeze({OUTPUT_DEVICE_TYPE_SPEAKERS:"OUTPUT_DEVICE_TYPE_SPEAKERS",OUTPUT_DEVICE_TYPE_HEADPHONES:"OUTPUT_DEVICE_TYPE_HEADPHONES"}),Object.freeze({CAPTURE_MODE_PERSONAL:"CAPTURE_MODE_PERSONAL",CAPTURE_MODE_GROUP:"CAPTURE_MODE_GROUP",CAPTURE_MODE_TRANSPARENT:"CAPTURE_MODE_TRANSPARENT",CAPTURE_MODE_UNIVERSAL:"CAPTURE_MODE_UNIVERSAL",CAPTURE_MODE_MUSIC:"CAPTURE_MODE_MUSIC"}),Object.freeze({DEFAULT:"Default",ON:"On",OFF:"Off"}),Object.freeze({STATE_DUMP_MODE_NORMAL:"STATE_DUMP_MODE_NORMAL",STATE_DUMP_MODE_LITE:"STATE_DUMP_MODE_LITE"}),Object.freeze({API:"API",JS:"JS"}),Object.freeze({VERSION_INFO:"JS001",WASM_LOAD_ERROR:"JS002",WASM_LOG_INIT_ERROR:"JS003",WASM_LOG_ERROR:"JS004",WASM_ASYNC_ERROR:"JS005",WASM_DNR_LOAD_ERROR:"JS006",API_ENTRY:"API01",API_EXIT:"API02",API_THROW:"API03"});var tn=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})};const Xi=E()("vxt:rtc:dolbyvoice"),sa=t=>new ke("DolbyVoiceError",t);class Wa{constructor(){this.micClipping=Wa.Severity.unknown,this.networkDownlink=Wa.Severity.unknown,this.networkUplink=Wa.Severity.unknown,this.noiseLevel=Wa.Severity.unknown}update(e){for(let n in e)e.hasOwnProperty(n)&&(this[n]=Wa.Severity[e[n]])}}Wa.Severity=Object.freeze({green:0,amber:1,red:2,unknown:3});class ph{constructor(e){this.worker=e,this.requests={}}request(e,n,o){return tn(this,void 0,void 0,function*(){return this.requests[e]||(this.requests[e]=[]),new Promise((c,v)=>{this.requests[e].push({resolve:c,reject:v}),o?this.worker.postMessage({type:e+"-request",data:n},o):this.worker.postMessage({type:e+"-request",data:n})})})}handleResponse(e,n){if(this.requests[e]){const o=this.requests[e].shift();o&&(n.error?o.reject(sa(n.error)):o.resolve(n.result))}}}var tl,$c,Wu,Xc,mh=class extends I{constructor(t){super(t),this.worker=null,this.workerAsyncCall=null,this.audioChannel=null,this.initResolve=null,this.initReject=null,this.audio=null,this.dvcAudioMuted=!1,this.ragAlarms=new Wa,this.haveSession=!1,this.debugDvwc=E()("vxt:rtc:dvwc"),this.workerLoadResolve=null,this.workerLoadReject=null,this.pendingLevelCallbacks=null,this.cachedLevels=null,this.cachedAudioMode=null,this.cachedEchoCancellation=null,this.cachedComfortNoiseLevel=null,this.stopSessionResolve=null,this.stopSessionReject=null,this.onConnectionStatus=null}stopSession(){return tn(this,void 0,void 0,function*(){if(this.haveSession){let t=new Promise((e,n)=>{this.stopSessionReject=n,this.stopSessionResolve=e});return this.worker.postMessage({type:"leave"}),t}})}resolveStopSession(){this.haveSession=!1,this.stopSessionResolve?(this.stopSessionResolve(),this.stopSessionResolve=null,this.stopSessionReject=null):this.handleUnexpectedLeave()}rejectStopSession(t){this.haveSession=!1,this.stopSessionReject?(this.stopSessionReject(sa(t)),this.stopSessionResolve=null,this.stopSessionReject=null):this.onSessionStopped()}release(){const t=Object.create(null,{release:{get:()=>super.release}});return tn(this,void 0,void 0,function*(){yield this.stopSession(),yield this.onSessionStopped(),yield t.release.call(this)})}setClientRotation(t,e,n){this.worker.postMessage({type:"set-client-rotation",yaw:t,pitch:e,roll:n})}onSessionStopped(){return tn(this,void 0,void 0,function*(){this.audio&&(this.audio.stopInputAudio(),this.audio.stopOutputAudio(),this.audio=null),this.worker&&(yield this.workerAsyncCall.request("release"),this.worker.terminate()),this.stopDataFlow()})}handleUnexpectedLeave(){return tn(this,void 0,void 0,function*(){let t=yield this.createStateDump(!0);this.emit("sessionEnded",t),this.release()})}_closePeerConnectionForPeer(t){t.audioConnection&&t.connection.audioConnection!=="closed"&&t.audioConnection.close(),super._closePeerConnectionForPeer(t)}addPeer({peerId:t,description:e,candidates:n,wasmDescription:o,wasmCandidates:c,isMaster:v,state:j="default"}){const X=Object.create(null,{addPeer:{get:()=>super.addPeer}});return tn(this,void 0,void 0,function*(){const O={enabled:!0};try{!o&&(e==null?void 0:e.oid)&&(e==null?void 0:e.oid.search("WASM"))!==-1&&(o=e,c=n,e=null,n=null),e&&(yield X.addPeer.call(this,{peerId:t,description:e,candidates:n,isMaster:v,state:j,wasmEnabled:O})),o&&(yield this.addPeerWasm({peerId:t,description:o,candidates:c,isMaster:v,state:j}))}catch(D){throw zt.error("webrtc","VoxeetRTCDolbyVoice.addPeer error: ",t,D),D}})}addPeerWasm({peerId:t,description:e,candidates:n,isMaster:o,state:c}){return tn(this,void 0,void 0,function*(){yield this.createPeerConnectionWasm(t,o,c),yield this.setRemoteDescriptionWasm(t,this.getSsrc(e.sdp),e.type,e.sdp,e.oid),n&&(yield Promise.all(n.map(v=>tn(this,void 0,void 0,function*(){yield this.setPeerCandidateWasm(t,v.mid,v.mline_index,v.sdp)})))),yield this.createAnswerWasm(t,c,e.oid)})}ensurePeer({peerId:t,isMaster:e}){return super.ensurePeer({peerId:t,isMaster:e,closed:!1})}createPeerConnectionWasm(t,e,n){return tn(this,void 0,void 0,function*(){let o=this.ensurePeer({peerId:t,isMaster:e}),c=o.audioConnection;if(c&&n==="close"){if(Xi("Reconnecting data channel"),this.dataChannel){let v=this.dataChannel;v.onopen=()=>{},v.onclose=()=>{},v.onerror=j=>{},v.onmessage=j=>{},v.close(),this.dataChannel=null}c&&(c.close(),c=null,o.audioConnection=null)}if(!c){let v=oo().peerConnection.config;v.sdpSemantics="unified-plan",delete v.bundlePolicy,c=new Gn(v,oo().peerConnection.constraints),c.candidates=new Array,c.onicecandidate=j=>{j.candidate?c.candidates.push({sdpMid:j.candidate.sdpMid,sdpMLineIndex:j.candidate.sdpMLineIndex,sdp:j.candidate.candidate}):this.iceCandidatesGatheringCompleteEvent(t,c.candidates)},Xi("createPeerConnection",t," for Data Channel"),o.audioConnection=c,this.dataChannel?Xi("createPeerConnection","Failed to create datachannel for peer ",t," for Data Channel"):(this.dataChannel=o.audioConnection.createDataChannel("DVC",{maxRetransmits:0,negotiated:!1,ordered:!1,id:0}),this.dataChannel.binaryType="arraybuffer",this.addDataChannelListeners(this.dataChannel,t),this.addConnectionListeners(o))}})}setPeerCandidateWasm(t,e,n,o){return tn(this,void 0,void 0,function*(){yield Promise.all(this.peers.filter(c=>c.peerId===t).map(c=>tn(this,void 0,void 0,function*(){yield c.audioConnection.addIceCandidate(new Gd({candidate:o,sdpMLineIndex:n,sdpMid:e}))})))})}setRemoteDescriptionWasm(t,e,n,o,c,v){return tn(this,void 0,void 0,function*(){Xi("setRemoteDescriptionWasm"),Xi("Offer",o),yield Promise.all(this.peers.filter(j=>j.peerId===t).map(j=>tn(this,void 0,void 0,function*(){try{yield j.audioConnection.setRemoteDescription(new to({type:n,sdp:o})),this.emit("traceRtcEvent",Je.ConferenceGlobalTrace.fromData({api:"VoxeetRTCDolbyVoice.setRemoteDescriptionWasm",data:{oid:c}}))}catch(X){throw zt.error("webrtc","VoxeetRTCDolbyVoice.setRemoteDescriptionWasm error: ",t,X),RemoteDescriptionError(X,j.peerId)}})))})}createAnswer(t,e="default",n){const o=Object.create(null,{createAnswer:{get:()=>super.createAnswer}});return tn(this,void 0,void 0,function*(){o.createAnswer.call(this,t,e,n,{enabled:!0,audio:!(this.listenOnly||!this.isInputAudio())})})}createAnswerWasm(t,e="default",n){return tn(this,void 0,void 0,function*(){Xi("createAnswerWasm",t,n),this.emit("traceRtcEvent",Je.ConferenceGlobalTrace.fromData({api:"VoxeetRTCDolbyVoice.createAnswerWasm",data:{oid:n}}));const o=this.peers.find(c=>c.peerId===t);if(!o)throw nt(t);try{const c=yield o.audioConnection.createAnswer();Xi("Answer",c.sdp),yield o.audioConnection.setLocalDescription(c),this.emit("traceRtcEvent",Je.ConferenceGlobalTrace.fromData({api:"VoxeetRTCDolbyVoice.setLocalDescriptionWasm",data:{oid:n}}));const v={enabled:!0,audio:!(this.listenOnly||!this.isInputAudio())};this.sessionCreatedEvent(t,o.audioConnection.localDescription,null,"none",e,n,v)}catch(c){throw zt.error("webrtc","VoxeetRTCDolbyVoice.createAnswerWasm",c),CreateAnswerError(c,o.peerId)}})}addMasterStream(t){return tn(this,void 0,void 0,function*(){if(Xi("addMasterStream",t),this.localMediaStream){const e=!t.stream;yield this.addStream(this.localMediaStream,t.connection),t.stream=this.localMediaStream,e?this.addStreamEvent(t.peerId,this.localMediaStream):this.updateStreamEvent(t.peerId,this.localMediaStream)}})}addTrackListeners(t,e,n,o){return tn(this,void 0,void 0,function*(){o.ontrack=c=>{let v=c.streams[0];if(v){let j=this.checkStream(v),X=this.ensurePeer({peerId:j,isMaster:!1});if(X.closed=!1,c.streams[0].id.search("screen_")===-1)c.streams[0].onremovetrack=O=>this.onRemoveTrack(j,O),this.handleIncomingMediaStream(X,c.streams[0]);else{c.streams[0].onremovetrack=D=>this.onScreenRemoveTrack(j,D);const O=c.streams[0];O.type=en.ScreenShare,this.remoteScreenStream.push({stream:O,peerId:j}),setTimeout(()=>{X.sharedScreen&&X.sharedScreen===!0?this.updateScreenStreamEvent(j,c.streams[0]):(this.addScreenStreamEvent(j,c.streams[0]),X.sharedScreen=!0)},1)}}},o.onremovestream=c=>{Xi("onremovestream",c),c.stream.id.search("screen_")}})}startScreenShare(t){return t.audio&&console.warn("Screen-share with audio is not supported in Dolby Voice conferences for participants who use the Dolby Voice Codec. Sharing will be continued without audio."),t.audio=!1,super.startScreenShare(t)}_startInputAudio(t){return this.worker.postMessage({type:"start-input-audio",inputAudioConfig:t}),this.cachedAudioMode&&this.setCaptureMode(this.cachedAudioMode),this.cachedEchoCancellation&&this.setEchoCancellation(this.cachedEchoCancellation),this.audio.startInputAudio(this.localMediaStream)}getLocalAudioTweaks(){const t=localStorage.getItem("audioTweaks");if(!t)return null;try{return JSON.parse(t)}catch{return Xi("Incorrect audioTweaks override format - ignoring"),null}}_createInputAudioConfig(t){let e="inputAudioConfig"in this.wasm?this.wasm.inputAudioConfig:{typingNoiseSuppression:!0};return t!=null&&t.hasOwnProperty("refBulkGainDb")&&(e.refBulkGainDb=t.refBulkGainDb),e}getDefaultAudioConstraints(){let t=super.getDefaultAudioConstraints();return t.autoGainControl=!1,t.googAutoGainControl=!1,t.echoCancellation=!1,t.noiseSuppression=!1,t}initDvwcAudio(t){return tn(this,void 0,void 0,function*(){const e=new MessageChannel,n=this.getLocalAudioTweaks(),o=Object.assign(Object.assign(Object.assign({},{outputQueueMs:30,crossFadeMs:10,rampMs:50}),n),this.options.audioTweaks),c=1.5*this.audioContext.baseLatency;o.outputQueueMs<c&&(o.outputQueueMs=c),o.hasOwnProperty("enableOutputChange")?this.enableOutputChange=o.enableOutputChange:this.enableOutputChange=!0,this.audio=new class{constructor(O,D,B){if(this.audioContext=D,!this.audioContext.audioWorklet)throw new wt("NotSupportedError","This operation is not supported on this browser");this.impl=new Bu(O,this.audioContext,B,ue=>this.collectAudioReport(ue)),this.audioReport=this.initialAudioReport(),this.enableOutputChange=B.enableOutputChange}get audioNode(){return this.impl.audioNode||null}createAudioNode(){return this.impl.createAudioNode()}startInputAudio(O){return Qd(this,void 0,void 0,function*(){try{let D=this.mediaStreamSource=this.audioContext.createMediaStreamSource(O);yield this.createAudioNode(),D.connect(this.audioNode),zt.info("webrtc","DvcAudio.startInputAudio","Input started")}catch(D){throw zt.error("webrtc","DvcAudio.startInputAudio",D),D}})}freeInputAudioResources(){this.mediaStreamSource&&this.mediaStreamSource.disconnect(),this.mediaStreamSource=null}freeAudioResources(){this.impl.freeAudioResources(),this.audioContext=null}stopInputAudio(){try{this.freeInputAudioResources(),zt.info("webrtc","DvcAudio.stopInputAudio","Input destroyed")}catch(O){zt.error("webrtc","DvcAudio.stopInputAudio",O)}}startOutputAudio(){return Qd(this,void 0,void 0,function*(){try{yield this.createAudioNode();let O=this.enableOutputChange?this.audioContext.createMediaStreamDestination():this.audioContext.destination;return this.audioNode.connect(O),zt.info("webrtc","DvcAudio.startOutputAudio","Output started"),O.stream}catch(O){throw zt.error("webrtc","DvcAudio.startOutputAudio",O),O}})}stopOutputAudio(){try{this.freeAudioResources(),zt.info("webrtc","DvcAudio.stopOutputAudio","Output destroyed")}catch(O){zt.error("webrtc","DvcAudio.stopOutputAudio",O)}}initialAudioReport(){return{outputBuffer:{overrun:{have:!1,times:0,longestTicks:0,sumTicksDuration:0},underrun:{have:!1,times:0,longestTicks:0,sumTicksDuration:0}}}}collectAudioReport(O){if(O.type==="output-buffer-condition"){let D;switch(O.condition){case"overrun":D=this.audioReport.outputBuffer.overrun;break;case"underrun":D=this.audioReport.outputBuffer.underrun;break;default:return}switch(O.event){case"start":D.have=!0;break;case"end":D.have=!1,D.times++,O.count>D.longestTicks&&(D.longestTicks=O.count),D.sumTicksDuration+=O.count;break;default:return}}}createAudioReport(){const O=structuredClone(this.audioReport),D=this.audioReport.outputBuffer;return D.overrun.times=0,D.overrun.longestTicks=0,D.overrun.sumTicksDuration=0,D.underrun.times=0,D.underrun.longestTicks=0,D.underrun.sumTicksDuration=0,O}}(e.port1,this.audioContext,{enableInput:Boolean(this.localMediaStream),outputQueueMs:o.outputQueueMs,crossFadeMs:o.crossFadeMs,rampMs:o.rampMs,enableOutputChange:this.enableOutputChange});const v={debug:this.debugDvwc.enabled||!1,namespaces:localStorage.getItem("debug"),audioPort:e.port2,sampleRate:this.audio.audioContext.sampleRate,outputAudioConfig:"outputAudioConfig"in this.wasm?this.wasm.outputAudioConfig:{},dnrConfig:(o==null?void 0:o.hasOwnProperty("dnrEnabled"))&&o.dnrEnabled==1?{libraryUrl:_o.dnrLibraryFileUrl,mainModel:_o.mainModelUrl,sideModels:_o.sideModelsUrls}:null,urlPrefix:wr(),osIsWindows:Qe.isWindows};yield this.workerAsyncCall.request(t,v,[e.port2]);const j=this._createInputAudioConfig(o);!this.listenOnly&&this.constraints.audio&&this.isInputAudio()&&(yield this._startInputAudio(j),this.cachedAudioMode&&(yield this.setCaptureMode(this.cachedAudioMode)));const X=yield this.audio.startOutputAudio();this.cachedComfortNoiseLevel&&(yield this.setComfortNoiseLevel(this.cachedComfortNoiseLevel)),this.enableOutputChange&&(yield this.createAudioElement(X))})}init({constraints:t,processCb:e,listenOnly:n,ownerId:o,options:c,dvwc:v,videoTrack:j,audioTrack:X,dolbyVoice:O}){const D=Object.create(null,{init:{get:()=>super.init}});return tn(this,void 0,void 0,function*(){const B=Object.assign(Object.assign({},t),{audio:!!t.audio&&Object.assign(Object.assign({},t.audio),{autoGainControl:!1,googAutoGainControl:!1,echoCancellation:!1,noiseSuppression:!1})});c.audioContextOptions={sampleRate:48e3},yield D.init.call(this,{constraints:B,processCb:e,listenOnly:n,ownerId:o,options:c,videoTrack:j,audioTrack:X,dolbyVoice:O}),yield this.initDvwc(v),this.mediaManager.getComfortNoiseLevel=this.getComfortNoiseLevel.bind(this),this.mediaManager.setComfortNoiseLevel=this.setComfortNoiseLevel.bind(this)})}initDvwc(t){return tn(this,void 0,void 0,function*(){if(t&&!this.worker)try{const e=new Promise((c,v)=>{this.workerLoadResolve=c,this.workerLoadReject=v});this.wasm=t;const n=new on(new URL(mt.p+mt.u(348),mt.b),{name:"worker",customPath:()=>new URL(Ii("voxeet-dvwc-worker.js"))}),o=new qc(n);this.worker=o.getWorker(),this.workerAsyncCall=new ph(this.worker),this.worker.onmessage=c=>this.onWorkerMessage(c.data),this.worker.onerror=()=>{this.workerLoadReject({message:"Unable to load DVWC worker file"})},yield e,yield this.initDvwcAudio("init"),this.ensurePeer({peerId:tr,isMaster:null})}catch(e){throw Xi(`Dvwc init failed: reason ${e}`),yield this.release(),e}})}handleDvwcLog(t){this.debugDvwc(`Log: ${t.timestamp.toISOString()} ${t.level.padStart(10," ")} ${t.component} ${t.msgId} ${t.message}
`)}onWorkerMessage(t){switch(t.type){case"worker-loaded":this.workerLoadResolve&&this.workerLoadResolve();break;case"packet":this.sendPacket(t.packet);break;case"session-stopped":this.resolveStopSession();break;case"session-stop-rejected":this.rejectStopSession(t.reason);break;case"log":this.handleDvwcLog(t.entry);break;case"alarms":this.onAlarms(t.alarms);break;case"input-level":this.onAudioLevel(t.level);break;case"talkers":this.onTalkers(t.levels);break;case"status":this.onConnectionStatus(t.status);break;case"output-buffer-condition":this.onAudioReport(t);break;case"callback-gap-detected":this.onCallbackGapDetected();break;case"no-op":break;default:const e=t.type.match(/(.*)-response/);e&&this.workerAsyncCall.handleResponse(e[1],t)}}restartAudio(){return tn(this,void 0,void 0,function*(){return this.callWithoutConcurrency(()=>tn(this,void 0,void 0,function*(){yield this.restartAudioInternal()}))})}restartAudioInternal(){return tn(this,void 0,void 0,function*(){yield this.workerAsyncCall.request("release");let t=!1;if(this.customAudio||(this.audioTrack&&(t=this.audioTrack.enabled,this.audioTrack.stop()),this.localMediaStream&&this.localMediaStream.getAudioTracks().forEach(e=>e.stop())),this.audio&&(this.audio.stopInputAudio(),this.audio.stopOutputAudio(),this.audio=null),!this.listenOnly&&this.constraints.audio&&this.isInputAudio()&&!this.customAudio){const e=yield this.getUserMediaWithChecks(Object.assign(Object.assign({},this.constraints),{video:!1}));this.localMediaStream.removeTrack(this.localMediaStream.getAudioTracks()[0]),this.audioTrack=e.getAudioTracks()[0],this.audioTrack.enabled=t,this.localMediaStream.addTrack(this.audioTrack)}yield this.initDvwcAudio("reconnect-audio")})}onCallbackGapDetected(){return tn(this,void 0,void 0,function*(){this.isLeavingConference||(yield this.restartAudio())})}onDeviceChanged(){return tn(this,void 0,void 0,function*(){yield this.restartAudio()})}onAudioElementError(t){return tn(this,void 0,void 0,function*(){this.emit("error",An(t==null?void 0:t.code,t==null?void 0:t.message))})}createAudioElement(t){return tn(this,void 0,void 0,function*(){t&&t.getAudioTracks().length>0&&(this.audioElement||(this.audioElement=new Audio,this.audioElement.addEventListener("error",e=>{var n;return this.onAudioElementError((n=e==null?void 0:e.target)===null||n===void 0?void 0:n.error)})),Hs(this.audioElement,t),yield this.audioElement.play())})}addDataChannelListeners(t,e){t.onopen=()=>this.startDataFlow(t),t.onclose=()=>this.stopDataFlow(),t.onerror=n=>{n.error&&n.error.message&&n.error.message=="Protocol Violation"?(zt.error("webrtc","VoxeetRTCDolbyVoice.dataChannel.onerror reconnecting datachannel ",n.error),this.emit("reconnect",Nn(e,n.error?n.error.message:void 0))):(zt.error("webrtc","VoxeetRTCDolbyVoice.dataChannel.onerror",n.error),this.emit("error",Nn(e,n.error?n.error.message:void 0)),this.handleUnexpectedLeave())}}addConnectionListeners({peerId:t,connection:e}){this.onConnectionStatus=n=>{n.startsWith("FAILED")&&this.emit("error",(o=>new De("MediaServerConnectionError","Connnection to media server has failed",o))(t))},e.oniceconnectionstatechange=n=>{this.connectionStatusEvent({peerId:t,connectionStatus:n.target.iceConnectionState,signalingState:n.target.signalingState})},e.onsignalingstatechange=n=>{this.connectionStatusEvent({peerId:t,connectionStatus:n.target.iceConnectionState,signalingState:n.target.signalingState})}}startDataFlow(t){if(!this.haveSession){const e={type:"join"};typeof this.wasm=="object"&&"sessionConfig"in this.wasm?e.sessionConfig=this.wasm.sessionConfig:e.sessionConfig={};const n=this.getLocalAudioTweaks();e.sessionConfig.networkProbingConfig=n!=null&&n.hasOwnProperty("networkProbingConfig")?n.networkProbingConfig:{gapLength:0,burstLength:20},e.sessionConfig.fec=n!=null&&n.hasOwnProperty("fec")?n.fec:{delay:0,bitrate:el.FEC_BITRATE_16P0,dynamicThresholds:[1],dynamicDecay:60},this.worker.postMessage(e),this.haveSession=!0}t.onmessage=this.receiveDataChannelPacket.bind(this)}sendPacket(t){let e=this.dataChannel;e&&e.readyState==="open"&&e.send(t)}stopDataFlow(){try{if(this.dataChannel){let t=this.dataChannel;this.dataChannel=null,t.close()}}catch(t){console.log(t)}}renegociate({peerId:t,description:e,candidates:n}){return tn(this,void 0,void 0,function*(){try{yield this.addPeerWasm({peerId:t,description:e,candidates:n,isMaster:!0,state:"close"})}catch(o){throw zt.error("webrtc","VoxeetRTCDolbyVoice.renegociate: ",t,o),o}})}receiveDataChannelPacket(t){let e=t.data;this.worker.postMessage({type:"packet",packet:e},[e])}mutePeer(t,e){this.peers.filter(n=>n.peerId===t).map(n=>{n.isMaster?this.haveSession?(this.dvcAudioMuted=e,"sessionConfig"in this.wasm||(this.wasm.sessionConfig={}),this.wasm.sessionConfig.inputMute=e,this.worker.postMessage({type:"input-mute",mute:this.dvcAudioMuted})):this.audioTrack&&(this.audioTrack.enabled=!e):(n.process&&n.process.mute(e),this.audioTags&&this.audioTags.muteAudioTag(t,e))})}muteOutput(t){this.worker.postMessage({type:"set-output-mute",isMuted:t})}toggleMute(t){let e=!1;return this.peers.filter(n=>n.peerId===t).map(n=>{if(n.isMaster)e=this.toggleOwnMute();else if(n.process&&(e=n.process.toggleMute()),this.audioTags){const o=this.audioTags.toggleMute(t);this.audio3D||(e=o)}}),e}isOwnMuted(){return this.haveSession?this.dvcAudioMuted:!this.audioTrack.enabled}toggleOwnMute(){return this.haveSession?(this.dvcAudioMuted=!this.dvcAudioMuted,this.worker.postMessage({type:"input-mute",mute:this.dvcAudioMuted}),this.dvcAudioMuted):(this.audioTrack.enabled=!this.audioTrack.enabled,!this.audioTrack.enabled)}setGain(t,e){throw new at}db2vu(t){if(t===-1/0||t<-100)return 0;if(t>=0)return 1;let e=t/100,n=Math.PI/2+Math.PI/2*e,o=1-Math.cos(n);return o>1?1:o}getLevel(t,e){this.worker||e(0);let n=this.peers.find(o=>o.peerId===t);if(n&&n.isMaster)this.audioLevelCallback=o=>{const c=this.db2vu(o);e(c)},this.worker.postMessage({type:"get-input-level"});else if(this.cachedLevels)e(this.cachedLevels.get(t)||0);else{this.pendingLevelCallbacks||(this.pendingLevelCallbacks=new Map,this.worker.postMessage({type:"get-talkers"}));let o=this.pendingLevelCallbacks.get(t);o?o.push(e):this.pendingLevelCallbacks.set(t,[e])}}onAlarms(t){this.ragAlarms.update(t)}onAudioLevel(t){if(this.audioLevelCallback){const e=this.audioLevelCallback;this.audioLevelCallback=null,e(t)}}onTalkers(t){this.cachedLevels=new Map;for(const e of t){const n=e.id.split("@")[0],o=e.level;this.cachedLevels.set(n,o)}for(const[e,n]of this.pendingLevelCallbacks){const o=this.cachedLevels.get(e)||0;for(const c of n)try{c(o)}catch{}}this.pendingLevelCallbacks=null,setTimeout(()=>this.cachedLevels=null,100)}isSpeaking(t,e){this.getLevel(t,n=>{n>this.speechThreshold?e(!0):e(!1)})}isInputAudio(){return this.localMediaStream&&this.localMediaStream.getAudioTracks().length>0}onAudioReport(t){this.audio&&this.audio.collectAudioReport(t)}stopAudioForPeerInternal(t){return tn(this,void 0,void 0,function*(){for(const e of this.peers.filter(n=>n.peerId===t))if(e.stream&&e.isMaster){if(!this.isInputAudio())throw new dt("Already stopped");let n=this.audioTrack;n.stop(),this.audio&&this.audio.stopInputAudio(),this.worker&&this.worker.postMessage({type:"stop-input-audio"}),this.localMediaStream.removeTrack(n),this.localMediaStream.getTracks().length?this.updateStreamEvent(t,this.localMediaStream):(this.removeStreamEvent(t,this.localMediaStream),this.localMediaStream=null)}})}startAudioForPeerInternal(t,e){return tn(this,void 0,void 0,function*(){for(const n of this.peers.filter(o=>o.peerId===t))if(n.isMaster){if(this.localMediaStream&&this.localMediaStream.getAudioTracks().length>0)throw new dt("Already started");try{let o=null;if(e instanceof MediaStreamTrack)this.audioTrack=e,o=new MediaStream([e]),this.customAudio=!0;else{let c=JSON.parse(JSON.stringify(this.constraints));c.video=!1,e?c.audio=this.constraints.audio=e:c.audio||(c.audio=this.constraints.audio=this.getDefaultAudioConstraints()),o=yield this.getUserMediaWithChecks(c),this.audioTrack=o.getAudioTracks()[0]}return this.localMediaStream?(this.localMediaStream.addTrack(this.audioTrack),this.worker?this.audio&&this._startInputAudio():yield this.addTrack(this.audioTrack,n.audioConnection,this.localMediaStream,"audio"),this.updateStreamEvent(t,this.localMediaStream)):(this.localMediaStream=o,this.localMediaStream.type=en.Camera,n.stream=o,this.worker&&this.audio&&this._startInputAudio(),yield this.addStream(this.localMediaStream,n.audioConnection),this.addStreamEvent(t,this.localMediaStream)),yield this.updateSelectedInputAudioDevice(),this.audioTrack}catch(o){throw new Ye(o)}}})}selectAudioInput(t){return tn(this,void 0,void 0,function*(){for(const e of this.peers.filter(n=>n.isMaster===!0)){typeof this.constraints.audio!="object"&&(this.constraints.audio=this.getDefaultAudioConstraints()),this.constraints=Object.assign(Object.assign({},this.constraints),{audio:Object.assign(Object.assign({},this.constraints.audio),{deviceId:{exact:t.deviceId}})});try{yield this.onDeviceChanged(),this.localMediaStream&&this.updateStreamEvent(e.peerId,this.localMediaStream)}catch(n){throw n}}})}selectAudioOutput(t){return tn(this,void 0,void 0,function*(){const e=t.deviceId;if(!this.enableOutputChange)throw new at;if(e&&this.audioElement)return yield this.audioElement.setSinkId(e),void(yield this.onDeviceChanged());throw new Error("Unavailable")})}getLocalRtpStats(){return tn(this,void 0,void 0,function*(){const t=this.peers.find(o=>o.isMaster),e=yield this.getRtpStatsForTelemetry(),n=e==null?void 0:e.metrics;if(t){const o=n.get(t.peerId).filter(v=>v.type==="candidate-pair"),c=e.dvcStats?e.dvcStats:{};for(const[v,j]of n){let X=0,O=0;if(v===t.peerId){const D=j.filter(je=>(je.type==="remote-inbound-rtp"||je.type==="inbound-rtp")&&je.kind==="audio"),B=j.filter(je=>je.type==="outbound-rtp"&&je.kind==="audio");let ue=[];if(this.lastStats[v]&&(ue=this.lastStats[v].filter(je=>je.type==="outbound-rtp"&&je.kind==="audio")),c.length>0){const je=parseFloat(c[0].uplinkPacketLossCount)/parseFloat(c[0].uplinkPacketCount);X=ra(parseFloat(100*je),parseFloat(c[0].roundTripTime),parseFloat(c[0].uplinkJitter))}else if(D.length>0&&B.length>0&&ue.length>0&&B[0].bytesSent>ue[0].bytesSent){let je=o[0].currentRoundTripTime?o[0].currentRoundTripTime:D[0].roundTripTime;je=je||this.recentlySeenRTT,this.recentlySeenRTT=je;const Ve=parseFloat(D[0].packetsLost)/parseFloat(B[0].packetsSent);X=ra(parseFloat(100*Ve),1e3*parseFloat(je),1e3*parseFloat(D[0].jitter))}if(this.localMediaStream){let je=this.localMediaStream.getVideoTracks();O=Vu(this.lastStats[v],j,je)}}else{const D=j.filter(ue=>ue.type==="inbound-rtp"&&ue.kind==="audio");if(c.length>0){const ue=parseFloat(c[0].downlinkPacketLossCount)/parseFloat(c[0].downlinkPacketCount);X=ra(parseFloat(100*ue),parseFloat(c[0].roundTripTime),parseFloat(c[0].downlinkJitter))}else if(D.length>0&&o.length>0){const ue=parseFloat(D[0].packetsLost)/parseFloat(D[0].packetsReceived);X=ra(parseFloat(100*ue),1e3*parseFloat(o[0].currentRoundTripTime),1e3*parseFloat(D[0].jitter))}const B=this.peers.findIndex(ue=>ue.peerId===tr)>-1;O=Zd(this.lastStats[v],j,B)}this.lastStats[v]=[...j],n.set(v,[...j,{id:"Scores",audio:X,video:O}])}}return n})}getDvcStats(){return this.workerAsyncCall.request("stats")}getRagAlarms(){return this.ragAlarms}getLocalRtpStatsForTelemetry(){return tn(this,void 0,void 0,function*(){const t=this.peers.find(n=>n.isMaster),e={metrics:new Map};if(t){let n=yield t.connection.getStats(null),o=t.audioConnection?yield t.audioConnection.getStats(null):[];n=[...n.values()],o=[...o.values()];const c=[];if(n.filter(j=>j.type==="media-source"||j.type==="outbound-rtp"||j.type==="remote-inbound-rtp"&&j.localId||j.type==="candidate-pair"||j.type==="track"&&j.remoteSource===!1).forEach(j=>{c.push(j)}),o.filter(j=>j.type=="data-channel"||j.type==="candidate-pair"||j.type==="transport").forEach(j=>{c.push(j)}),c.forEach(j=>{!j.hasOwnProperty("kind")&&j.hasOwnProperty("mediaType")&&(j.kind=j.mediaType)}),e.metrics.set(t.peerId,c),Qe.isChrome?n.filter(j=>j.type==="stream").forEach(j=>{const X=/([0-9]*)_?([a-zA-Z0-9]*)_?([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})/gm.exec(j.streamIdentifier);if(X&&X[3]){const O=new Array;O.push(j),j.trackIds.forEach(D=>{n.filter(B=>B.id==D||B.trackId==D).forEach(B=>O.push(B))}),e.metrics.get(X[3])&&O.push(...e.metrics.get(X[3])),e.metrics.set(X[3],O)}else zt.error("webrtc","VoxeetRTCNative.getLocalRtpStatsForTelemetry","Unable to found peer for stream telemetry")}):this.peers.forEach(({stream:j,peerId:X})=>{if(!j)return;const O=[...j.getAudioTracks(),...j.getVideoTracks()].flatMap(je=>n.filter(Ve=>Ve.trackIdentifier===je.id)),D=O.flatMap(je=>n.filter(Ve=>Ve.trackId===je.id&&Ve.type==="inbound-rtp")),B=[...O,...D],ue=[];e.metrics.get(X)&&ue.push(...e.metrics.get(X)),e.metrics.set(X,[...B,...ue])}),e.metrics.set(tr,[]),this.worker){const j=yield this.getDvcStats(),X=this.getRagAlarms();if(e.dvcStats=j,e.ragAlarms=X,j){const O={ssrc:2,trackId:"",mediaType:"audio",packetsSent:j.uplinkPacketCount,bytesSent:j.uplinkPayloadBytes,retransmittedPacketsSent:0,retransmittedBytesSent:0,type:"outbound-rtp"},D={ssrc:2,kind:"audio",packetLost:j.uplinkPacketLossCount,jitter:.001*j.uplinkJitter,roundTripTime:j.roundTripTime,type:"remote-inbound-rtp"},B={kind:"audio",audioLevel:j.outputLevel,totalAudioEnergy:j.totalAudioEnergy,totalSamplesDuration:j.totalSamplesDuration,type:"media-source"};e.metrics.set(t.peerId,e.metrics.get(t.peerId).concat(Object.assign({id:"RTCOutboundRTPAudioStream_2"},O)).concat(Object.assign({id:"RTCRemoteInboundRTPAudioStream_2"},D)).concat(Object.assign({id:"RTCAudioSource_2"},B)));const ue={audioLevel:j.outputLevel,bytesReceived:j.downlinkPayloadBytes,jitter:.001*j.downlinkJitter,mediaType:"audio",packetsLost:j.downlinkPacketLossCount,packetsReceived:j.downlinkPacketCount,ssrc:2,trackId:"RTCMediaStreamTrack_receiver_1",transportId:"RTCTransport_audio_1",type:"inbound-rtp"},je={type:"track",kind:"audio",audioLevel:j.outputLevel};e.metrics.set(tr,[Object.assign({id:"RTCInboundRTPAudioStream_2"},ue),Object.assign({id:"RTCMediaStreamTrack_receiver_1"},je)])}}if(this.audio){const j=this.audio.createAudioReport(),X={type:"audio",bufferIsOverrun:j.outputBuffer.overrun.have,bufferOverrunTimes:j.outputBuffer.overrun.times,bufferOverrunMaxLength:j.outputBuffer.overrun.longestTicks,bufferOverrunDuration:j.outputBuffer.overrun.sumTicksDuration,bufferIsUnderrun:j.outputBuffer.underrun.have,bufferUnderrunTimes:j.outputBuffer.underrun.times,bufferUnderrunMaxLength:j.outputBuffer.underrun.longestTicks,bufferUnderrunDuration:j.outputBuffer.underrun.sumTicksDuration};e.metrics.set(tr,e.metrics.get(tr).concat(Object.assign({id:"WebAudioStats"},X)))}const v=this.getRemoteStats(t.connection,n);e.metrics=new Map([...v,...e.metrics])}return e})}createStateDump(t){return this.workerAsyncCall.request("state-dump",{liteMode:t})}configureStateDump(t){this.worker.postMessage({type:"audio-logging-length",length:t})}setTransparentMode(t){return tn(this,void 0,void 0,function*(){yield this.workerAsyncCall.request("set-transparent-mode",{transparent:t})})}getCaptureMode(){return tn(this,void 0,void 0,function*(){return(yield this.workerAsyncCall.request("get-capture-mode"))||this.cachedAudioMode})}setCaptureMode(t){return tn(this,void 0,void 0,function*(){this.cachedAudioMode=t,yield this.workerAsyncCall.request("set-capture-mode",t)})}setEchoCancellation(t){return tn(this,void 0,void 0,function*(){this.cachedEchoCancellation=t,yield this.workerAsyncCall.request("set-echo-cancellation",t)})}setComfortNoiseLevel(t){return tn(this,void 0,void 0,function*(){this.cachedComfortNoiseLevel=t,yield this.workerAsyncCall.request("set-comfort-noise",{level:t})})}getComfortNoiseLevel(){return tn(this,void 0,void 0,function*(){return this.workerAsyncCall.request("get-comfort-noise")})}},Gu=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Ga=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class fh{constructor(e,n,o){this.resolve=e,this.reject=n,this.fn=o}}tl=new WeakMap,$c=new WeakMap,Wu=new WeakMap,Xc=new WeakMap;var Hu;(function(t){t.LastSpeaker="lastSpeakerStrategy",t.ClosestUser="closestUserStrategy"})(Hu||(Hu={}));class gh{constructor(e,n){this.userId=e,this.streamIndex=n}}var ks=mt(7806),Jc=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})};const ca=E()("vxt:rtc:millicast");var Ci,Yu,Js,To,qu=class extends I{constructor(t){super(t),this.autoReconnect=!0,this.millicastView=null,this.peerId=null,this.stream=null,this.liveStreamActive=!1,ks.Logger.setLevel(ca!=null&&ca.enabled?ks.Logger.DEBUG:ks.Logger.WARN)}release(){const t=Object.create(null,{release:{get:()=>super.release}});return Jc(this,void 0,void 0,function*(){this.stopRtsView(),yield t.release.call(this)})}stopRtsView(){this.millicastView&&(this.millicastView.removeAllListeners(),this.millicastView.stop(),this.millicastView=null,this.removePeer(this.peerId),this.peerId=null,this.stream=null,this.liveStreamActive=!1)}startRtsView(t,e,n){return Jc(this,void 0,void 0,function*(){this.stopRtsView(),ks.Director.setEndpoint("https://director.millicast.com"),this.millicastView=new ks.View(t,()=>ks.Director.getSubscriber(t,e,n),null,this.autoReconnect),this.millicastView.on("broadcastEvent",v=>{this.onBroadcastEvent(v).catch(j=>{this.emit("error",j)})}),this.millicastView.on("track",v=>{this.onTrack(v).catch(j=>{this.emit("error",j)})});const o={disableVideo:!1,disableAudio:!1,peerConfig:Object.assign(Object.assign({},oo().peerConnection.config),{sdpSemantics:"unified-plan"})};yield this.millicastView.connect(o);const c=this.peers.find(v=>v.isMaster);c&&c.connection!==this.millicastView.webRTCPeer.getRTCPeer()&&(c.connection=this.millicastView.webRTCPeer.getRTCPeer(),yield this.addConnectionListeners(c)),ca("RTS Viewer connected")})}selectSimulcastLayer(t){return Jc(this,void 0,void 0,function*(){if(!this.millicastView)throw new Error("Viewer service is not available");const e=(n=>{let o;switch(n){case br.SD:o="l";break;case br.MD:o="m";break;case br.HD:o="h"}return o})(t);yield this.millicastView.select({encodingId:e})})}onTrack(t){return Jc(this,void 0,void 0,function*(){ca("Got Millicast stream",t),this.stream=t.streams[0],this.stream.getAudioTracks()[0].enabled=!this.isOutputMuted,this.liveStreamActive&&(yield this.addStream(this.stream))})}onBroadcastEvent(t){return Jc(this,void 0,void 0,function*(){ca("Got Millicast event",t),this.liveStreamActive?t.name!=="active"&&(this.liveStreamActive=!1,this.stream&&this.removeStream(this.stream)):t.name=="active"&&(this.liveStreamActive=!0,this.stream&&(yield this.addStream(this.stream)))})}addStream(t){return Jc(this,void 0,void 0,function*(){ca("addStream",t),this.peerId||(this.peerId=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n=>(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16)));const e=this.ensurePeer({peerId:this.peerId,isMaster:!1});t.onremovetrack=n=>this.onRemoveTrack(this.peerId,n),e.stream?(ca("addStream->updateStreamEvent",t),this.updateStreamEvent(this.peerId,t),yield this.callWithoutConcurrency(this.updateAudioTag,this.peerId,t)):(e.stream=t,ca("addStream->addStreamEvent",t),this.addStreamEvent(this.peerId,t),yield this.callWithoutConcurrency(this.createAudioTag,this.peerId,t))})}removeStream(t){ca("removeStream",t);const e=this.peerId;e&&(this.ensurePeer({peerId:e,isMaster:!1}),ca("removeStream->removeStreamEvent",t),this.removeStreamEvent(e,t))}};(function(t){t.Unprocessed="unprocessed",t.Standard="standard",t.Music="music"})(Ci||(Ci={})),function(t){t.High="high",t.Low="low"}(Yu||(Yu={})),function(t){t.Default="default",t.On="on",t.Off="off"}(Js||(Js={})),function(t){t.Bitrate18k="18Kbps",t.Bitrate32k="32Kbps",t.Bitrate64k="64Kbps",t.Bitrate80k="80Kbps",t.Bitrate96k="96Kbps",t.Bitrate128k="128Kbps"}(To||(To={}));var Ks,Zs,$u,di,cn,or,hn,Qs,ua,nl,Ha,ec,Kc,tc,il,rl,bs,so,ws,da,Xu,ol,$e,Ju,ql,Vi,jo,Kn=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},Ft=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},de=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};const Ss=E()("vxt:conference");var al;(function(t){t[t.PSTN_QUALITY=0]="PSTN_QUALITY",t[t.ULTRA_LOW=1]="ULTRA_LOW",t[t.LOW=1]="LOW",t[t.MEDIUM=2]="MEDIUM",t[t.HIGH=3]="HIGH",t[t.ULTRA_HIGH=3]="ULTRA_HIGH"})(al||(al={})),Ks=new WeakMap,Zs=new WeakMap,$u=new WeakMap,di=new WeakMap,cn=new WeakMap,or=new WeakMap,hn=new WeakMap,Qs=new WeakMap,ua=new WeakMap,nl=new WeakMap,Ha=new WeakMap,ec=new WeakMap,Kc=new WeakMap,tc=new WeakMap,il=new WeakMap,rl=new WeakMap,bs=new WeakMap,so=new WeakMap,ws=new WeakMap,da=new WeakMap,Xu=new WeakMap,ol=new WeakMap,$e=new WeakMap,Ju=new WeakMap,ql=new WeakMap,Vi=new WeakMap,jo=new WeakMap;var Zc,Ku,sl,cl,ul,Qc,Zu,Qu,eu,nc,ed,Co,Dr=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},co=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};(function(t){t.Created="created",t.Joined="joined",t.Ended="ended",t.Left="left",t.Destroyed="destroyed",t.Error="error"})(ed||(ed={})),function(t){t.Invite="INVITE",t.UpdatePermissions="UPDATE_PERMISSIONS",t.Kick="KICK",t.Join="JOIN",t.SendAudio="SEND_AUDIO",t.SendVideo="SEND_VIDEO",t.ShareScreen="SHARE_SCREEN",t.ShareVideo="SHARE_VIDEO",t.ShareFile="SHARE_FILE",t.SendMessage="SEND_MESSAGE",t.Record="RECORD",t.Stream="STREAM"}(Co||(Co={}));class ic{constructor(e){Zc.set(this,void 0),Ku.set(this,void 0),sl.set(this,void 0),cl.set(this,void 0),ul.set(this,void 0),Qc.set(this,void 0),Zu.set(this,void 0),Qu.set(this,void 0),eu.set(this,void 0),nc.set(this,void 0),Dr(this,Zc,e),Dr(this,eu,new Set(Object.values(Co)))}get id(){return co(this,Zc)}get alias(){return co(this,Ku)}get isNew(){return co(this,sl)}get isProtected(){return co(this,cl)}get isAudioOnly(){return co(this,ul)}get pinCode(){return co(this,Qc)}get status(){return co(this,Zu)}set status(e){Dr(this,Zu,e)}get params(){return co(this,Qu)}set id(e){Dr(this,Zc,e)}set alias(e){Dr(this,Ku,e)}set isProtected(e){Dr(this,cl,e)}set isAudioOnly(e){Dr(this,ul,e)}set isNew(e){Dr(this,sl,e)}set pinCode(e){Dr(this,Qc,e)}set params(e){Dr(this,Qu,e)}get participants(){return co(this,nc).call(this)}set participantsGetter(e){Dr(this,nc,e)}get permissions(){return co(this,eu)}set permissions(e){Dr(this,eu,e)}static fromCreateData(e){const n=new ic(e.conferenceId);return n.status=ed.Created,n.alias=e.conferenceAlias,n.pinCode=e.conferencePincode,n.isNew=e.isNew,n.isProtected=e.isProtected,n.isAudioOnly=e.isAudioOnly,n.params=new we,n.params.dolbyVoice=e.isDolbyVoice,e.isProtected&&(n.permissions=new Set),n}}function $l(t){this.message=t}Zc=new WeakMap,Ku=new WeakMap,sl=new WeakMap,cl=new WeakMap,ul=new WeakMap,Qc=new WeakMap,Zu=new WeakMap,Qu=new WeakMap,eu=new WeakMap,nc=new WeakMap,$l.prototype=new Error,$l.prototype.name="InvalidCharacterError";var Lr=typeof window!="undefined"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new $l("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,c=0,v=0,j="";o=e.charAt(v++);~o&&(n=c%4?64*n+o:o,c++%4)?j+=String.fromCharCode(255&n>>(-2*c&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return j};function vh(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(Lr(n).replace(/(.)/g,function(o,c){var v=c.charCodeAt(0).toString(16).toUpperCase();return v.length<2&&(v="0"+v),"%"+v}))}(e)}catch{return Lr(e)}}function dl(t){this.message=t}dl.prototype=new Error,dl.prototype.name="InvalidTokenError";var la,tu=function(t,e){if(typeof t!="string")throw new dl("Invalid token specified");var n=(e=e||{}).header===!0?0:1;try{return JSON.parse(vh(t.split(".")[n]))}catch(o){throw new dl("Invalid token specified: "+o.message)}};(function(t){t.Disabled="disabled",t.Individual="individual",t.Shared="shared"})(la||(la={}));const yh=(t,e)=>{const n=Math.pow(10,e||0);return Math.round(t*n)/n},kh=t=>t*(180/Math.PI),rc=t=>t*(Math.PI/180),oc=(t,e)=>t.x*e.x+t.y*e.y+t.z*e.z,bh=(t,e)=>({x:t.scale.x===0?0:e.x/t.scale.x,y:t.scale.y===0?0:e.y/t.scale.y,z:t.scale.z===0?0:e.z/t.scale.z}),Eo=(t,e)=>({x:oc(e,t.right),y:oc(e,t.up),z:oc(e,t.forward)}),wh=t=>{if(t.forward.x!==0&&Math.abs(t.forward.x)!==1||t.forward.y!==0&&Math.abs(t.forward.y)!==1||t.forward.z!==0&&Math.abs(t.forward.z)!==1||Math.abs(t.forward.x)+Math.abs(t.forward.y)+Math.abs(t.forward.z)!=1)throw new he("SpatialEnvironment::forward must be a unit vector aligned with the global x,y or z axis but instead was provided with "+JSON.stringify(t.forward));if(t.up.x!==0&&Math.abs(t.up.x)!==1||t.up.y!==0&&Math.abs(t.up.y)!==1||t.up.z!==0&&Math.abs(t.up.z)!==1||Math.abs(t.up.x)+Math.abs(t.up.y)+Math.abs(t.up.z)!=1)throw new he("SpatialEnvironment::up must be a unit vector aligned with the global x,y or z axis but instead was provided with "+JSON.stringify(t.up));if(t.right.x!==0&&Math.abs(t.right.x)!==1||t.right.y!==0&&Math.abs(t.right.y)!==1||t.right.z!==0&&Math.abs(t.right.z)!==1||Math.abs(t.right.x)+Math.abs(t.right.y)+Math.abs(t.right.z)!=1)throw new he("SpatialEnvironment::right must be a unit vector aligned with the global x,y or z axis but instead was provided with "+JSON.stringify(t.right));if(oc(t.forward,t.up)!==0)throw new he("SpatialEnvironment::forward and SpatialEnvironment::up parameters must be orthogonal vectors");if(oc(t.forward,t.right)!==0)throw new he("SpatialEnvironment::forward and SpatialEnvironment::right parameters must be orthogonal vectors");if(oc(t.right,t.up)!==0)throw new he("SpatialEnvironment::right and SpatialEnvironment::up parameters must be orthogonal vectors");if(t.scale.x<=0)throw new he("Scale.x must be a positive non-zero number");if(t.scale.y<=0)throw new he("Scale.y must be a positive non-zero number");if(t.scale.z<=0)throw new he("Scale.z must be a positive non-zero number");return!0};var td,ha,Xl,xo,ac,_s,nd,nu,sc,Mo,pa,ar=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},ti=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class id{constructor(e,n){td.set(this,void 0),ha.set(this,void 0),Xl.set(this,void 0),xo.set(this,void 0),ac.set(this,{}),_s.set(this,{}),nd.set(this,!1),nu.set(this,void 0),sc.set(this,void 0),Mo.set(this,void 0),pa.set(this,void 0),ar(this,td,{x:0,y:0,z:0}),ar(this,ha,{x:0,y:0,z:0}),ar(this,xo,{forward:{x:0,y:0,z:1},up:{x:0,y:1,z:0},right:{x:1,y:0,z:0},scale:{x:1,y:1,z:1}}),ar(this,nu,e),ar(this,Mo,n),ar(this,sc,{})}release(){ti(this,pa)&&clearTimeout(ti(this,pa))}setEnvironment(e){wh(e)&&(ar(this,xo,e),this.updateRelativePositions())}setParticipantPosition(e,n){ti(this,sc)[e.id]=n,e.id===ti(this,Mo)&&ar(this,td,n),this.updateRelativePositions()}setLocalDirection(e){ar(this,ha,e),this.updateRelativePositions()}transformRemotePosition(e){const n=((v,j)=>({x:v.x-j.x,y:v.y-j.y,z:v.z-j.z}))(e,ti(this,td)),o=bh(ti(this,xo),n),c=(v=>{const j=Math.cos(.5*rc(v.x)),X=Math.sin(.5*rc(v.x)),O=Math.cos(.5*rc(v.y)),D=Math.sin(.5*rc(v.y)),B=Math.cos(.5*rc(v.z)),ue=Math.sin(.5*rc(v.z));return{w:j*O*B+X*D*ue,x:-1*(X*O*B+j*D*ue),y:-1*(j*D*B-X*O*ue),z:-1*(j*O*ue-X*D*B)}})(Eo(ti(this,xo),ti(this,ha)));return((v,j)=>{const X=j.w*j.w,O=j.x*j.x,D=j.y*j.y,B=j.z*j.z,ue=j.w*j.x,je=j.w*j.y,Ve=j.w*j.z,ht=j.x*j.y,St=j.x*j.z,nn=j.y*j.z;return{x:X*v.x+2*je*v.z-2*Ve*v.y+O*v.x+2*ht*v.y+2*St*v.z-B*v.x-D*v.x,y:2*ht*v.x+D*v.y+2*nn*v.z+2*Ve*v.x-B*v.y+X*v.y-2*ue*v.z-O*v.y,z:2*St*v.x+2*nn*v.y+B*v.z-2*je*v.x-D*v.z+2*ue*v.y-O*v.z+X*v.z}})(Eo(ti(this,xo),o),c)}computeRemoteParticipantsPolarPositions(e){return Object.entries(e).reduce((n,[o,c])=>{const v=(X=>{const O=(D=>Math.sqrt(D.x*D.x+D.y*D.y+D.z*D.z))(X);return O===0?{distance:0,elevation:0,azimuth:0}:{distance:O,elevation:kh(Math.asin(X.y/O)),azimuth:kh(Math.atan2(-1*X.x,X.z))}})(this.transformRemotePosition(c)),j=Object.entries(v).reduce((X,[O,D])=>Object.assign(Object.assign({},X),{[O]:yh(D,2)}),{distance:0,elevation:0,azimuth:0});return Object.assign(Object.assign({},n),{[o]:j})},{})}updateRelativePositions(){const e=Object.entries(ti(this,sc)).reduce((v,[j,X])=>j!==ti(this,Mo)?Object.assign(Object.assign({},v),{[j]:X}):v,{}),n=this.computeRemoteParticipantsPolarPositions(e);for(const v in n)ti(this,_s)[v]&&(o=n[v],c=ti(this,_s)[v],Math.round(100*o.distance)===Math.round(100*c.distance)&&Math.round(100*o.azimuth)===Math.round(100*c.azimuth)&&Math.round(100*o.elevation)===Math.round(100*c.elevation))||(ti(this,ac)[v]=n[v]);var o,c;ti(this,nd)||(ar(this,nd,!0),ar(this,pa,setTimeout(()=>{this.sendPositions()},300)))}sendPositions(){return e=this,n=void 0,c=function*(){const v={conferenceId:ti(this,nu),peerId:ti(this,Mo),data:{spatialPositions:Object.assign({},ti(this,ac))}};if(ar(this,_s,Object.assign(Object.assign({},ti(this,_s)),ti(this,ac))),ar(this,ac,{}),ar(this,nd,!1),Object.keys(v.data.spatialPositions).length>0)try{yield Re.conferences.audioUpdate(v)}catch(j){J.send(Je.ConferenceGlobalError.fromData(new jn("Unable to set spatial audio position: reason: "+j.reason)))}},new((o=void 0)||(o=Promise))(function(v,j){function X(B){try{D(c.next(B))}catch(ue){j(ue)}}function O(B){try{D(c.throw(B))}catch(ue){j(ue)}}function D(B){var ue;B.done?v(B.value):(ue=B.value,ue instanceof o?ue:new o(function(je){je(ue)})).then(X,O)}D((c=c.apply(e,n||[])).next())});var e,n,o,c}get environment(){return ti(this,xo)}removeParticipant(e){e in ti(this,sc)&&delete ti(this,sc)[e],e in ti(this,_s)&&delete ti(this,_s)[e]}}td=new WeakMap,ha=new WeakMap,Xl=new WeakMap,xo=new WeakMap,ac=new WeakMap,_s=new WeakMap,nd=new WeakMap,nu=new WeakMap,sc=new WeakMap,Mo=new WeakMap,pa=new WeakMap;var iu,cc,uc,rd,ru,ou,Ts,od,ad,Io=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Ji=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Sh{constructor(e,n,o){iu.set(this,void 0),cc.set(this,void 0),uc.set(this,!1),rd.set(this,void 0),ru.set(this,void 0),ou.set(this,null),Ts.set(this,{forward:{x:0,y:0,z:1},up:{x:0,y:1,z:0},right:{x:1,y:0,z:0},scale:{x:1,y:1,z:1}}),od.set(this,{x:0,y:0,z:0}),ad.set(this,{x:0,y:0,z:0}),Io(this,cc,n),Io(this,iu,e),o&&Io(this,ou,o)}release(){Ji(this,rd)&&clearTimeout(Ji(this,rd)),Ji(this,ru)&&clearTimeout(Ji(this,ru))}setEnvironment(e){wh(e)&&(Io(this,Ts,e),this.sendPosition())}setParticipantPosition(e,n){if(Ji(this,cc)!==e.id)throw new at;Io(this,ad,n),Ji(this,uc)||(Io(this,uc,!0),Io(this,rd,setTimeout(()=>{this.sendPosition()},300)))}sendPosition(){return e=this,n=void 0,c=function*(){const v=bh(Ji(this,Ts),Ji(this,ad)),j=Eo(Ji(this,Ts),v),X=Eo(Ji(this,Ts),Ji(this,od));Io(this,uc,!1);const O={conferenceId:Ji(this,iu),peerId:Ji(this,cc),data:{selfSpatialPosition:j,selfSpatialDirection:X}};try{yield Re.conferences.audioUpdate(O)}catch(D){J.send(Je.ConferenceGlobalError.fromData(new jn("Unable to set spatial audio position: reason: "+D.reason)))}},new((o=void 0)||(o=Promise))(function(v,j){function X(B){try{D(c.next(B))}catch(ue){j(ue)}}function O(B){try{D(c.throw(B))}catch(ue){j(ue)}}function D(B){var ue;B.done?v(B.value):(ue=B.value,ue instanceof o?ue:new o(function(je){je(ue)})).then(X,O)}D((c=c.apply(e,n||[])).next())});var e,n,o,c}setLocalDirection(e){if(Ji(this,ou)){const n=Eo(Ji(this,Ts),e);Ji(this,ou).call(this,n.y>0?n.y:360+n.y,n.x>0?n.x:360+n.x,n.z>0?n.z:360+n.z)}else Io(this,od,e),Ji(this,uc)||(Io(this,uc,!0),Io(this,ru,setTimeout(()=>{this.sendPosition()},300)))}}iu=new WeakMap,cc=new WeakMap,uc=new WeakMap,rd=new WeakMap,ru=new WeakMap,ou=new WeakMap,Ts=new WeakMap,od=new WeakMap,ad=new WeakMap;var Hr,Po=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Jl{constructor(){Hr.set(this,new Map)}clear(){Po(this,Hr).clear()}delete(e){return Po(this,Hr).delete(e)}get(e){return Po(this,Hr).get(e)}has(e){return Po(this,Hr).has(e)}set(e,n){Po(this,Hr).set(e,n)}get size(){return Po(this,Hr).size}}Hr=new WeakMap;var Ya,ni,sd,cd,qa,Pi,ud=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},xt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};const ll=E()("vxt:confevtmgr");let hl=class{constructor(t,e,n,o){Ya.set(this,void 0),ni.set(this,void 0),sd.set(this,[]),cd.set(this,void 0),qa.set(this,void 0),Pi.set(this,void 0),ud(this,Ya,t),ud(this,ni,e),ud(this,Pi,n),ud(this,qa,new Jl),ud(this,cd,o)}get participants(){return xt(this,ni)?xt(this,ni).participants:new Map}get conference(){return xt(this,cd).call(this)}get dolbyVoice(){var t;return(t=this.conference.params)===null||t===void 0?void 0:t.dolbyVoice}onLeave(){xt(this,ni).isRts()||xt(this,ni).participants.forEach((t,e)=>{if(t.id!==xt(this,Ya).participant.id){const n=t.streams.filter(v=>v.type===en.Camera),o=t.streams.filter(v=>v.type===en.ScreenShare),c=n.length>0&&n[0].getVideoTracks()[0];if(o.length>0&&xt(this,Pi).onStreamRemoved(t,o[0]),this.dolbyVoice&&t.audioTransmitting&&!c){xt(this,Pi).onStreamRemoved(t,new Va(new MediaStream));const v=xt(this,sd).indexOf(t.id);v>-1&&xt(this,sd).splice(v,1)}}})}onVideoForwardedChanged(t){J.send(Je.ConferenceGlobalTrace.fromData({api:"onVideoForwardedChanged",data:{videoForwardedId:t.videoForwardedId}})),Array.from(t.videoForwardedId).filter(e=>!Array.from(xt(this,ni).forwardedParticipants.keys()).includes(e)&&e!==xt(this,Ya).participant.id).forEach(e=>{xt(this,ni).setVideoForwarding(e)}),Array.from(xt(this,ni).forwardedParticipants.keys()).filter(e=>!Array.from(t.videoForwardedId).includes(e)&&e!==xt(this,Ya).participant.id).forEach(e=>{xt(this,ni).removeVideoForwarding(e)})}onParticipantAdded(t){var e,n;let o=this.participants.get(t.userId);o?(o=xt(this,ni).updateParticipant(t),xt(this,Pi).onParticipantUpdated(o),ll("participant updated: ",o)):(o=xt(this,ni).addParticipant(t),xt(this,Pi).onParticipantAdded(o),ll("participant added: ",o));const c=(n=(e=this.conference)===null||e===void 0?void 0:e.params)===null||n===void 0?void 0:n.dolbyVoice;if(xt(this,qa).has(t.userId)){const v=xt(this,qa).get(t.userId);this.onStreamAdded(Jt.fromData({peerId:t.userId,stream:v})),xt(this,qa).delete(t.userId)}else if(c&&!xt(this,ni).isRts()){const v=o.audioTransmitting,j=o.streams.filter(D=>D.type===en.Camera),X=j.length>0&&j[0].getVideoTracks(),O=X.length>0&&X[0];v&&!O&&(xt(this,sd).push(o.id),xt(this,ni).rtc.addFakeAudio(o.id))}}onParticipantUpdated(t){const e=this.participants.get(t.userId),n=e&&e.audioTransmitting,o=xt(this,ni).updateParticipant(t);ll("participant updated: ",o),e?xt(this,Pi).onParticipantUpdated(o):xt(this,Pi).onParticipantAdded(o),this.onParticipantUpdatedHandleStreams(o,n,o.audioTransmitting)}onParticipantUpdatedHandleStreams(t,e,n){var o,c;t.id!==xt(this,Ya).participant.id&&((c=(o=this.conference)===null||o===void 0?void 0:o.params)===null||c===void 0?void 0:c.dolbyVoice)&&!xt(this,ni).isRts()&&(n&&!e?xt(this,ni).rtc.addFakeAudio(t.id):!n&&e&&xt(this,ni).rtc.removeFakeAudio(t.id))}onAudioUpdated(t){this.onParticipantUpdatedHandleStreams(t.participant,t.previousAudioTransmitting,t.audioTransmitting)}onStreamAdded(t){const e=t.peerId,n=t.stream;let o=this.participants.get(e);if(!o){if(/^0{8}-0{4}-0{4}-0{4}-0{12}$/gm.test(e))return;if(!xt(this,ni).isRts())return console.warn(`Unable to find participant: ${e}`),xt(this,Pi).onConferenceGlobalError(gn.fromData(ft(e))),void xt(this,qa).set(e,n);{o=new Fn(e,"CONNECTED");const c=this.createMixerMixParticipantData(e,n);this.onParticipantAdded(Wt.fromData(c)),xt(this,ni).forwardedParticipants.set(e,o)}}o.streams.push(n),xt(this,Pi).onStreamAdded(o,n)}onStreamUpdated(t){var e,n;const o=t.peerId,c=t.stream;let v=this.participants.get(o);if(v){if(xt(this,ni).isRts()){const j=!!c&&((e=c.getAudioTracks())===null||e===void 0?void 0:e.length)>0,X=!!c&&((n=c.getVideoTracks())===null||n===void 0?void 0:n.length)>0;(v.audioTransmitting!==j||v.videoTransmitting!==X)&&(v.updateVideoTransmitting(X),v.updateAudioTransmitting(j),xt(this,Pi).onParticipantUpdated(v))}}else{if(/^0{8}-0{4}-0{4}-0{4}-0{12}$/gm.test(o))return;if(!xt(this,ni).isRts())return console.warn(`Unable to find participant: ${o}`),xt(this,Pi).onConferenceGlobalError(gn.fromData(ft(o))),void xt(this,qa).set(o,c);{v=new Fn(o,"CONNECTED");const j=this.createMixerMixParticipantData(o,c);this.onParticipantAdded(Wt.fromData(j)),xt(this,ni).forwardedParticipants.set(o,v)}}if(v.id===xt(this,Ya).participant.id&&c.type===en.Camera){const j=v.videoTransmitting,X=c.getVideoTracks().length>0;j!==X&&(v.updateVideoTransmitting(X),xt(this,Pi).onParticipantUpdated(v))}v.streams=v.streams.filter(j=>j.id!==c.id),v.streams=v.streams.filter(j=>j.getTracks().length),v.streams=v.streams.filter(j=>!(j.getAudioTracks().length&&j.getAudioTracks()[0].id==="fakeAudioTrack")),v.streams.push(c),xt(this,Pi).onStreamUpdated(v,c)}onStreamRemoved(t){const e=t.peerId,n=t.stream;let o=this.participants.get(e);if(!o)return/^0{8}-0{4}-0{4}-0{4}-0{12}$/gm.test(e)?void 0:(console.warn(`Unable to find participant: ${e}`),xt(this,Pi).onConferenceGlobalError(gn.fromData(ft(e))),void xt(this,qa).set(e,n));xt(this,ni).isRts()&&(o.updateVideoTransmitting(!1),o.updateAudioTransmitting(!1),o.updateStatus("LEFT"),xt(this,Pi).onParticipantUpdated(o)),o.streams=o.streams.filter(c=>c.id!==n.id),o.id===xt(this,Ya).participant.id&&n.type===en.Camera&&o.videoTransmitting&&(o.updateVideoTransmitting(!1),xt(this,ni).isLeaving||xt(this,Pi).onParticipantUpdated(o)),xt(this,Pi).onStreamRemoved(o,n)}createMixerMixParticipantData(t,e){var n,o;const c=!!e&&((n=e.getAudioTracks())===null||n===void 0?void 0:n.length)>0;return{user_id:t,externalId:"mixer_mix",name:"Mixer Mix",avatarUrl:"",status:"ON_AIR",metadata:{},participantType:"MIXER_MIX",audio:c,audioReceivingStopped:!c,video:!!e&&((o=e.getVideoTracks())===null||o===void 0?void 0:o.length)>0}}};Ya=new WeakMap,ni=new WeakMap,sd=new WeakMap,cd=new WeakMap,qa=new WeakMap,Pi=new WeakMap,hl=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j}([pn([Le.ParticipantAdded,Le.ParticipantUpdated,Le.VideoForwardedChanged,Le.AudioUpdated,Le.StreamAdded,Le.StreamUpdated,Le.StreamRemoved])],hl);var kt,_n,li,dc,js,pl,Bi,Yr,uo,au,su,cu,dd,Ei,Wi,zh=hl,Yn=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j},bi=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},qn=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},xe=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};E()("vxt:confservice"),function(t){t.Created="created",t.Joined="joined",t.Left="left",t.Ended="ended",t.Destroyed="destroyed",t.Stats="stats",t.Switched="switched",t.Error="error",t.QualityIndicators="qualityIndicators",t.ParticipantAdded="participantAdded",t.ParticipantUpdated="participantUpdated",t.ParticipantLeft="participantLeft",t.AutoplayBlocked="autoplayBlocked",t.StreamAdded="streamAdded",t.StreamUpdated="streamUpdated",t.StreamRemoved="streamRemoved",t.PermissionsUpdated="permissionsUpdated"}(Wi||(Wi={}));let Un=class extends Nt{constructor(t,e,n,o,c,v,j){super(t),kt.set(this,void 0),_n.set(this,void 0),li.set(this,void 0),dc.set(this,void 0),js.set(this,void 0),pl.set(this,!0),Bi.set(this,void 0),Yr.set(this,void 0),uo.set(this,null),au.set(this,!1),su.set(this,void 0),cu.set(this,void 0),dd.set(this,void 0),Ei.set(this,void 0),qn(this,_n,e),qn(this,kt,new class{constructor(O,D){Ks.set(this,void 0),Zs.set(this,void 0),$u.set(this,void 0),di.set(this,void 0),cn.set(this,void 0),or.set(this,void 0),hn.set(this,void 0),Qs.set(this,void 0),ua.set(this,new Map),nl.set(this,new Map),Ha.set(this,void 0),ec.set(this,void 0),Kc.set(this,new Array),tc.set(this,void 0),il.set(this,void 0),rl.set(this,!1),bs.set(this,void 0),so.set(this,!1),ws.set(this,void 0),da.set(this,void 0),Xu.set(this,void 0),ol.set(this,void 0),$e.set(this,void 0),Ju.set(this,void 0),ql.set(this,new Array),Vi.set(this,void 0),jo.set(this,0),Ft(this,Zs,O),Ft(this,Ju,D)}get rtc(){return de(this,$e)}set rtc(O){Ft(this,$e,O)}set captureMode(O){Ft(this,Ks,O)}get initialRenegotiableOptions(){return de(this,Qs)}getRenegotiableJoinOptions(){const{audioBitrate:O,preferSendMono:D}=de(this,hn);return{audioBitrate:O||To.Bitrate32k,preferSendMono:D}}updateRenegotiableJoinOptions(O){Ft(this,hn,Object.assign(Object.assign({},de(this,hn)),O))}applyNewJoinOptions(O){var D,B,ue,je;const Ve={};((D=de(this,hn))===null||D===void 0?void 0:D.audioBitrate)&&!(O!=null&&O.audioBitrate)&&(Ve.audioBitrate=(B=de(this,hn))===null||B===void 0?void 0:B.audioBitrate),((ue=de(this,hn))===null||ue===void 0?void 0:ue.preferSendMono)===void 0||(O==null?void 0:O.preferSendMono)!==void 0&&(O==null?void 0:O.preferSendMono)!==null||(Ve.preferSendMono=(je=de(this,hn))===null||je===void 0?void 0:je.preferSendMono),Ft(this,hn,Object.assign(Object.assign({},O),Ve)),Ft(this,Qs,{audioBitrate:O.audioBitrate||To.Bitrate32k,preferSendMono:O.preferSendMono===void 0||O.preferSendMono})}get isLeaving(){return de(this,bs)}get maxVideoForwarding(){return de(this,Ha)}get videoForwardingStrategy(){return de(this,ec)}get forwardingParticipantList(){return de(this,Kc)}get participants(){return de(this,ua)}get forwardedParticipants(){return de(this,nl)}get listenOnly(){return de(this,so)}get isAudioOnly(){return de(this,rl)}getPeerConnectionStatus(){return de(this,da)}isDvwc(){return de(this,$e)instanceof mh}isOpus(){return de(this,$e)instanceof fe}isRts(){return de(this,$e)instanceof qu}isCustomAudio(){return this.rtc.customAudio}isElectron(){return de(this,$e)instanceof pt}init(O,D,B,ue=null,je=!1,Ve,ht=null,St=null){return Kn(this,void 0,void 0,function*(){let nn;this.clear(),Ft(this,$u,D),Ft(this,cn,O.id),Ft(this,or,O),this.applyNewJoinOptions(B),Ft(this,Xu,ue),Ft(this,so,je),Ve.participantsGetter=()=>de(this,ua),de(this,hn).mixing.enabled&&Ft(this,so,!0);try{try{nn=yield this.onInitialized(Ve,ht,St)}catch(jt){(function(Pn){throw Pn.code==108&&Pn.status==403?new ke("MaxCapacityError","Conference is at maximum capacity."):Pn})(jt)}if(de(this,hn).videoFilter){const jt={filter:de(this,hn).videoFilter,filterOptions:Object.assign({},de(this,hn).videoFilterOptions)};J.send(Je.ConferenceVideoFilterUpdate.fromData(jt))}return nn}catch(jt){throw J.send(Je.ConferenceGlobalError.fromData(jt)),this.releaseRtc(),de(this,Vi)&&de(this,Vi).stop(),Ft(this,Vi,null),jt}})}clear(){de(this,Vi)&&de(this,Vi).stop(),Ft(this,Vi,null),Ft(this,di,null),Ft(this,bs,!1),Ft(this,cn,null),Ft(this,ws,[]),Ft(this,da,""),Ft(this,ua,new Map),Ft(this,nl,new Map),Ft(this,ws,[]),Ft(this,$e,null)}videoForwarding(O,D,B){let ue=[];return B&&B.forEach((je,Ve)=>{ue.push(new gh(je.id,0))}),Re.conferences.videoForwarding({conferenceId:de(this,di),data:{forwardingStrategy:{type:O,params:{maxActiveStreams:D}},forwardingVideoList:ue}}).then(()=>{Ft(this,Ha,D),Ft(this,ec,O),Ft(this,Kc,B)}).catch(je=>{throw new Ht(je.message)})}updatePermissions(O){return Re.conferences.updatePermissions({conferenceId:de(this,di),data:{userPermissions:O.map(D=>({newPermissions:D.permissions,userId:D.participant.id}))}})}initRtc(O,D=null,B=!1,ue,je,Ve,ht,St,nn,jt,Pn=null,pi=null){var mi;return Kn(this,void 0,void 0,function*(){const Xn={constraints:O,processCb:D,listenOnly:!!B,ownerId:ue,options:je,mixing:Ve,alias:ht,dvwc:St,videoTrack:Pn,audioTrack:pi,dolbyVoice:nn};if(Vc.isAvailable())Ft(this,$e,new pt(jt)),this.registerRtcEvents(),yield de(this,$e).init(Xn);else if(((mi=B)===null||mi===void 0?void 0:mi.type)===l.Mixed)Ft(this,$e,new qu(jt)),this.registerRtcEvents(),yield de(this,$e).init(Xn);else{if(St)try{Ft(this,$e,new mh(jt)),this.registerRtcEvents(),yield de(this,$e).init(Xn)}catch(fr){zt.warn("Falling back to Opus"),J.send(Je.ConferenceGlobalError.fromData((un=fr.message,new ke("DolbyVoiceInitError","Unable to use Dolby Voice, fallback to default settings. Reason: "+un)))),Ft(this,$e,null)}if(!St||St&&!de(this,$e)){if(Ft(this,$e,Se.create(jt)),this.registerRtcEvents(),de(this,tc)){let fr;fr=O.audio===!0?de(this,tc):O.audio!==!1&&Object.assign(Object.assign({},de(this,tc)),O.audio),Xn.constraints.audio=fr}yield de(this,$e).init(Xn),Xn.constraints.audio===!1&&de(this,$e).preserveAudioConstraintsSettings(de(this,tc))}}var un})}buildConstraints(O){var D;const B=de(this,Ks)===Ci.Unprocessed||de(this,Ks)===Ci.Music;de(this,hn).constraints=Jd({predefinedConstraints:de(this,hn).constraints,mixingEnabled:(D=de(this,hn).mixing)===null||D===void 0?void 0:D.enabled,dolbyProcessing:O},B)}registerRtcEvents(){de(this,$e).on("sessionCreated",this.onSessionCreated.bind(this)),de(this,$e).on("sessionEnded",this.onRtcSessionEnded.bind(this)),de(this,$e).on("reconnect",this.onReconnect.bind(this)),de(this,$e).on("error",this.onRtcError.bind(this)),de(this,$e).on("autoplayBlocked",this.onAutoplayBlocked.bind(this)),de(this,$e).on("addStream",this.onStreamAdded.bind(this)),de(this,$e).on("updateStream",this.onStreamUpdated.bind(this)),de(this,$e).on("removeStream",this.onStreamRemoved.bind(this)),de(this,$e).on("addScreenStream",this.onScreenStreamAdded.bind(this)),de(this,$e).on("removeScreenStream",this.onScreenStreamRemoved.bind(this)),de(this,$e).on("updateScreenStream",this.onScreenStreamUpdated.bind(this)),de(this,$e).on("endedScreenStream",this.onScreenStreamEnded.bind(this)),de(this,$e).on("connectionStatus",this.onPeerConnectionStatus.bind(this)),de(this,$e).on("iceCandidatesGatheringComplete",this.onIceCandidatesGatheringComplete.bind(this)),de(this,$e).on("onBandwidthRestrictionChanged",this.onBandwidthRestrictionChanged.bind(this)),de(this,$e).on("onTrackEnded",this.onRtcTrackEnded.bind(this)),de(this,$e).on("onTrackMute",this.onAudioMute.bind(this)),de(this,$e).on("traceRtcEvent",this.onTraceRtcEvent.bind(this))}onTraceRtcEvent(O){J.send(O)}startRtsView(O,D,B){return Kn(this,void 0,void 0,function*(){de(this,$e)instanceof qu&&(yield de(this,$e).startRtsView(O,D,B))})}stopRtsView(){return Kn(this,void 0,void 0,function*(){de(this,$e)instanceof qu&&de(this,$e).stopRtsView()})}onInitialized(O,D,B){var ue,je,Ve,ht,St,nn,jt,Pn,pi,mi,Xn,un,fr,Lu;return Kn(this,void 0,void 0,function*(){zt.trace("Conference.onInitialized"),this.buildConstraints((ue=O.params)===null||ue===void 0?void 0:ue.dolbyVoice);let Xh=Object.assign({},de(this,hn));de(this,hn).dvwc&&(Xh.dvwc=!0),de(this,or).updateAudioTransmitting(((je=de(this,hn).constraints)===null||je===void 0?void 0:je.audio)&&!de(this,so)),((Ve=de(this,hn).constraints)===null||Ve===void 0?void 0:Ve.video)&&!de(this,so)&&de(this,or).updateVideoTransmitting(!0),de(this,or).status=Rn.CONNECTING,this.participants.set(de(this,cn),de(this,or)),J.send(Be.fromParticipant(de(this,or)));const Jh={conferenceId:de(this,$u),data:{sync:!0,sdp_version:Se.sdpVersion(),user:{type:de(this,so)?"listener":"user"},options:Object.assign(Object.assign({},Xh),{listenMode:(ht=de(this,so))===null||ht===void 0?void 0:ht.type})}};de(this,hn).hasOwnProperty("maxVideoForwarding")&&Ft(this,Ha,de(this,hn).maxVideoForwarding),de(this,hn).forwardingStrategy&&Ft(this,ec,de(this,hn).forwardingStrategy),de(this,hn).mixing.enabled&&(Jh.data.user.type="mixer");try{const{data:rn}=yield Re.conferences.joinRoom(Jh);Ss("JoinConference:",rn),Ft(this,di,rn.conferenceId),((St=rn==null?void 0:rn.metadata)===null||St===void 0?void 0:St.videoCodec)==="NONE"&&(Ft(this,rl,!0),de(this,hn).constraints.video=!1,D&&(D=null)),Qe.isFirefox&&((nn=rn==null?void 0:rn.metadata)===null||nn===void 0?void 0:nn.videoCodec)==="H264"&&(de(this,hn).simulcast=!1),((jt=rn==null?void 0:rn.metadata)===null||jt===void 0?void 0:jt.dolbyVoice)==="true"&&(((mi=(pi=(Pn=de(this,hn))===null||Pn===void 0?void 0:Pn.constraints)===null||pi===void 0?void 0:pi.audio)===null||mi===void 0?void 0:mi.channelCount)&&de(this,hn).constraints.audio.channelCount!==1&&(de(this,hn).constraints.audio.channelCount=1),!((Xn=de(this,hn))===null||Xn===void 0)&&Xn.audioBitrate&&(de(this,hn).audioBitrate=null)),yield this.initRtc(de(this,hn).constraints,de(this,Xu),de(this,so),de(this,cn),de(this,hn),de(this,hn).mixing,de(this,$u),Se.createDvwcOptions(de(this,hn).dvwc,{enabled:rn.wasmCandidates&&rn.wasmDescription}),(un=O.params)===null||un===void 0?void 0:un.dolbyVoice,de(this,Ju),D,B),Ft(this,Vi,new class{constructor(Ko){tl.set(this,null),$c.set(this,new Array),Wu.set(this,void 0),Xc.set(this,!1),Gu(this,tl,Ko)}start(){Gu(this,Wu,setInterval(this.run.bind(this),100))}stop(){Ga(this,Wu)&&clearInterval(Ga(this,Wu))}run(){if(Ga(this,$c).length>0&&Ga(this,tl).call(this)&&!Ga(this,Xc)){Gu(this,Xc,!0);const Ko=Ga(this,$c).shift();Ko.fn().then(ch=>{Ko.resolve(ch),Gu(this,Xc,!1)}).catch(ch=>{Ko.reject(ch),Gu(this,Xc,!1)})}}push(Ko,ch,...np){return new Promise((ip,rp)=>{const op=new fh(ip,rp,ch.bind(Ko,...np));Ga(this,$c).push(op)})}}(de(this,$e).isPeerConnectionStable.bind(de(this,$e)))),de(this,Vi).start();const Nh=((fr=de(this,so))===null||fr===void 0?void 0:fr.type)===l.Mixed,Kh={conferenceId:rn.conferenceId,conferenceAlias:rn.conferenceAlias,conferenceType:rn.conferenceType,conferencePincode:rn.conferencePincode,metadata:Object.assign(Object.assign({},rn.metadata),{rtsViewer:Nh}),recordingStatus:rn.recordingStatus,recordingUser:rn.recordingUser,startRecordTimestamp:rn.startRecordTimestamp,listenOnly:de(this,so)};if(J.send(Je.ConferenceJoined.fromData(Kh)),Nh||rn.participants&&rn.participants.map(Ko=>{Ko.user_id=Ko.participant_id,J.send(Wt.fromData(Ko))}),rn.hasOwnProperty("vfs")&&rn.vfs.defaultMaxVideoForwarded!==void 0?Ft(this,Ha,rn.vfs.defaultMaxVideoForwarded):Ft(this,Ha,25),O.params=we.fromJoinData(rn.metadata),rn.description||rn.wasmDescription){this.updateOfferTimestamp(this.getOfferTimestamp(rn.description.oid));const Ko={peerId:de(this,cn),description:rn.description,candidates:rn.candidates,wasmDescription:rn.wasmDescription,wasmCandidates:rn.wasmCandidates,isMaster:!0};yield de(this,$e).addPeer(Ko)}else Nh&&(yield de(this,$e).ensurePeer({peerId:de(this,cn),isMaster:!0}));return Nh&&((Lu=rn==null?void 0:rn.rtsInfo)===null||Lu===void 0?void 0:Lu.status)==="in_progress"&&(yield this.startRtsView(rn.rtsInfo.streamName,rn.rtsInfo.streamAccountId,rn.rtsInfo.subscribeToken)),setTimeout(()=>{de(this,da)==="checking"&&J.send(Je.ConferenceGlobalError.fromData(Ot(de(this,cn))))},25e3),Kh}catch(rn){throw rn.code===2170?new Ht(rn.message):(Ft(this,di,null),zt.error("webrtc","Failed to join conference",rn),J.send(Je.ConferenceGlobalError.fromData(rn)),rn)}})}onSessionCreated(O,D,B,ue,je,Ve,ht){Ss("Conference.onSessionCreated",O,D,Ve,ht),D.sdp,J.send(Je.ConferenceGlobalTrace.fromData({api:"onSessionCreated",description:"Send answer",data:{oid:Ve}})),Re.conferences.answer({conferenceId:de(this,di),peerId:O,data:{oid:Ve,sdp:D.sdp,candidates:B,ssMsid:ue,state:je,wasm:ht}}).then(St=>{zt.debug(St)}).catch(St=>{zt.error("webrtc",St),J.send(Je.ConferenceGlobalError.fromData(St))})}onRtcSessionEnded(O){J.send(Je.ConferenceLeft.fromData(O))}onRtcError(O){J.send(Je.ConferenceGlobalError.fromData(O))}onIceCandidatesGatheringComplete(O,D){zt.trace("Conference.onIceCandidatesGatheringComplete",O,D),Re.conferences.candidates({conferenceId:de(this,di),peerId:O,data:{commandType:"CandidatesGatheredCommand",candidates:D}}).then(B=>{zt.debug(B)}).catch(B=>{zt.error("webrtc",B),J.send(Je.ConferenceGlobalError.fromData(B))})}onPeerConnectionStatus(O){var D;de(this,Zs)&&(O.peerId===de(this,cn)&&Ft(this,da,O.connectionStatus),O.connectionStatus==="failed"?J.send(Je.ConferenceGlobalError.fromData(Ot(O.peerId))):O.connectionStatus==="disconnected"&&J.send(Je.ConferenceGlobalError.fromData((D=O.peerId,new De("PeerConnectionDisconnectedError","Peer connection has been disconnected",D)))))}onRenegociationEnded(O){de(this,Zs)}onAutoplayBlocked(){de(this,Zs)&&de(this,Zs).onAutoplayBlocked()}onStreamAdded(O,D){J.send(Je.StreamAdded.fromData({peerId:O,stream:D}))}onStreamUpdated(O,D){J.send(Je.StreamUpdated.fromData({peerId:O,stream:D}))}onStreamRemoved(O,D){J.send(Je.StreamRemoved.fromData({peerId:O,stream:D}))}onScreenStreamAdded(O,D){J.send(Je.StreamAdded.fromData({peerId:O,stream:D}))}onScreenStreamRemoved(O,D){J.send(Je.StreamRemoved.fromData({peerId:O,stream:D}))}onScreenStreamUpdated(O,D){J.send(Je.StreamUpdated.fromData({peerId:O,stream:D}))}onScreenStreamEnded(){this.stopScreenShare()}onReconnect(){const O={conferenceId:de(this,di),data:{pcWasm:this.isDvwc(),recreate:!0}};return Re.conferences.postRenegociate(O).then(D=>{if(!D.data||!D.data.description)throw this.releaseRtc(),new Error("Failed to negociate SDP");return D.data.description.oid,{peerId:de(this,cn),description:D.data.description,candidates:D.data.candidates}}).then(D=>{de(this,$e).renegociate(D)}).catch(D=>{throw this.releaseRtc(),new Error("Failed to negociate connection")}),Promise.resolve()}onRtcTrackEnded(O){J.send(Je.ConferenceGlobalError.fromData(O))}onAudioMute(O,D){J.send(new lt({level:"info",action:"MuteStateChanged",description:"The mute state has been updated.",component:"ConferenceService",api:"mute",payload:[{mute:O,participantId:D}]}))}getOfferTimestamp(O){if(typeof O=="string")return Number(O.split(":")[0])}updateOfferTimestamp(O){O&&O>de(this,jo)&&Ft(this,jo,O)}isOfferOutdated(O,D){return(!D||D<de(this,jo))&&(console.warn("Received outdated offer. OID: "+O),!0)}setRemoteOffer(O){var D,B;return Kn(this,void 0,void 0,function*(){Ss("setRemoteOffer",O);const ue=this.getOfferTimestamp((D=O==null?void 0:O.description)===null||D===void 0?void 0:D.oid);if(!this.isOfferOutdated((B=O==null?void 0:O.description)===null||B===void 0?void 0:B.oid,ue)){if(this.updateOfferTimestamp(ue),de(this,ua).get(O.userId)||J.send(Wt.fromData({user_id:O.userId})),!de(this,ua).get(O.userId)&&O.userId!==de(this,cn))throw je=O.userId,new ot("NotFoundError","Unable to find participant: "+je);{const Ve={peerId:O.userId,description:O.description,candidates:O.candidates,isMaster:O.master,state:O.state};try{yield de(this,Vi).push(de(this,$e),de(this,$e).addPeer,Ve)}catch(ht){J.send(Je.ConferenceGlobalError.fromData(ht))}}var je}})}addParticipant(O){Ss("addUser",O);let D=de(this,ua).get(O.userId);return D||(D=new Fn(O.userId,O.participantType),D.init(O),de(this,ua).set(O.userId,D)),D}updateParticipant(O){Ss("updateUser",O);let D=de(this,ua).get(O.userId);return D?(O.audioReceivingStopped=O.audioReceivingStopped||O.userId===de(this,cn),O.userId===de(this,cn)?O.video=D.videoTransmitting:D.updateAudioTransmitting(O.audio||!1),D.update(O),O.status==="INACTIVE"&&O.userId!==de(this,cn)&&de(this,$e).ensurePeer({peerId:O.userId,isMaster:!1}),O.status==="LEFT"?de(this,$e).removePeer(O.userId):this.isElectron()&&this.rtc.addFakePeer(O.userId)):O.userId===de(this,cn)||(D=this.addParticipant(O)),D}participantSwitched(O){Ss("userSwitched"),de(this,$e)}onConferenceStats(O){}stopVideoLocally(O){return Kn(this,void 0,void 0,function*(){try{yield this.checkInitialized(),yield de(this,$e).stopVideoForPeer(O)}catch(D){throw J.send(Je.ConferenceGlobalError.fromData(D)),D}})}stopVideoForLocalPeer(){return Kn(this,void 0,void 0,function*(){try{yield this.checkInitialized(),yield de(this,$e).stopVideoForPeer(de(this,cn));let O=yield Re.conferences.stopMedia({conferenceId:de(this,di),peerId:de(this,cn),data:{index:0,label:"camera",media:["video"]}});if(!O.data||!O.data.description)throw new Error("Empty server response for stop video");const D=O.data.description;yield this.pushRemoteOffer(D),de(this,$e).createAnswer(de(this,cn),"default",D.oid)}catch(O){throw zt.error(O),J.send(Je.ConferenceGlobalError.fromData(O)),O}})}stopVideoForRemotePeer(O){return Kn(this,void 0,void 0,function*(){try{yield this.checkInitialized(),yield de(this,$e).stopVideoForPeer(O),yield Re.conferences.stopMedia({conferenceId:de(this,di),peerId:O,data:{index:0,label:"camera",media:["video"]}})}catch(D){throw zt.error(D),J.send(Je.ConferenceGlobalError.fromData(D)),D}})}startVideoForLocalPeer(O){return Kn(this,void 0,void 0,function*(){let D=null;try{yield this.checkInitialized();const B=yield Re.conferences.startMedia({conferenceId:de(this,di),peerId:de(this,cn),data:{index:0,label:"camera",media:["video"]}});if(!B.data||!B.data.description)throw new Error("Empty server response for start video");D=B.data.description.oid;const ue=B.data.description;yield de(this,Vi).push(de(this,$e),de(this,$e).setRemoteSdp,de(this,cn),ue,""),yield de(this,$e).startVideoForPeer(de(this,cn),O),yield de(this,$e).createAnswer(de(this,cn),"default",D)}catch(B){throw D&&de(this,$e).createAnswer(de(this,cn),"default",D),zt.error(B),J.send(Je.ConferenceGlobalError.fromData(B)),B}})}startVideoForRemotePeer(O,D){return Kn(this,void 0,void 0,function*(){try{yield this.checkInitialized(),yield Re.conferences.startMedia({conferenceId:de(this,di),peerId:O,data:{index:0,label:"camera",media:["video"]}})}catch(B){throw J.send(Je.ConferenceGlobalError.fromData(B)),B}})}stopAudioForLocalPeer(){return Kn(this,void 0,void 0,function*(){try{yield this.checkInitialized(),yield de(this,or).updateAudioTransmitting(!1),yield de(this,$e).stopAudioForPeer(de(this,cn));const{data:O}=yield Re.conferences.stopMedia(this.createRequestConferenceMediaPayload("audio"));if(!O||!O.description)throw new Error("Empty server response for stop audio");yield this.pushRemoteOffer(O.description),yield de(this,$e).createAnswer(de(this,cn),"default",O.description.oid)}catch(O){throw de(this,or).updateAudioTransmitting(!0),J.send(Je.ConferenceGlobalError.fromData(O)),O}})}stopAudioForRemotePeer(O){return Kn(this,void 0,void 0,function*(){try{yield this.checkInitialized(),yield de(this,$e).stopAudioForPeer(O),yield Re.conferences.stopMedia(this.createRequestConferenceMediaPayload("audio",O))}catch(D){throw zt.error(D),D}})}startAudioForLocalPeer(O){var D,B;return Kn(this,void 0,void 0,function*(){let ue;try{if(yield this.checkInitialized(),ue=yield Re.conferences.startMedia(this.createRequestConferenceMediaPayload("audio")),!ue.data||!ue.data.description)throw new Error("Empty server response for start audio");yield this.pushRemoteOffer(ue.data.description),de(this,or).updateAudioTransmitting(!0);const je=yield de(this,$e).startAudioForPeer(de(this,cn),O);return yield de(this,$e).createAnswer(de(this,cn),"default",ue.data.description.oid),je}catch(je){throw de(this,or).updateAudioTransmitting(!1),!((B=(D=ue.data)===null||D===void 0?void 0:D.description)===null||B===void 0)&&B.oid&&de(this,$e).createAnswer(de(this,cn),"default",ue.data.description.oid),zt.error(je),J.send(Je.ConferenceGlobalError.fromData(je)),je}})}startAudioForRemotePeer(O){return Kn(this,void 0,void 0,function*(){try{yield this.checkInitialized(),yield Re.conferences.startMedia(this.createRequestConferenceMediaPayload("audio",O))}catch(D){throw zt.error(D),D}})}startStream(O,D){const B=new Array,ue=de(this,$e).peers.find(Ve=>Ve.isMaster);let je=null;return O.getAudioTracks().length>0&&B.push("audio"),O.getVideoTracks().length>0&&B.push("video"),this.checkInitialized().then(()=>Re.conferences.startMedia({conferenceId:de(this,di),peerId:de(this,cn),data:{index:2,label:"custom",media:B}})).then(Ve=>{if(!Ve.data||!Ve.data.description)throw new Error("Empty server response for start audio");return je=Ve.data.description.oid,Ve.data.description}).then(Ve=>this.pushRemoteOffer(Ve)).then(()=>de(this,$e).addStream(O,ue.connection,2)).then(()=>de(this,$e).createAnswer(de(this,cn),"default",je)).catch(Ve=>{throw zt.error(Ve),J.send(Je.ConferenceGlobalError.fromData(Ve)),Ve})}pushRemoteOffer(O){return Kn(this,void 0,void 0,function*(){const D=this.getOfferTimestamp(O==null?void 0:O.oid);this.isOfferOutdated(O==null?void 0:O.oid,D)||(this.updateOfferTimestamp(D),yield de(this,Vi).push(de(this,$e),de(this,$e).setRemoteSdp,de(this,cn),O,""))})}stopStream(O){}selectAudioInput(O){return this.checkInitialized().then(()=>de(this,$e).selectAudioInput(O)).catch(D=>{throw J.send(Je.ConferenceGlobalError.fromData(D)),D})}onLocalVideoUpdated(O){return Kn(this,void 0,void 0,function*(){return yield this.checkInitialized(),de(this,$e).updateLocalVideo(O)})}selectVideoInput(O,D){return this.checkInitialized().then(()=>de(this,$e).selectVideoInput(O,D)).catch(B=>{throw J.send(Je.ConferenceGlobalError.fromData(B)),B})}startScreenShare(O){let D=null,B=null,ue="audioshare",je="screenshare";return de(this,$e).startScreenShare(O).then(Ve=>(D=Ve,Re.screen.start({conferenceId:de(this,di)}).then(ht=>{if(!ht.data||!ht.data.description)throw new Error("Empty server response for start audio");return B=ht.data.description.oid,ue=ht.data.ssAudioMid,je=ht.data.ssVideoMid,ht.data.description}).then(ht=>this.pushRemoteOffer(ht)).then(()=>de(this,$e).addMasterScreenStream(D,ue,je)).then(()=>de(this,$e).createAnswer(de(this,cn),"default",B)).catch(ht=>{throw this.releaseScreenShare(),J.send(Je.ConferenceGlobalError.fromData(ht)),ht})))}changeScreenShare(O){let D=null;return de(this,$e)?de(this,$e).changeScreenShare(O).then(()=>Re.conferences.renegociate({conferenceId:de(this,di)})).then(B=>{if(!B.data||!B.data.description)throw new Error("Empty server response");return D=B.data.description.oid,B.data.description}).then(B=>this.pushRemoteOffer(B)).then(()=>de(this,$e).createAnswer(de(this,cn),"default",D)).catch(B=>{throw zt.error(B),J.send(Je.ConferenceGlobalError.fromData(B)),B}):Promise.reject(Yt())}stopScreenShareLocally(){return this.checkInitialized().then(()=>de(this,$e).stopScreenShare())}releaseScreenShare(){return Kn(this,void 0,void 0,function*(){try{yield this.checkInitialized(),de(this,$e).releaseScreenShare()}catch(O){throw O}})}stopScreenShare(){let O=null;return this.checkInitialized().then(()=>de(this,$e).stopScreenShare()).then(()=>{if(!de(this,bs))return Re.screen.stop({conferenceId:de(this,di)}).then(D=>{if(!D.data||!D.data.description)throw new Error("Empty server response");return O=D.data.description.oid,D.data.description}).then(D=>this.pushRemoteOffer(D)).then(()=>de(this,$e).createAnswer(de(this,cn),"default",O)).catch(D=>{throw J.send(Je.ConferenceGlobalError.fromData(D)),D})})}meanOpinionScore(){const O=de(this,ws).map(D=>D.packetLost).reduce((D,B)=>D+B)/de(this,ws).length;return Math.max(1,Math.ceil(5-5*O/20))}leave({leaveRoom:O=!0,reason:D="hangUp",keepAlive:B=!1}={}){return Kn(this,void 0,void 0,function*(){J.send(new Je.ConferenceLeaving),de(this,Vi)&&de(this,Vi).stop(),Ft(this,bs,!0),de(this,$e)&&(de(this,$e).isLeavingConference=!0);let ue=Promise.resolve(),je=null;if(B)return Re.conferences.leave({conferenceId:de(this,di),keepAlive:B,data:{reason:D}});if(O&&de(this,di)!=null&&(ue=Re.conferences.leave({conferenceId:de(this,di),data:{reason:D}}).catch(Ve=>zt.info(Ve))),de(this,$e))try{je=yield de(this,$e).createStateDump({liteMode:!0})}catch(Ve){zt.info(Ve)}return ue.then(Ve=>Kn(this,void 0,void 0,function*(){return yield this.releaseRtc(),je?J.send(Je.ConferenceLeft.fromData(je)):J.send(new Je.ConferenceLeft),Ft(this,Ha,void 0),Ft(this,bs,!1),zt.debug("Leave conference",this),Promise.resolve(Ve)}))})}releaseRtc(){var O;return Kn(this,void 0,void 0,function*(){de(this,$e)&&(yield de(this,$e).release(),(O=de(this,$e))===null||O===void 0||O.removeAllListeners()),Ft(this,$e,null)})}kick(O){return this.checkInitialized().then(()=>Re.conferences.kick({conferenceId:de(this,di),peerId:O})).catch(D=>{throw D})}onKicked(){return Kn(this,void 0,void 0,function*(){J.send(new Je.ConferenceLeft),yield this.releaseRtc()})}checkInitialized(){return new Promise((O,D)=>{de(this,$e)||D(Yt()),O(!0)})}onBandwidthRestrictionChanged(O){J.send(Je.BandwidthRestrictionChanged.fromData({bandwidth:O}))}set audioConstraints(O){Ft(this,tc,O)}createRequestConferenceMediaPayload(O,D){return{conferenceId:de(this,di),peerId:D||de(this,cn),data:{index:0,label:"camera",media:[O]}}}renegotiateCaptureMode(O,D,B){return Kn(this,void 0,void 0,function*(){if(!this.rtc)return Promise.reject(Yt());try{const ue=yield Re.conferences.postRenegociate({conferenceId:de(this,di),data:{options:O}});if(!ue.data||!ue.data.description)throw new Error("Empty server response");return yield this.pushRemoteOffer(ue.data.description),de(this,$e).updateOptions(O),D&&!this.isCustomAudio()&&(yield de(this,$e).updateAudioProcessing(D,B)),this.updateRenegotiableJoinOptions(O),de(this,$e).createAnswer(de(this,cn),"default",ue.data.description.oid)}catch(ue){throw zt.error(ue),J.send(Je.ConferenceGlobalError.fromData(ue)),ue}})}setVideoForwarding(O){const D=this.participants.get(O);D?this.forwardedParticipants.set(O,D):this.forwardedParticipants.set(O,new Fn(O)),this.rtc.setVideoForwarding(O)}removeVideoForwarding(O){this.forwardedParticipants.delete(O),this.rtc.removeVideoForwarding(O)}}(this,n)),qn(this,js,!1),qn(this,Yr,o),qn(this,cu,c),qn(this,dd,v),qn(this,Ei,j);const X={onStreamAdded:this.onStreamAdded.bind(this),onStreamUpdated:this.onStreamUpdated.bind(this),onStreamRemoved:this.onStreamRemoved.bind(this),onParticipantAdded:this.onParticipantAdded.bind(this),onParticipantUpdated:this.onParticipantUpdated.bind(this),onConferenceGlobalError:this.onConferenceGlobalError.bind(this)};qn(this,su,new zh(e,xe(this,kt),X,()=>xe(this,li)))}create(t){return bi(this,void 0,void 0,function*(){const e=((n=(n=t)||{}).params=n.params||{},{alias:n.alias||"",type:n.type||"sdk_conf",preferredRegions:n.preferredRegions||null,pinCode:n.pinCode,params:Object.assign({ttl:n.params.ttl||0,mode:n.params.mode||"standard",rtcpMode:n.params.rtcpMode||"average",stats:!!n.params.stats,currentLanguage:n.params.currentLanguage||"english",videoCodec:n.params.audioOnly?"NONE":n.params.videoCodec||"H264",liveRecording:n.params.liveRecording||"false",dolbyVoice:n.params.dolbyVoice===void 0?"true":n.params.dolbyVoice},n.params.spatialAudioStyle&&{spatialAudioStyle:n.params.spatialAudioStyle})});var n;const o=yield Re.conferences.create({data:e});return o.data.ownerToken&&Re.setConferenceTokens(o.data.conferenceId,o.data.ownerToken),this.onConferenceCreated(),ic.fromCreateData(o.data)})}fetch(t){return bi(this,void 0,void 0,function*(){const e=new ic(t),n=Re.getConferenceToken(t);return n&&(e.permissions=this.getPermissionsFromToken(n)),e})}demo(t={spatialAudio:!1}){var e;return bi(this,void 0,void 0,function*(){const n=yield Re.conferences.getDemo();return yield this._join(ic.fromCreateData(n.data),{spatialAudio:t.spatialAudio,conference:{isDemo:!0},conferenceAccessToken:(e=n==null?void 0:n.data)===null||e===void 0?void 0:e.ownerToken})})}replay(t,e={offset:0},n){return bi(this,void 0,void 0,function*(){e.conferenceAccessToken?Re.currentConferenceToken=e.conferenceAccessToken:Re.setCurrentConferenceToken(t.id);let o=yield Re.conferences.replay({conferenceId:t.id,data:{offset:e.offset}});return o.data.ownerToken&&Re.setConferenceTokens(o.data.conferenceId,o.data.ownerToken),yield this._join(ic.fromCreateData(o.data),{mixing:n},!0)})}listen(t,e){return bi(this,void 0,void 0,function*(){const n=e?Object.assign(Object.assign({},e),{constraints:{audio:!1,video:!1}}):{constraints:{audio:!1,video:!1}},o=!(e!=null&&e.type)||{type:e.type};return yield this._join(t,n,o)})}join(t,e){return bi(this,void 0,void 0,function*(){if(xe(this,js))throw new Error("Already joining a conference");return this._join(t,e,!1)})}_join(t,e,n=!1){var o,c,v,j,X,O;return bi(this,void 0,void 0,function*(){try{if(!(t!=null&&t.id))throw new he("The provided conference has invalid ID");if(t.id===((o=this.current)===null||o===void 0?void 0:o.id))return this.current;if(e.hasOwnProperty("maxVideoForwarding")&&e.maxVideoForwarding!==void 0&&(typeof e.maxVideoForwarding!="number"||!Number.isInteger(e.maxVideoForwarding)||e.maxVideoForwarding<0))throw new Ht("The number of streams provided in the videoForwarding API is incorrect.");if((e==null?void 0:e.forwardingStrategy)===Hu.ClosestUser&&(e==null?void 0:e.spatialAudio)===!1)throw new he("Unable to join a conference with closestUserStrategy and spatial audio disabled.");qn(this,js,!0),J.send(new Je.ConferenceJoining(t.id)),e.leaveConferenceOnBeforeUnload!==void 0&&qn(this,pl,e.leaveConferenceOnBeforeUnload);const ue=Object.assign({constraints:e.constraints,mixing:(D=t.id,B=e.mixing,{enabled:(B=B||{}).enabled||!1,uri:B.uri||D}),simulcast:Xd(e.simulcast),preferSendMono:!("preferSendMono"in e)||e.preferSendMono,preferRecvMono:"preferRecvMono"in e&&e.preferRecvMono,maxVideoForwarding:e.maxVideoForwarding,forwardingStrategy:e.forwardingStrategy||Hu.LastSpeaker,dvwc:e.dvwc||!1,videoFilter:e.videoFilter,videoFilterOptions:Object.assign({},e.videoFilterOptions),supportedAVSyncFakeAudio:!0,audioBitrate:e.dvwc?void 0:e.audioBitrate,supportedSpatialAudioStyles:[la.Shared,la.Disabled,la.Individual],supportedMultiScreenShare:C.SendRecv},e.spatialAudio&&{spatialAudio:e.spatialAudio});"audioTweaks"in e&&Object.defineProperty(ue,"audioTweaks",{value:e.audioTweaks});const je=null;zt.setConferenceId(t.id),yield this.leave(),qn(this,li,t),e.conferenceAccessToken?Re.currentConferenceToken=e.conferenceAccessToken:Re.setCurrentConferenceToken(t.id);let Ve=Re.getCurrentConferenceToken();if(Ve&&(this.current.permissions=this.getPermissionsFromToken(Ve)),e.customVideoTrack&&!(e.customVideoTrack instanceof MediaStreamTrack))throw new he("Invalid argument. The option 'customVideoTrack' expected a value of type MediaStreamTrack");if(!xe(this,li).isAudioOnly)try{e.customVideoTrack?qn(this,uo,yield xe(this,Yr).start(e.customVideoTrack,e.videoProcessor)):e.constraints&&"video"in e.constraints?e.constraints.video?typeof e.constraints.video=="boolean"||e.constraints.video instanceof Boolean?qn(this,uo,yield xe(this,Yr).start(void 0,e.videoProcessor)):qn(this,uo,yield xe(this,Yr).start(e.constraints.video,e.videoProcessor)):(yield xe(this,Yr).stop(),qn(this,uo,null)):e.videoProcessor&&(yield xe(this,Yr).setProcessor(e.videoProcessor))}catch(jt){if(!(jt instanceof Ye&&jt.name!=="OverconstrainedError"||jt instanceof Sn))throw jt}const{metadata:ht,conferenceAlias:St}=yield xe(this,kt).init(xe(this,_n).participant,t.id,ue,je,n,t,xe(this,uo),e.customAudioTrack);ht.videoCodec==="NONE"&&xe(this,uo)&&(yield xe(this,Yr).stop(),qn(this,uo,null)),J.send(new lt({level:"info",action:"MediaConstraintsApplied",description:"The constraints have been applied at join time.",component:"ConferenceService",api:"join",payload:[ue.constraints]})),(e==null?void 0:e.audioBitrate)&&(e==null?void 0:e.dvwc)&&console.error("Audio bitrate change is not supported in Dolby Voice conferences."),((v=(c=ue==null?void 0:ue.constraints)===null||c===void 0?void 0:c.audio)===null||v===void 0?void 0:v.channelCount)&&((X=(j=e==null?void 0:e.constraints)===null||j===void 0?void 0:j.audio)===null||X===void 0?void 0:X.channelCount)!==1&&((e==null?void 0:e.dvwc)||((O=t==null?void 0:t.params)===null||O===void 0?void 0:O.dolbyVoice))&&console.error("Multichannel input audio is not supported in Dolby Voice conferences.");const nn=(e==null?void 0:e.spatialAudio)===!0?ht!=null&&ht.spatialAudioStyle?ht==null?void 0:ht.spatialAudioStyle:la.Individual:null;return qn(this,Bi,(jt=>{switch(jt.style){case"individual":return new id(jt.conferenceId,jt.participantId);case"shared":return new Sh(jt.conferenceId,jt.participantId,jt.setDirection);default:return}})({style:nn,participantId:xe(this,_n).participant.id,conferenceId:t.id,setDirection:xe(this,kt).isDvwc()?xe(this,kt).rtc.setClientRotation.bind(xe(this,kt).rtc):null})),t.params=we.fromJoinData(ht),t.status=ed.Joined,St&&typeof St=="string"&&(t.alias=St),qn(this,js,!1),qn(this,au,n),this.isJoinedAsRTSViewer()&&J.send(Be.fromData({user_id:xe(this,_n).participant.id,status:"ON_AIR",participantType:"LISTENER",audio:!1,audioReceivingStopped:!0,name:xe(this,_n).participant.info.name,avatarUrl:xe(this,_n).participant.info.avatarUrl,externalId:xe(this,_n).participant.info.externalId,video:!1})),xe(this,li)}catch(ue){throw yield this.leave(),qn(this,js,!1),ue}var D,B})}updatePermissions(t){return bi(this,void 0,void 0,function*(){return xe(this,kt).updatePermissions(t)})}leave(t={}){var e;return bi(this,void 0,void 0,function*(){const n=t.leaveRoom||!0,o=t.reason||"hangUp",c=t.keepAlive||!1;this._conferenceId!==null&&xe(this,li)&&xe(this,kt)&&!xe(this,kt).isLeaving&&(xe(this,su).onLeave(),xe(this,Bi)&&xe(this,Bi).release(),yield xe(this,kt).leave({leaveRoom:n,reason:o,keepAlive:c}),xe(this,kt).clear()),qn(this,li,null),qn(this,Bi,null),!((e=xe(this,_n))===null||e===void 0)&&e.participant&&(xe(this,_n).participant.status=Rn.LEFT)})}playBlockedAudio(){return bi(this,void 0,void 0,function*(){yield xe(this,kt).rtc.playBlockedAudio()})}mute(t,e){var n;if(t.id===xe(this,_n).participant.id){if(!this.current.permissions.has(Co.SendAudio))throw vt()}else if(((n=xe(this,li).params)===null||n===void 0?void 0:n.dolbyVoice)&&!this.isJoinedAsRTSViewer())throw new at;this.manager.rtc.mutePeer(t.id,e)}toggleMute(t){var e;if(t.id===xe(this,_n).participant.id){if(!this.current.permissions.has(Co.SendAudio))throw vt()}else if(((e=xe(this,li).params)===null||e===void 0?void 0:e.dolbyVoice)&&!this.isJoinedAsRTSViewer())throw new at;return this.manager.rtc.toggleMute(t.id)}isMuted(){return xe(this,kt).rtc.isOwnMuted()}muteOutput(t){return xe(this,kt).rtc.muteOutput(t)}audioLevel(t,e){if(xe(this,li)&&xe(this,li).params.dolbyVoice&&xe(this,_n).participant.id!==t.id&&!xe(this,kt).isDvwc())throw new at;return xe(this,kt).rtc.getLevel(t.id,e)}isSpeaking(t,e){if(xe(this,li)){const n=this.participants.get(t.id);if((!xe(this,li).params.dolbyVoice||n===xe(this,_n).participant||xe(this,kt).isElectron()&&xe(this,kt).isDvwc())&&(!xe(this,kt).isElectron()||n!==xe(this,_n).participant))return xe(this,kt).rtc.isSpeaking(t.id,e);e(!(!n||!n.active))}}startStream(t,e=en.Custom){return xe(this,kt).startStream(t,e)}stopStream(t){}startVideo(t,e){return this.isJoinedAsRTSViewer()?Promise.reject(new at):this.startVideoInternal(t,e)}startVideoInternal(t,e,n){return t.id===xe(this,_n).participant.id?xe(this,Yr).start(e,n).then(()=>Promise.resolve()):xe(this,cu).start(t)}stopVideo(t){return this.isJoinedAsRTSViewer()?Promise.reject(new at):this.stopVideoInternal(t)}stopVideoInternal(t,e){return t.id===xe(this,_n).participant.id?xe(this,Yr).stop():xe(this,cu).stop(t)}videoForwarding(t,e){return bi(this,void 0,void 0,function*(){if(this.isJoinedAsRTSViewer())return Promise.reject(new at("Video forwarding is not available to a client who has joined as an RTS viewer."));if(xe(this,kt).isAudioOnly)return Promise.reject(new at("Video forwarding is not available to a client who has joined audio only conference."));let n=xe(this,kt).maxVideoForwarding,o=xe(this,kt).videoForwardingStrategy;if(typeof t=="object"){if(n=t.max!==void 0?t.max:xe(this,kt).maxVideoForwarding,o=t.strategy||xe(this,kt).videoForwardingStrategy,e=t.participants||xe(this,kt).forwardingParticipantList,o===Hu.ClosestUser&&!xe(this,Bi))throw new he("Unable to join a conference with closestUserStrategy and spatial audio disabled.")}else n=t;if(typeof n!="number"||!Number.isInteger(n)||n<0)throw new Ht("The number of streams provided in the videoForwarding API is incorrect.");return n===xe(this,kt).maxVideoForwarding&&o===xe(this,kt).videoForwardingStrategy&&e.length===xe(this,kt).forwardingParticipantList.length&&e.every((c,v)=>{var j;return c.id===((j=xe(this,kt).forwardingParticipantList[v])===null||j===void 0?void 0:j.id)})?void 0:xe(this,kt).videoForwarding(o,n,e)})}audioProcessing(t,e){return bi(this,void 0,void 0,function*(){if(xe(this,kt).isDvwc()||xe(this,kt).isElectron())yield xe(this,kt).rtc.setTransparentMode(!e.send.audioProcessing);else{const n={send:{audioProcessing:!!(e||{}).send.audioProcessing}};yield Re.conferences.audioUpdate({conferenceId:this._conferenceId,peerId:t.id,data:{opusProcessing:{enabled:n.send.audioProcessing}}})}})}startAudio(t){if(xe(this,_n).participant.id===t.id&&[W.LISTENER,W.MIXER].includes(xe(this,_n).participant.type))throw new at;if(xe(this,_n).participant.id!==t.id&&this.current&&this.current.params.dolbyVoice&&[W.LISTENER].includes(xe(this,_n).participant.type))throw new at;return t.id===xe(this,_n).participant.id?xe(this,dd).start():xe(this,Ei).start(t).then(()=>t.updateAudioReceivingStopped(!1))}stopAudio(t){if(xe(this,_n).participant.id===t.id&&[W.LISTENER,W.MIXER].includes(xe(this,_n).participant.type))throw new at;if(xe(this,_n).participant.id!==t.id&&this.current&&this.current.params.dolbyVoice&&[W.LISTENER].includes(xe(this,_n).participant.type))throw new at;return t.id===xe(this,_n).participant.id?xe(this,dd).stop():xe(this,Ei).stop(t).then(()=>t.updateAudioReceivingStopped(!0))}startScreenShare(t){if(xe(this,au))return Promise.reject(new at("Screen sharing is not available to a client who joined as a listener."));let e={};return e=typeof t=="object"?t:{sourceId:t},xe(this,kt).startScreenShare(e)}stopScreenShare(){return xe(this,au)?Promise.reject(new at("Screen sharing is not available to a client who joined as a listener.")):xe(this,kt).stopScreenShare()}localStats(){var t;return(t=xe(this,kt).rtc)===null||t===void 0?void 0:t.getRtpStats()}simulcast(t){if(this.isJoinedAsRTSViewer()){if(!t.length)throw new he("Unable to set video quality because the provided array is empty.");return t.length>1&&console.warn("Real-time Streaming supports only one video stream; only the first value will be applied."),this.manager.rtc.selectSimulcastLayer(t[0].quality)}return Re.conferences.simulcast({conferenceId:this._conferenceId,data:{requested:t}})}kick(t){return bi(this,void 0,void 0,function*(){return this.isJoinedAsRTSViewer()?Promise.reject(new at("The kick() method is not available to a client who joined as an RTS viewer.")):xe(this,kt).kick(t.id)})}createStateDump(){return bi(this,void 0,void 0,function*(){return xe(this,kt).rtc.createStateDump()})}getStateDumpConfiguration(){return bi(this,void 0,void 0,function*(){return xe(this,kt).rtc.getStateDumpConfiguration()})}configureStateDump(t){return bi(this,void 0,void 0,function*(){return xe(this,kt).rtc.configureStateDump(t)})}setSpatialPosition(t,e){var n;if(Object.values(e).length!==3||Object.values(e).some(o=>o===null||void 0)||!e)throw new he("ConferenceService::setSpatialPosition needs to supply all (x, y, z) for position");if(!xe(this,li)||!(!((n=xe(this,li).params)===null||n===void 0)&&n.dolbyVoice)||!xe(this,Bi)||xe(this,kt).listenOnly)throw new at;xe(this,Bi).setParticipantPosition(t,e)}setSpatialDirection(t,e){var n;if((e==null?void 0:e.x)==null||(e==null?void 0:e.y)==null||(e==null?void 0:e.z)==null)throw new he("ConferenceService::setSpatialDirection needs to supply all (x, y, z) for direction");if(!xe(this,li)||!(!((n=xe(this,li).params)===null||n===void 0)&&n.dolbyVoice)||!xe(this,Bi)||xe(this,kt).listenOnly)throw new at;if(xe(this,_n).participant.id!==t.id)throw new at;xe(this,Bi).setLocalDirection(e)}setSpatialEnvironment(t,e,n,o){var c;if([t,e,n,o].forEach(v=>{if((v==null?void 0:v.x)==null||(v==null?void 0:v.y)==null||(v==null?void 0:v.z)==null)throw new he("ConferenceService::setSpatialEnvironment needs to supply all (x, y, z) for scale")}),!xe(this,li)||!(!((c=xe(this,li).params)===null||c===void 0)&&c.dolbyVoice)||!xe(this,Bi)||xe(this,kt).listenOnly)throw new at;xe(this,Bi).setEnvironment({scale:t,forward:e,up:n,right:o})}qualityIndicators(t){var e;return bi(this,void 0,void 0,function*(){if(!xe(this,li))return;const n=new Map;!((e=xe(this,li).params)===null||e===void 0)&&e.dolbyVoice?this.participants.forEach((o,c)=>{if(o.status==Rn.CONNECTED){let v=-1;t.forEach((j,X)=>{if(X===o.id){const O=j.filter(D=>D.id==="Scores");O.length>0&&(v=O[0].video)}}),n.set(c,{audio:o.audioQuality?o.audioQuality:-1,video:v})}}):t.forEach((o,c)=>{const v=o.filter(j=>j.id==="Scores");v.length>0&&n.set(c,{audio:v[0].audio,video:v[0].video})}),this.emit(Wi.QualityIndicators,n)})}onConferenceCreated(){this.emit(Wi.Created)}onConferenceJoined(t){this._conferenceId=t.conferenceId,qn(this,dc,setInterval(()=>bi(this,void 0,void 0,function*(){const e=yield this.localStats();e&&this.qualityIndicators(e)}),5e3)),this.emit(Wi.Joined)}onConferenceLeft(t){this._conferenceId=null,xe(this,dc)&&(clearInterval(xe(this,dc)),qn(this,dc,null)),xe(this,Yr).stop().catch(e=>console.error(e)),this.emit(Wi.Left)}onConferenceEnded(t){this.emit(Wi.Ended)}onConferenceDestroyed(t){return bi(this,void 0,void 0,function*(){t.conferenceId===this._conferenceId&&(yield this.leave(),this.emit(Wi.Ended,t))})}onConferenceStats(t){this.emit(Wi.Stats,t)}onConferenceGlobalError(t){return bi(this,void 0,void 0,function*(){this.current&&this.current.id&&t.error instanceof Te&&(yield this.leave()),this.emit(Wi.Error,t.error)})}onOfferCreated(t){var e;J.send(Je.ConferenceGlobalTrace.fromData({api:"onOfferCreated",description:"Received offer from ws",data:{oid:(e=t.description)===null||e===void 0?void 0:e.oid}})),xe(this,kt).setRemoteOffer(t)}onActiveSpeakerChange(t){this.participants.forEach((e,n)=>{e.active=!!t.speakers.includes(e.id)})}onDvcsMetric(t){if(t.name==="GetLevel"){const e=t.value,n=2,o=-40,c=-15,v=Math.exp(n*((e-o)/(c-o)-1));this.participants.get(t.userId).level=e==-90?0:v}else if(t.name==="GetQuality"&&t.value>0){const e=this.participants.get(t.userId);e&&(e.audioQuality=t.value)}}onUpdateToken(t){Re.setConferenceTokens(t.conferenceId,t.conferenceAccessToken),Re.currentConferenceToken=t.conferenceAccessToken,this.updatePermissionsFromToken(t.conferenceAccessToken)}updatePermissionsFromToken(t){let e=this.getPermissionsFromToken(t);var n;if(this.current&&(!this.current.permissions||(n=this.current.permissions).size!==e.size||![...n].every(o=>e.has(o)))){const o=xe(this,_n).participant.streams.filter(v=>v.type===en.Camera),c=xe(this,_n).participant.streams.filter(v=>v.type===en.ScreenShare);o.length>0&&o[0].getVideoTracks().length>0&&!e.has(Co.SendVideo)&&xe(this,kt).stopVideoLocally(xe(this,_n).participant.id),c.length>0&&!e.has(Co.ShareScreen)&&xe(this,kt).stopScreenShareLocally(),this.current.permissions=new Set(e),this.emit(Wi.PermissionsUpdated,this.current.permissions)}}getPermissionsFromToken(t){let e=tu(t);return new Set(e.authorities)}onParticipantAdded(t){this.emit(Wi.ParticipantAdded,t)}onParticipantUpdated(t){t.status==="Left"&&xe(this,Bi)&&xe(this,Bi)instanceof id&&xe(this,Bi).removeParticipant(t.id),this.emit(Wi.ParticipantUpdated,t)}onParticipantKicked(t){return bi(this,void 0,void 0,function*(){t.status="KICKED";const e=xe(this,kt).updateParticipant(t);e&&(this.emit(Wi.ParticipantUpdated,e),yield xe(this,kt).onKicked(),xe(this,kt).clear(),qn(this,li,null))})}onParticipantSwitched(t){xe(this,kt).participantSwitched(t)}onOwnParticipantSwitched(t){this.emit(Wi.Switched),this.leave({leaveRoom:!1})}onAutoplayBlocked(){this.emit(Wi.AutoplayBlocked)}onStreamAdded(t,e){this.emit(Wi.StreamAdded,t,e)}onStreamUpdated(t,e){this.emit(Wi.StreamUpdated,t,e)}onStreamRemoved(t,e){this.emit(Wi.StreamRemoved,t,e)}get peerConnectionStatus(){return xe(this,kt).getPeerConnectionStatus()}get participants(){return xe(this,kt)?xe(this,kt).participants:new Map}get maxVideoForwarding(){return xe(this,kt)?xe(this,kt).maxVideoForwarding:void 0}get videoForwardingStrategy(){return xe(this,kt).videoForwardingStrategy}get current(){return xe(this,li)}get manager(){return xe(this,kt)}get spatialAudioStyle(){return xe(this,Bi)instanceof id?la.Individual:xe(this,Bi)instanceof Sh?la.Shared:null}get leaveConferenceOnBeforeUnload(){return xe(this,pl)}onLocalVideoStarted(t){qn(this,uo,t.track)}onLocalVideoStopped(t){qn(this,uo,null)}onLocalVideoUpdated(t){qn(this,uo,t.track)}onRtsStatusUpdated(t){this._conferenceId===t.conferenceId&&(t.status==="in_progress"?xe(this,kt).startRtsView(t.streamName,t.streamAccountId,t.subscribeToken).catch(e=>console.error(e)):xe(this,kt).stopRtsView())}isJoinedAsRTSViewer(){var t;return((t=xe(this,au))===null||t===void 0?void 0:t.type)===l.Mixed}updateParticipantInfo(t){return bi(this,void 0,void 0,function*(){const{name:e,avatarUrl:n}=t;t.externalId&&console.warn("It's not possible to change the externalId");const o={data:{metadata:{name:e,avatarUrl:n}},conferenceId:this._conferenceId,peerId:xe(this,_n).participant.id};return Re.conferences.updateParticipantInfo(o)})}};kt=new WeakMap,_n=new WeakMap,li=new WeakMap,dc=new WeakMap,js=new WeakMap,pl=new WeakMap,Bi=new WeakMap,Yr=new WeakMap,uo=new WeakMap,au=new WeakMap,su=new WeakMap,cu=new WeakMap,dd=new WeakMap,Ei=new WeakMap,Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"playBlockedAudio",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"mute",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"toggleMute",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"isMuted",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"muteOutput",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"audioLevel",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"isSpeaking",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"startStream",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"stopStream",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"startVideo",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"stopVideo",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"videoForwarding",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"audioProcessing",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"startAudio",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"stopAudio",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"startScreenShare",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"stopScreenShare",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"localStats",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"simulcast",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"kick",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"createStateDump",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"getStateDumpConfiguration",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"configureStateDump",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"setSpatialPosition",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"setSpatialDirection",null),Yn([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],Un.prototype,"setSpatialEnvironment",null),Un=Yn([pn([Le.ConferenceGlobalError,Le.OfferCreated,Le.ParticipantSwitched,Le.OwnParticipantSwitched,Le.ConferenceStats,Le.ConferenceDestroyed,Le.DvcsMetric,Le.ActiveSpeakerChange,Le.UpdateToken,Le.ParticipantKicked,Le.LocalVideoStarted,Le.LocalVideoStopped,Le.LocalVideoUpdated,Le.RtsStatusUpdated])],Un);class Uh{constructor(e,n){this.participantId=e,this.startTimestamp=n}}var $a,ml=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j},ld=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},hd=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};const pd="statusUpdated";var ma;(function(t){t.Recording="RECORDING",t.NotRecording="NOT_RECORDING"})(ma||(ma={}));let lc=class extends Nt{constructor(t){super(t),$a.set(this,null)}start(){return Re.conferences.startRecording({conferenceId:this._conferenceId})}stop(){return Re.conferences.stopRecording({conferenceId:this._conferenceId})}onConferenceJoined(t){super.onConferenceJoined(t),this.onRecordingStatusUpdated(kn.fromJoinEvent(t))}onConferenceLeft(t){super.onConferenceLeft(t),ld(this,$a,null)}onRecordingStatusUpdated(t){if(t.status===ma.NotRecording){if(hd(this,$a)!==null){const e=hd(this,$a),n=!1;ld(this,$a,null),this.emit(pd,n,e)}}else t.status===ma.Recording&&(ld(this,$a,new Uh(t.participantId,t.startTimestamp)),this.emit(pd,!0,hd(this,$a)))}get current(){return hd(this,$a)}};$a=new WeakMap,ml([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],lc.prototype,"start",null),ml([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],lc.prototype,"stop",null),lc=ml([pn([Le.RecordingStatusUpdated])],lc);var fl,Ki,gl,hc,uu,md,fd,_h,Cs,vl,gd,yl,du,vd,lu,pc,Fr,Xa,Th,Es,Ro,mc,Vn=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Xt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};const kl=E()("vxt:ws");class fc{constructor(e,n,o){fl.set(this,void 0),Ki.set(this,void 0),gl.set(this,3e4),hc.set(this,50),uu.set(this,2e3),md.set(this,2e3),fd.set(this,6e4),_h.set(this,3e5),Cs.set(this,!1),vl.set(this,void 0),gd.set(this,void 0),yl.set(this,void 0),du.set(this,0),vd.set(this,void 0),lu.set(this,void 0),pc.set(this,void 0),Fr.set(this,!1),Xa.set(this,!1),Th.set(this,void 0),Es.set(this,null),Ro.set(this,null),mc.set(this,[]),Vn(this,fl,e),Vn(this,vl,n),Vn(this,yl,o)}openSession(){return Vn(this,Cs,!1),Vn(this,Ki,new WebSocket(`${Xt(this,fl)}/v2/session?Voxeet-Id=${Xt(this,vl)}&Token=${Xt(this,yl)}`,void 0)),Xt(this,Ki).onmessage=this.onMessage.bind(this),Xt(this,Ki).onopen=this.onOpen.bind(this),Xt(this,Ki).onclose=this.onClose.bind(this),Xt(this,Ki).onerror=this.onError.bind(this),this.startKeepAlive(),Xt(this,Fr)&&Vn(this,lu,setTimeout(()=>{Vn(this,Fr,!1),this.closeSession(),Vn(this,Cs,!1),this.handleReconnection()},Xt(this,md))),new Promise((e,n)=>{Xt(this,Es)||Xt(this,Ro)||(Vn(this,Es,e),Vn(this,Ro,n))})}closeSession(){Vn(this,Cs,!0),this.stopKeepAlive(),Xt(this,Ki)&&(Xt(this,Ki).close(1e3,"Close session."),Vn(this,Ki,null)),Vn(this,mc,[])}startKeepAlive(){this.stopKeepAlive(),Vn(this,vd,setInterval(()=>{Xt(this,Ki)&&(Xt(this,Ki).readyState===WebSocket.CLOSED?this.openSession():this.send({type:"keep_alive"},!0))},Xt(this,gl)))}stopKeepAlive(){Xt(this,vd)&&clearInterval(Xt(this,vd))}send(e,n=!1){kl("Sending message: ",e),e.message_id||(e.message_id=Vn(this,du,+Xt(this,du)+1)),Xt(this,Ki).readyState===WebSocket.CONNECTING?Xt(this,mc).push(e):Xt(this,Ki).send(JSON.stringify(e))}isOpen(){return!!Xt(this,Ki)&&Xt(this,Ki).readyState===WebSocket.OPEN}onOpen(){for(kl("WebSocket opened"),Vn(this,Fr,!1),Xt(this,Es)&&(Xt(this,Es).call(this),Vn(this,Ro,null),Vn(this,Es,null)),Xt(this,lu)&&(clearTimeout(Xt(this,lu)),Vn(this,lu,null),Vn(this,hc,50)),Xt(this,pc)&&(clearTimeout(Xt(this,pc)),Vn(this,pc,null));Xt(this,mc).length;){const e=Xt(this,mc).shift();this.send(e)}}onClose(e){if(kl("WebSocket closed"),Vn(this,Ki,null),e.code>1e3)try{J.send(gn.fromData(new bn(e.reason),e.code))}catch(n){if(n.name!=="WebSocketError")throw n;console.error(n)}this.handleReconnection()}handleReconnection(){if(!Xt(this,Cs)&&(Xt(this,pc)||Vn(this,pc,setTimeout(()=>{Vn(this,Xa,!0);const e=new bn("Reconnection timed out");Xt(this,Ro)&&(Xt(this,Ro).call(this,e),Vn(this,Ro,null),Vn(this,Es,null)),J.send(gn.fromData(e))},Xt(this,fd))),!Xt(this,Fr)&&!Xt(this,Xa))){Vn(this,Fr,!0),setTimeout(()=>{this.openSession()},Xt(this,hc));let e=2*Xt(this,hc);Vn(this,hc,e>Xt(this,uu)?Xt(this,uu):e)}}onError(e){console.error(e)}onMessage(e){let n;e.data&&(n=JSON.parse(e.data)),kl("Received data:",n.type,n),n.type==="UpdateToken"&&this.send({ackMessageUuid:n.amu}),J.send(class{constructor(){}static fromData(o){if(o&&o.type){const c=o.type.replace(/(^[a-z])/,v=>v.toUpperCase()).replace(/(\_\w)/g,v=>v[1].toUpperCase()).replace(/Push/g,v=>"").replace(/Event/g,v=>"");if(typeof H[c]=="function")return typeof H[c].fromData=="function"?H[c].fromData(o):new H[c](Object.assign({},o))}}}.fromData(n))}}fl=new WeakMap,Ki=new WeakMap,gl=new WeakMap,hc=new WeakMap,uu=new WeakMap,md=new WeakMap,fd=new WeakMap,_h=new WeakMap,Cs=new WeakMap,vl=new WeakMap,gd=new WeakMap,yl=new WeakMap,du=new WeakMap,vd=new WeakMap,lu=new WeakMap,pc=new WeakMap,Fr=new WeakMap,Xa=new WeakMap,Th=new WeakMap,Es=new WeakMap,Ro=new WeakMap,mc=new WeakMap;class yd extends F{constructor(){super(Le.SessionClosed)}static fromData(){return new yd}}var fa,gc,hu,bl,ga,kd,va,Ja,ya,ka=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},Sr=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},ii=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};let Kl=class extends It{constructor(t){super(t),this.wsHost="wss://comms.sdk.dolby.io",fa.set(this,void 0),gc.set(this,void 0),hu.set(this,void 0),bl.set(this,void 0),ga.set(this,void 0),kd.set(this,void 0),va.set(this,void 0),Ja.set(this,void 0),ya.set(this,void 0)}onConferenceLeaving(t){return ka(this,void 0,void 0,function*(){Sr(this,Ja,setTimeout(this.leaveConferenceTimeoutExpired.bind(this),1e3))})}onConferenceLeft(t){return ka(this,void 0,void 0,function*(){this.leaveConferenceTimeoutExpired()})}leaveConferenceTimeoutExpired(){var t;ii(this,Ja)&&(clearTimeout(ii(this,Ja)),Sr(this,Ja,null)),!((t=ii(this,va))===null||t===void 0)&&t.length&&(ii(this,va).forEach(e=>e()),Sr(this,va,[]))}register(){return ka(this,void 0,void 0,function*(){if(!this.isTokenValid(Re.accessToken))if(Re.getTokenCallback()){const e=yield Re.getTokenCallback()(!0);if(!e)throw Cn();Re.accessToken=e}else{if(!this.customerKey||!this.customerSecret)throw new Error("Uninitialized VoxeetSDK");Re.tokenCallback=this.refreshToken.bind(this);const{data:{access_token:t,refresh_token:e}}=yield Re.init.register({headers:{Authorization:"Basic "+btoa(encodeURI(ii(this,gc))+":"+encodeURI(ii(this,hu)))},data:{grant_type:"client_credentials"}});Re.accessToken=t&&t,Re.refreshToken=e&&e,Re.leavingCallback=()=>{ee.conference.leave()}}this.startAccessTokenExpirationTimeouts()})}open(t={}){return ka(this,void 0,void 0,function*(){if(ii(this,fa))throw new Me("A session has already been opened");Sr(this,Ja,null),Sr(this,va,[]),yield this.register();const e=t;e.sdkVersion=ee.version;let n=yield Re.init.identify({data:e});Sr(this,ya,new Fn(n.data.user_id)),ii(this,ya).info=t,ii(this,ya).updateAudioReceivingStopped(!0),Re.jwtToken=n.data.jwt_user_token,Re.wsHost=ee.flavor==="devssl"&&(n.data.wsUri.startsWith("wss://ws")||Re.wsHost.startsWith("wss://devssl.voxeet.com"))?Re.wsHost:n.data.wsUri,Sr(this,fa,new fc(Re.wsHost,Re.getHashId(),Re.jwtToken)),yield ii(this,fa).openSession(),J.send(new dn)})}close(){return new Promise((t,e)=>{ii(this,Ja)?(ii(this,va)||Sr(this,va,[]),ii(this,va).push(t)):t()}).then(()=>Re.init.logout().then(()=>{Re.jwtToken=null,Sr(this,ya,null),ii(this,fa)&&(ii(this,fa).closeSession(),Sr(this,fa,null)),J.send(new yd)}))}refreshToken(){return Re.accessToken=null,Re.init.refresh({headers:{Authorization:"Basic "+btoa(encodeURI(ii(this,gc))+":"+encodeURI(ii(this,hu)))},data:{refresh_token:Re.refreshToken}}).then(t=>(Re.accessToken=t.data.access_token,t.data.access_token))}get participant(){return ii(this,ya)}get customerKey(){return ii(this,gc)}get customerSecret(){return ii(this,hu)}refreshAccessToken(){return Re.getTokenCallback()?Re.getTokenCallback()(Re.isTokenExpired()).then(t=>{if(!t)throw Cn();Re.accessToken=t,this.startAccessTokenExpirationTimeouts()}):this.refreshToken()}accessTokenTimeoutHalfExpiration(){Re.getTokenCallback()(Re.isTokenExpired()).then(t=>{if(!t)throw Cn();Re.accessToken=t,this.startAccessTokenExpirationTimeouts()})}accessTokenTimeoutThreeQuarterExpiration(){Re.getTokenCallback()(Re.isTokenExpired()).then(t=>{if(!t)throw Cn();Re.accessToken=t,this.startAccessTokenExpirationTimeouts()})}accessTokenTimeoutExpired(){Re.getTokenCallback()(Re.isTokenExpired()).then(t=>{if(!t)throw Cn();Re.accessToken=t,ee.conference.leave()})}startAccessTokenExpirationTimeouts(){return ka(this,void 0,void 0,function*(){const{exp:t}=tu(Re.accessToken);clearTimeout(ii(this,bl)),clearTimeout(ii(this,ga)),clearTimeout(ii(this,kd)),Re.accessTokenExpiration=t,Sr(this,bl,setTimeout(this.accessTokenTimeoutHalfExpiration.bind(this),1e3*(Re.accessTokenExpiration-new Date().getTime()/1e3)/2)),Sr(this,ga,setTimeout(this.accessTokenTimeoutThreeQuarterExpiration.bind(this),1e3*(Re.accessTokenExpiration-new Date().getTime()/1e3)*3/4)),Sr(this,kd,setTimeout(this.accessTokenTimeoutExpired.bind(this),1e3*(Re.accessTokenExpiration-new Date().getTime()/1e3)))})}isTokenValid(t){let e=!0;try{Re.accessToken||(e=!1);const{exp:n}=tu(Re.accessToken)}catch{e=!1}return e}isOpen(){return!!ii(this,fa)&&ii(this,fa).isOpen()}set customerKey(t){Sr(this,gc,t)}set customerSecret(t){Sr(this,hu,t)}set accessToken(t){Re.accessToken=t}set refreshCallback(t){Re.tokenCallback=t}updateParticipantInfo({name:t,avatarUrl:e}){var n,o,c;return ka(this,void 0,void 0,function*(){const v=(n=ee.conference.current)===null||n===void 0?void 0:n.id,j={name:t,avatarUrl:e};v&&(j.cid=v);const X=yield Re.init.updateParticipantInfo({data:j});!((o=X==null?void 0:X.data)===null||o===void 0)&&o.jwt_user_token?Re.setJwtToken((c=X==null?void 0:X.data)===null||c===void 0?void 0:c.jwt_user_token):console.warn("could not update xToken because its not in the response",X)})}};var Ao,xs;fa=new WeakMap,gc=new WeakMap,hu=new WeakMap,bl=new WeakMap,ga=new WeakMap,kd=new WeakMap,va=new WeakMap,Ja=new WeakMap,ya=new WeakMap,Kl=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j}([pn([Le.ConferenceLeaving])],Kl),function(t){t[t.AudioInput=1]="AudioInput",t[t.AudioOutput=2]="AudioOutput",t[t.VideoInput=4]="VideoInput"}(Ao||(Ao={})),function(t){t[t.ListDevices=1]="ListDevices",t[t.GetDifferences=2]="GetDifferences"}(xs||(xs={}));var On,bd,sr=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},jh=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},oi=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};const wl=(t,e)=>new lt({level:"info",action:"AudioOutputSelected",description:t,component:"MediaDeviceService",api:"selectAudioOutput",payload:[e]}),vc=(t,e)=>new lt({level:"error",action:"AudioOutputError",description:t,component:"MediaDeviceService",api:"selectAudioOutput",payload:[e]}),Zl=(t,e)=>new lt({level:"info",action:"AudioInputSelected",description:t,component:"MediaDeviceService",api:"selectAudioInput",payload:[e]}),yc=(t,e)=>new lt({level:"error",action:"AudioInputError",description:t,component:"MediaDeviceService",api:"selectAudioInput",payload:[e]}),wd=(t,e)=>new lt({level:"info",action:"VideoInputSelected",description:t,component:"MediaDeviceService",api:"selectVideoInput",payload:[e]}),Sd=(t,e)=>new lt({level:"error",action:"VideoInputError",description:t,component:"MediaDeviceService",api:"selectVideoInput",payload:[e]});class Vh extends Nt{constructor(e,n){super(e),On.set(this,void 0),bd.set(this,void 0),jh(this,On,n);const o={handler:function(c){this.emit("deviceChanged",c)}.bind(this),deviceKind:Ao.AudioOutput|Ao.AudioInput|Ao.VideoInput,handlerType:xs.ListDevices|xs.GetDifferences};jh(this,bd,oi(this,On).onDeviceChange(o))}getComfortNoiseLevel(){return sr(this,void 0,void 0,function*(){return oi(this,On).getComfortNoiseLevel()})}setComfortNoiseLevel(e){return sr(this,void 0,void 0,function*(){return oi(this,On).setComfortNoiseLevel(e)})}enumerateDevices(){return sr(this,void 0,void 0,function*(){return oi(this,On).getConnectedDevices()})}enumerateAudioInputDevices(){return sr(this,void 0,void 0,function*(){return oi(this,On).getConnectedAudioInputDevices()})}enumerateAudioOutputDevices(){return sr(this,void 0,void 0,function*(){return oi(this,On).getConnectedAudioOutputDevices()})}enumerateVideoInputDevices(){return sr(this,void 0,void 0,function*(){return oi(this,On).getConnectedVideoInputDevices()})}selectAudioInput(e){return sr(this,void 0,void 0,function*(){const n=yield oi(this,On).getConnectedAudioInputDevices();return new Promise(typeof e=="string"?(o,c)=>sr(this,void 0,void 0,function*(){const v=n.find(j=>j.deviceId===e);v||(J.send(yc("Failed to select audio input device. Reason: Device not found",{device:e})),c(new Error("Failed to select audio input device. Reason: Device not found"))),yield oi(this,On).selectAudioInputDevice(v).then(()=>{oi(this,On).selectedAudioInputDevice=v,J.send(Zl("Audio input has been selected.",{device:e})),o(`device ${e} selected`)},j=>{J.send(yc(`Failed to select audio input device: ${j.message}`,{device:e})),c(new Ge(j.message,"audio input"))})}):(o,c)=>sr(this,void 0,void 0,function*(){e&&e.deviceId||(J.send(yc("Unable to select audio input. Provided device is invalid",e)),c(new he("Unable to select audio input. Provided device is invalid"))),n.find(v=>v.deviceId===e.deviceId&&v.kind===e.kind&&v.groupId===e.groupId&&v.label===e.label)||(J.send(yc("Failed to select audio input device. Reason: Device not found",e)),c(new Error("Failed to select audio input device. Reason: Device not found"))),yield oi(this,On).selectAudioInputDevice(e).then(()=>{oi(this,On).selectedAudioInputDevice=e,J.send(Zl("Audio input has been selected",e)),o(`device ${e} selected`)},v=>{J.send(yc(`Failed to select audio input device: ${v.message}`,e)),c(new Ge(v.message,"audio input"))})}))})}selectAudioOutput(e){return sr(this,void 0,void 0,function*(){const n=yield oi(this,On).getConnectedAudioOutputDevices();return new Promise(typeof e=="string"?(o,c)=>sr(this,void 0,void 0,function*(){const v=n.find(j=>j.deviceId===e);v||(J.send(vc("Failed to select audio output device. Reason: Device not found",{device:e})),c(new Error("Failed to select audio output device. Reason: Device not found"))),yield oi(this,On).selectAudioOutputDevice(v).then(()=>{oi(this,On).selectedAudioOutputDevice=v,J.send(wl("Audio output has been selected.",{device:e})),o(`device ${e} selected`)},j=>{J.send(vc(`Audio output couldn't be selected: ${j.message}`,{device:e})),c(new Ge(j.message,"audio output"))})}):(o,c)=>sr(this,void 0,void 0,function*(){e&&e.deviceId||(J.send(vc("Unable to select audio output. Provided device is invalid",e)),c(new he("Unable to select audio output. Provided device is invalid"))),n.find(v=>v.deviceId===e.deviceId&&v.kind===e.kind&&v.groupId===e.groupId&&v.label===e.label)||(J.send(vc("Failed to select audio output device. Reason: Device not found",e)),c(new Error("Failed to select audio output device. Reason: Device not found"))),yield oi(this,On).selectAudioOutputDevice(e).then(()=>{oi(this,On).selectedAudioOutputDevice=e,J.send(wl("Audio output has been selected.",e)),o(`device ${e} selected`)},v=>{J.send(vc(`Audio output couldn't be selected: ${v.message}`,e)),c(new Ge(v.message,"audio output"))})}))})}selectVideoInput(e){return sr(this,void 0,void 0,function*(){const n=yield oi(this,On).getConnectedVideoInputDevices();return new Promise(typeof e=="string"?(o,c)=>sr(this,void 0,void 0,function*(){const v=n.find(j=>j.deviceId===e);v||(J.send(Sd("Failed to select video input device. Reason: Device not found",{device:e})),c(new Error("Failed to select video input device. Reason: Device not found"))),yield oi(this,On).selectVideoInputDevice(v).then(()=>{oi(this,On).selectedVideoInputDevice=v,J.send(wd("Video input has been selected.",{device:e})),o(`device ${e} selected`)},j=>{J.send(Sd(`Failed to select video input device: ${j.message}`,{device:e})),c(new Ge(j.message,"video input"))})}):(o,c)=>sr(this,void 0,void 0,function*(){e&&e.deviceId||(J.send(Sd("Unable to select video input. Provided device is invalid",e)),c(new he("Unable to select video input. Provided device is invalid"))),n.find(v=>v.deviceId===e.deviceId&&v.kind===e.kind&&v.groupId===e.groupId&&v.label===e.label)||(J.send(Sd("Failed to select video input device. Reason: Device not found",e)),c(new Error("Failed to select video input device. Reason: Device not found"))),yield oi(this,On).selectVideoInputDevice(e).then(()=>{oi(this,On).selectedVideoInputDevice=e,J.send(wd("Video input has been selected.",e)),o(`device ${e} selected`)},v=>{J.send(Sd(`Failed to select video input device: ${v.message}`,e)),c(new Ge(v.message,"video input"))})}))})}get selectedAudioInputDevice(){return oi(this,On).selectedAudioInputDevice}get selectedAudioOutputDevice(){return oi(this,On).selectedAudioOutputDevice}get selectedVideoInputDevice(){return oi(this,On).selectedVideoInputDevice}enumerateAudioDevices(e="input"){return sr(this,void 0,void 0,function*(){return e==="input"||e===void 0?yield this.enumerateAudioInputDevices():yield this.enumerateAudioOutputDevices()})}enumerateVideoDevices(e="input"){return sr(this,void 0,void 0,function*(){return this.enumerateVideoInputDevices()})}}On=new WeakMap,bd=new WeakMap;var pu,ba,Sl,Ql=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j},zn=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},wa=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};(function(t){t.Received="received"})(Sl||(Sl={}));let _d=class extends Nt{constructor(t,e){super(t),pu.set(this,void 0),ba.set(this,!1),zn(this,pu,e)}send(t){return wa(this,ba)?Promise.reject(new at("Sending commands is not available to a client who joined as an RTS viewer.")):Re.conferences.broadcast({conferenceId:this._conferenceId,data:{message:t}})}onConferenceMessageReceived(t){if(wa(this,pu).current){const e=wa(this,pu).participants.get(t.participantId);e&&this.emit(Sl.Received,e,t.message)}}onConferenceJoined(t){super.onConferenceJoined(t),zn(this,ba,t.isJoinedAsRTSViewer())}onConferenceLeft(t){super.onConferenceLeft(t),zn(this,ba,!1)}};var Ka;pu=new WeakMap,ba=new WeakMap,Ql([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],_d.prototype,"send",null),_d=Ql([pn([Le.ConferenceMessageReceived])],_d),function(t){t.Invitation="Invitation",t.ConferenceCreated="Conference.Created",t.ConferenceEnded="Conference.Ended",t.ParticipantJoined="Participant.Joined",t.ParticipantLeft="Participant.Left",t.ConferenceActiveParticipants="Conference.ActiveParticipants"}(Ka||(Ka={}));var Td,_l,Za,Tl=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n};(function(t){t.Invitation="invitation",t.ConferenceCreated="conferenceCreated",t.ConferenceEnded="conferenceEnded",t.ConferenceStatus="conferenceStatus",t.ParticipantJoined="participantJoined",t.ParticipantLeft="participantLeft",t.ActiveParticipants="activeParticipants"})(Za||(Za={}));let jl=class extends It{constructor(t,e){super(t),Td.set(this,!1),_l.set(this,void 0),Tl(this,_l,e)}subscribe(t){const e=t.find(n=>n.type===Ka.Invitation);if(e&&Tl(this,Td,!0),!e||t.length>1)return Re.subscription.post({data:{subscriptions:t.filter(n=>n.type!==Ka.Invitation)}})}unsubscribe(t){const e=t.find(n=>n.type===Ka.Invitation);if(e&&Tl(this,Td,!1),!e||t.length>1)return Re.subscription.delete({data:{subscriptions:t.filter(n=>n.type!==Ka.Invitation)}})}invite(t,e){return n=this,o=void 0,v=function*(){return Re.conferences.invite({conferenceId:t.id,data:{externalProfiles:e.map(j=>({externalId:j.info?j.info.externalId:j.externalId,externalName:j.info?j.info.name:j.name,externalPhotoUrl:j.info?j.info.avatarUrl:j.avatarUrl,permissions:j.permissions}))}})},new((c=void 0)||(c=Promise))(function(j,X){function O(ue){try{B(v.next(ue))}catch(je){X(je)}}function D(ue){try{B(v.throw(ue))}catch(je){X(je)}}function B(ue){var je;ue.done?j(ue.value):(je=ue.value,je instanceof c?je:new c(function(Ve){Ve(je)})).then(O,D)}B((v=v.apply(n,o||[])).next())});var n,o,c,v}onInvitationReceived(t){Re.setConferenceTokens(t.conferenceId,t.conferenceToken),this.emit(Za.Invitation,t)}onConferenceStatusNotification(t){this.emit(Za.ConferenceStatus,t)}onConferenceCreatedNotification(t){this.emit(Za.ConferenceCreated,t)}onConferenceEndedNotification(t){this.emit(Za.ConferenceEnded,t)}onParticipantJoinedNotification(t){this.emit(Za.ParticipantJoined,t)}onParticipantLeftNotification(t){this.emit(Za.ParticipantLeft,t)}onActiveParticipants(t){this.emit(Za.ActiveParticipants,t)}};Td=new WeakMap,_l=new WeakMap,jl=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j}([pn([Le.InvitationReceived,Le.ConferenceCreatedNotification,Le.ConferenceEndedNotification,Le.ConferenceStatusNotification,Le.ParticipantJoinedNotification,Le.ParticipantLeftNotification,Le.ActiveParticipants])],jl);class _r{constructor(){this.type=""}}class Ch{constructor(){this.version="1.1",this.userId="",this.timestamp=0}}class Eh{constructor(){this.cpu="",this.ram=0,this.screen=""}}class mu{constructor(){this["web-sdk"]="3.10.1"}}class Bh{constructor(){this.name="",this.os="",this.timeZone=""}}const xh=new Map([["RTCCandidatePairStats",t=>t.type==="candidate-pair"&&!Qe.isFirefox&&t.nominated===!0||Qe.isFirefox&&t.selected===!0],["RTCOutboundRtpAudioStreamStats",t=>t.type==="outbound-rtp"&&t.mediaType==="audio"],["RTCOutboundRtpVideoStreamStats",t=>t.type==="outbound-rtp"&&t.mediaType==="video"],["RTCRemoteInboundRTPStreamStats",t=>t.type==="remote-inbound-rtp"],["RTCInboundRTPAudioStreamStats",t=>t.type==="inbound-rtp"&&t.mediaType==="audio"],["RTCInboundRTPVideoStreamStats",t=>t.type==="inbound-rtp"&&t.mediaType==="video"],["RTCMediaStreamAudioTrack",t=>t.type==="track"&&t.kind==="audio"],["RTCMediaStreamVideoTrack",t=>t.type==="track"&&t.kind==="video"],["RTCStreamDescription",t=>t.type==="stream"],["WebAudioStats",t=>t.type==="audio"],["DataChannelStats",t=>t.type==="data-channel"],["TransportStats",t=>t.type==="transport"],["RTCVideoSource",t=>t.type==="media-source"&&t.kind==="video"&&Qe.isChrome],["RTCAudioSource",t=>t.type==="media-source"&&t.kind==="audio"&&Qe.isChrome]]),Mh={RTCCandidatePairStats:class extends _r{constructor(){super(...arguments),this.id="",this.availableOutgoingBitrate=0,this.availableIncomingBitrate=0,this.bytesSent=0,this.bytesReceived=0,this.bitrateSent=0,this.bitrateReceived=0,this.totalRoundTripTime=0,this.currentRoundTripTime=0,this.requestsReceived=0,this.requestsSent=0,this.responsesReceived=0,this.responsesSent=0,this.consentRequestsSent=0,this.selected=!1}},RTCOutboundRtpAudioStreamStats:class extends _r{constructor(){super(...arguments),this.ssrc=0,this.trackId="",this.mediaType="audio",this.packetsSent=0,this.bytesSent=0,this.bitrateSent=0,this.retransmittedPacketsSent=0,this.retransmittedBytesSent=0}},RTCOutboundRtpVideoStreamStats:class extends _r{constructor(){super(...arguments),this.ssrc=0,this.trackId="",this.mediaType="video",this.packetsSent=0,this.bytesSent=0,this.bitrateSent=0,this.retransmittedPacketsSent=0,this.retransmittedBytesSent=0,this.contentType="",this.nackCount=0,this.firCount=0,this.pliCount=0,this.qualityLimitationReason="",this.framesEncoded=0,this.framesSent=0,this.frameWidth=0,this.frameHeight=0,this.keyFramesEncoded=0,this.totalPacketSendDelay=0,this.encoderImplementation="",this.qpSum=0,this.framesPerSecond=0}},RTCRemoteInboundRTPStreamStats:class extends _r{constructor(){super(...arguments),this.ssrc=0,this.kind="",this.packetLost=0,this.jitter=0,this.roundTripTime=0}},RTCInboundRTPAudioStreamStats:class extends _r{constructor(){super(...arguments),this.ssrc=0,this.trackId="",this.mediaType="audio",this.packetsReceived=0,this.bytesReceived=0,this.bitrateReceived=0,this.packetsLost=0,this.jitter=0}},RTCInboundRTPVideoStreamStats:class extends _r{constructor(){super(...arguments),this.ssrc=0,this.trackId="",this.mediaType="video",this.packetsReceived=0,this.bytesReceived=0,this.bitrateReceived=0,this.packetsLost=0,this.jitter=0,this.framesDecoded=0,this.frameHeight=0,this.frameWidth=0,this.keyFramesDecoded=0,this.totalInterFrameDelay=0,this.totalSquaredInterFrameDelay=0,this.framesReceived=0,this.framesDropped=0,this.firCount=0,this.pliCount=0,this.nackCount=0,this.decoderImplementation="",this.qpSum=0,this.framesPerSecond=0}},RTCMediaStreamAudioTrack:class extends _r{constructor(){super(...arguments),this.id="",this.kind="audio",this.jitterBufferDelay=0,this.jitterBufferEmittedCount=0,this.audioLevel=0,this.totalAudioEnergy=0}},RTCMediaStreamVideoTrack:class extends _r{constructor(){super(...arguments),this.id="",this.kind="video",this.jitterBufferDelay=0,this.jitterBufferEmittedCount=0,this.frameWidth=0,this.frameHeight=0,this.framesReceived=0,this.framesDecoded=0}},RTCStreamDescription:class extends _r{constructor(){super(...arguments),this.streamIdentifier="",this.trackIds=[]}},WebAudioStats:class extends _r{constructor(){super(...arguments),this.bufferIsOverrun=!1,this.bufferOverrunTimes=0,this.bufferOverrunLength=0,this.bufferOverrunMaxLength=0,this.bufferOverrunDuration=0,this.bufferIsUnderrun=!1,this.bufferUnderrunTimes=0,this.bufferUnderrunMaxLength=0,this.bufferUnderrunDuration=0}},DataChannelStats:class extends _r{constructor(){super(...arguments),this.bytesReceived=0,this.bytesSent=0,this.dataChannelIdentifier=0,this.id="",this.label="",this.messagesReceived=0,this.messagesSent=0,this.state="",this.timestamp=0}},TransportStats:class extends _r{constructor(){super(...arguments),this.id="",this.dtlsState="",this.selectedCandidatePairChanges=0,this.selectedCandidatePairId=""}},RTCVideoSource:class extends _r{constructor(){super(...arguments),this.type="media-source",this.id="",this.kind="video",this.trackIdentifier=0,this.width=0,this.height=0,this.framesPerSecond=0}},RTCAudioSource:class extends _r{constructor(){super(...arguments),this.type="media-source",this.id="",this.kind="audio",this.trackIdentifier=0,this.audioLevel=0,this.totalAudioEnergy=0,this.totalSamplesDuration=0}}};var Cl=mt(9034),kc=mt.n(Cl);class Qa{static getHost(){return Qa.host}}Qa.host="https://comms.sdk.dolby.io",Qa.endpoints={configuration:{fetch:{method:"GET",uri:"/v1/telemetry/metrics/configuration"}},webrtc:{sendBatch:{method:"POST",uri:"/v1/telemetry/metrics/webrtc/conferences/{conferenceId}/users/{userId}"}},dvc:{sendBatch:{method:"PUT",uri:"/v1/telemetry/metrics/dvc/conferences/{conferenceId}/users/{userId}/timestamp/{timestamp}"}},device:{send:{method:"PUT",uri:"/v1/telemetry/metrics/device/users/{userId}/timestamp/{timestamp}"}},events:{send:{method:"PUT",uri:"/v1/telemetry/events/conferences/{conferenceId}/users/{userId}/timestamp/{timestamp}"},sendBatch:{method:"POST",uri:"/v1/telemetry/events/conferences/{conferenceId}/users/{userId}"}}},Wc.inject(Qa,Re.getToken,Re.setToken,Re.getJwtToken,Re.getTokenCallback,()=>{},Qa.getHost,Qa.endpoints,!0,Re.isTokenExpired,Re.getLeavingCallback);var es=Qa;function jd(t,e){if(t===e)return!0;if(typeof t=="object"&&t!=null&&typeof e=="object"&&e!=null){if(Object.keys(t).length!=Object.keys(e).length)return!1;for(let n in t)if(!e.hasOwnProperty(n)||!jd(t[n],e[n]))return!1;return!0}return!1}class eh{constructor(e){this.type=e.type,this.level=e.level}}class Wh extends eh{constructor(e){super({type:"UserAction",level:e.level,component:e.component}),this.action=e.action,this.description=e.description,this.component=e.component,this.api=e.api,e.payload&&(this.payload=e.payload)}}class ts extends eh{constructor(e){super({type:"SDKError",level:"error"}),this.error=e.error,this.message=e.message,e.code&&(this.code=e.code)}}class Ih extends eh{constructor(e){super({type:"SDKTrace",level:"trace"}),e.description&&(this.description=e.description),this.payload=e.data,this.api=e.api}}var fu,El,th=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},xl=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Gh extends Error{constructor(e){super(),this.name="ExecutionTimeoutError",this.message=e}}class gu{constructor(e){this.kDefaultmaxExecutionTimeMsMs=5e3,fu.set(this,this.kDefaultmaxExecutionTimeMsMs),El.set(this,Promise.resolve()),th(this,fu,e!=null?e:this.kDefaultmaxExecutionTimeMsMs)}execute(e,...n){return new Promise((o,c)=>{const v=Symbol();th(this,El,xl(this,El).then(()=>{const j=e.call(this,...n);return gu.isPromise(j)?this.waitForFulfillment(j,v):j}).then(j=>o(j)).catch(j=>{j===v&&(j=new Gh(`'${e.name}'' execution timeout, limit:${xl(this,fu)}[ms]`)),c(j)}))})}static isPromise(e){return typeof e=="object"&&typeof e.then=="function"}waitForFulfillment(e,n){let o;return Promise.race([e,new Promise((c,v)=>{o=setTimeout(v,xl(this,fu),n)})]).finally(()=>clearTimeout(o))}}fu=new WeakMap,El=new WeakMap;var Cd,nh,bc,Sa,vu,Oo,wc,Ms,Ed,Is,ns,Sc,xd,Tr=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},Ri=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},an=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};const Hh=E()("vxt:telemetry"),Ml={events:{enabled:!0,trace:!1,flushSec:10,batch:5},webrtc:{enabled:!0,samplingFreqSec:10,batch:3},device:{enabled:!0},rts:{enabled:!1}};let Il=class extends Nt{constructor(t,e,n,o){super(t),this.configuration=Ml,Cd.set(this,new mu),nh.set(this,"1.1"),bc.set(this,void 0),Sa.set(this,void 0),vu.set(this,void 0),Oo.set(this,void 0),wc.set(this,{}),Ms.set(this,void 0),Ed.set(this,void 0),Is.set(this,{}),ns.set(this,{}),Sc.set(this,void 0),xd.set(this,!1),Ri(this,bc,e),Ri(this,Sa,n),Ri(this,vu,o),this.sendExecutor=new gu(72e5)}registerComponent(t,e){t&&e&&!an(this,Cd)[t]&&(an(this,Cd)[t]=e)}localStats(){var t;return(t=an(this,bc).manager.rtc.getRtpStatsForTelemetry())===null||t===void 0?void 0:t.metrics}onConferenceJoining(t){Ri(this,xd,!0),this._conferenceId=t.conferenceId}onConferenceJoined(t){var e;return Tr(this,void 0,void 0,function*(){let n;Ri(this,xd,!1),this._conferenceId=t.conferenceId,yield this.getConfiguration(),n=((e=t.listenOnly)===null||e===void 0?void 0:e.type)===l.Mixed?this.configuration.rts.enabled:this.configuration.webrtc.enabled,n&&Ri(this,Oo,setInterval(this.collect.bind(this),1e3*this.configuration.webrtc.samplingFreqSec))})}onConferenceLeaving(t){return Tr(this,void 0,void 0,function*(){an(this,Oo)&&(clearInterval(an(this,Oo)),Ri(this,Oo,null))})}onConferenceLeft(t){return Tr(this,void 0,void 0,function*(){an(this,Oo)&&(clearInterval(an(this,Oo)),Ri(this,Oo,null));try{yield this.sendReport(t.stateDump)}catch(e){console.log("Sending error: "+e)}this.flushEventReport(),Ri(this,ns,{}),this._conferenceId=null,this.flush(),Ri(this,wc,{}),Ri(this,Is,{}),Ri(this,Ms,null),Ri(this,Ed,null)})}onConferenceGlobalError(t){return Tr(this,void 0,void 0,function*(){if(!this.configuration.events.enabled)return;let e;t.error instanceof Ye?e=new ts({error:"MediaStreamError",message:t.error.toString()}):t.error instanceof De&&t.error.name!="PeerNotFoundError"?e=new ts({error:t.error.name,message:t.error.message}):t.error instanceof bn?e=new ts({error:t.error.name,message:t.error.message,code:t.code}):t.error instanceof Te?e=new ts({error:"DvcError",message:`${t.error.name}: ${t.error.message}`}):(t.error instanceof Sn||t.error instanceof ke&&t.error.name==="DolbyVoiceInitError")&&(e=new ts({error:t.error.name,message:t.error.message})),this.onEventReport(e)})}onUserAction(t){return Tr(this,void 0,void 0,function*(){if(!this.configuration.events.enabled)return;const e=new Wh(t);this.onEventReport(e)})}onConferenceGlobalTrace(t){return Tr(this,void 0,void 0,function*(){if(!this.configuration.events.trace)return;const e=new Ih(t);this.onEventReport(e,t.ts)})}onEventReport(t,e){const n=e||Date.now();an(this,ns)[this.getReportCacheTimestampKey(n)]=t,Object.keys(an(this,ns)).length>=this.configuration.events.batch&&this.flushEventReport(),an(this,Sc)||Ri(this,Sc,setTimeout(this.flushEventReport.bind(this),1e3*this.configuration.events.flushSec))}getReportCacheTimestampKey(t){return an(this,ns)[t]?this.getReportCacheTimestampKey(t+1):t}flushEventReport(){an(this,Sc)&&(clearTimeout(an(this,Sc)),Ri(this,Sc,null)),Object.keys(an(this,ns)).length>=1&&(this.sendEventReport(an(this,ns)),Ri(this,ns,{}))}sendEventReport(t){const e=this._conferenceId||"00000000-0000-0000-0000-000000000000";if(Object.keys(t).length===1){const n=Object.keys(t)[0],o=t[n];this.sendExecutor.execute(()=>Tr(this,void 0,void 0,function*(){try{yield es.events.send({conferenceId:e,userId:an(this,Sa).participant.id,timestamp:n,headers:{"Content-Type":"application/json"},data:JSON.stringify(o)})}catch(c){this.onEventReport(new ts({error:"TelemetryError",message:"Unable to send client event logs. Reason: "+c.message}))}}))}else Object.keys(t).length>1&&this.sendExecutor.execute(()=>Tr(this,void 0,void 0,function*(){try{yield es.events.sendBatch({conferenceId:e,userId:an(this,Sa).participant.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(t)})}catch(n){this.onEventReport(new ts({error:"TelemetryError",message:"Unable to send client event logs. Reason: "+n.message}))}}))}collect(){var t,e,n,o,c,v,j;return Tr(this,void 0,void 0,function*(){if(!(!((t=an(this,bc).manager)===null||t===void 0)&&t.rtc))return;let X=yield an(this,bc).manager.rtc.getRtpStatsForTelemetry();if(X){const O=kc()().utc().valueOf(),D=X.metrics;delete X.metrics;const B={audioInput:an(this,vu).selectedAudioInputDevice,audioOutput:an(this,vu).selectedAudioOutputDevice,videoInput:an(this,vu).selectedVideoInputDevice},ue=Object.assign(Object.assign(Object.assign({},X),{version:an(this,nh),conferenceId:this._conferenceId,userId:an(this,Sa).participant.id,timestamp:0,metrics:{}}),!jd(B,an(this,Is))&&{devices:Object.assign(Object.assign(Object.assign({},!jd(B.audioInput,an(this,Is).audioInput)&&{audioInput:{groupId:(e=B.audioInput)===null||e===void 0?void 0:e.groupId,label:(n=B.audioInput)===null||n===void 0?void 0:n.label}}),!jd(B.audioOutput,an(this,Is).audioOutput)&&{audioOutput:{groupId:(o=B.audioOutput)===null||o===void 0?void 0:o.groupId,label:(c=B.audioOutput)===null||c===void 0?void 0:c.label}}),!jd(B.videoInput,an(this,Is).videoInput)&&{videoInput:{groupId:(v=B.videoInput)===null||v===void 0?void 0:v.groupId,label:(j=B.videoInput)===null||j===void 0?void 0:j.label}})});this.analyze(D,O),D.forEach((je,Ve)=>{const ht=new Array;ue.metrics[Ve]=ht,je.forEach(St=>{xh.forEach((nn,jt)=>{nn(St)&&ht.push(function(Pn,pi){let mi=new pi;return Object.keys(mi).forEach(Xn=>{mi[Xn]=Pn[Xn]}),mi}(St,Mh[jt]))})})}),ue.timestamp=O,Ri(this,Is,B),an(this,wc)[O]=ue,this.flush()}})}analyze(t,e){an(this,Ms)&&t.forEach((n,o)=>{const c=an(this,Ms).get(o);c&&n.filter(v=>v.type==="inbound-rtp"||v.type==="outbound-rtp"||v.type==="candidate-pair").forEach(v=>{const j=c.filter(O=>O.id===v.id),X=kc()(e).diff(kc()(an(this,Ed)),"seconds");v.bytesSent&&j[0]&&j[0].bytesSent&&(v.bitrateSent=parseFloat(((v.bytesSent-j[0].bytesSent)/X/1024*8).toFixed(2))),v.bytesReceived&&j[0]&&j[0].bytesReceived&&(v.bitrateReceived=parseFloat(((v.bytesReceived-j[0].bytesReceived)/X/1024*8).toFixed(2)))})}),Ri(this,Ms,t),Ri(this,Ed,e)}flush(){if(Object.keys(an(this,wc)).length>=this.configuration.webrtc.batch){const t=an(this,wc);this.sendExecutor.execute(()=>this.flushInternal(t,this._conferenceId,an(this,Sa).participant.id)),Ri(this,wc,{})}}flushInternal(t,e,n){return Tr(this,void 0,void 0,function*(){try{yield es.webrtc.sendBatch({conferenceId:e,userId:n,headers:{"Content-Type":"application/json"},data:JSON.stringify(t)})}catch(o){this.onEventReport(new ts({error:"TelemetryError",message:"Unable to send metrics report. Reason: "+o.message}))}})}getConfiguration(){return Tr(this,void 0,void 0,function*(){try{const t=(yield es.configuration.fetch()).data;this.configuration=Object.assign(Object.assign({},Ml),t),Hh("Configuration: ",this.configuration)}catch(t){console.error("Failed to fetch Telemetry configuration!",t)}})}onSessionOpened(t){var e;return Tr(this,void 0,void 0,function*(){yield this.getConfiguration();const n=new Ch;n.userId=an(this,Sa).participant.id,n.timestamp=kc()().utc().valueOf();const o=new Bh,c=(e=Qe.parsed)===null||e===void 0?void 0:e.getResult(),v=new Eh;v.screen=`${window.screen.width}x${window.screen.height}`,this.registerComponent("app",window.location.href),o.componentsVersion=an(this,Cd),o.hardware=v,o.name=`${c.browser.name} ${c.browser.version}`,o.os=`${c.os.name} ${c.os.version} ${c.os.versionName}`,o.timeZone=kc()().format("UTCZ"),n.metrics=o,es.device.send({userId:n.userId,timestamp:n.timestamp,data:n})})}sendReport(t){var e;return Tr(this,void 0,void 0,function*(){try{let n=t||(yield(e=an(this,bc).manager.rtc)===null||e===void 0?void 0:e.createStateDump());if(n){let o=kc()().utc().valueOf();es.dvc.sendBatch({conferenceId:this._conferenceId,userId:an(this,Sa).participant.id,timestamp:o,headers:{"Content-Type":"application/zip"},data:n.content})}}catch{console.log("Failed to create and send state dump")}})}};Cd=new WeakMap,nh=new WeakMap,bc=new WeakMap,Sa=new WeakMap,vu=new WeakMap,Oo=new WeakMap,wc=new WeakMap,Ms=new WeakMap,Ed=new WeakMap,Is=new WeakMap,ns=new WeakMap,Sc=new WeakMap,xd=new WeakMap,Il=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j}([pn([Le.SessionOpened,Le.ConferenceLeaving,Le.UserAction,Le.ConferenceGlobalError,Le.ConferenceJoining,Le.ConferenceGlobalTrace])],Il);var yu,Pl,_a,ku=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Md=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ph extends Nt{constructor(e,n){super(e),yu.set(this,void 0),Pl.set(this,void 0),ku(this,yu,n)}leaveAfterDelay(e){Md(this,yu).leave({keepAlive:!0,reason:"tabClosure"}),this.sleep(e)}sleep(e){const n=new Date().getTime();for(;new Date().getTime()<n+e;);}onConferenceJoined(e){super.onConferenceJoined(e),Md(this,yu).leaveConferenceOnBeforeUnload===!0&&(ku(this,Pl,window.onbeforeunload),window.onbeforeunload=n=>{const o=n.target.activeElement,c=o&&o.href&&o.href.startsWith("mailto:"),v=o&&o.href&&o.href.startsWith("tel:");c||v||this.leaveAfterDelay(1500)})}onConferenceLeft(e){window.onbeforeunload=Md(this,Pl)||null,super.onConferenceLeft(e)}}yu=new WeakMap,Pl=new WeakMap,function(t){t.None="none",t.Bokeh="bokeh",t.StaticImage="staticimage"}(_a||(_a={}));var bu,Rl,Do,Lo,wu,Ta,is=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},ai=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};let Al=class{constructor(t,e,n){bu.set(this,void 0),Rl.set(this,void 0),Do.set(this,void 0),Lo.set(this,_a.None),wu.set(this,{}),Ta.set(this,null),is(this,bu,t),is(this,Rl,e),is(this,Do,n)}setFilter(t,e={}){return new Promise((n,o)=>{ai(this,Do).isFilterSupported(t)?(is(this,Lo,t),is(this,wu,Object.assign({},e)),this.isLiveVideoTrack(ai(this,Ta))?n(ai(this,Do).setFilter(ai(this,Ta),ai(this,Lo),ai(this,wu))):n()):o(new at("Setting video filter on camera stream failed. Filter '"+t+"' is unsupported"))})}isLocalParticipant(t){return t===ai(this,Rl).participant.id}isLiveVideoTrack(t){return t&&t.readyState==="live"}hasLiveVideoTrack(t){return t.getVideoTracks().length>0&&this.isLiveVideoTrack(this.getVideoTrackFrom(t))}getVideoTrackFrom(t){return t.getVideoTracks()[0]}isCameraStreamType(t){return t&&t.type===en.Camera}onStreamAdded(t){ai(this,Do).isFilterSupported(ai(this,Lo))&&this.isLocalParticipant(t.peerId)&&this.hasLiveVideoTrack(t.stream)&&this.isCameraStreamType(t.stream)&&(is(this,Ta,this.getVideoTrackFrom(t.stream)),ai(this,Do).setFilter(ai(this,Ta),ai(this,Lo),ai(this,wu)).catch(e=>zt.warn("Setting video filter on camera stream failed. "+e)))}onStreamUpdated(t){ai(this,Do).isFilterSupported(ai(this,Lo))&&this.isLocalParticipant(t.peerId)&&this.isCameraStreamType(t.stream)&&(this.hasLiveVideoTrack(t.stream)?(is(this,Ta,this.getVideoTrackFrom(t.stream)),ai(this,Do).setFilter(ai(this,Ta),ai(this,Lo),ai(this,wu)).catch(e=>zt.warn("Setting video filter on camera stream failed. "+e))):is(this,Ta,null))}onStreamRemoved(t){ai(this,Do).isFilterSupported(ai(this,Lo))&&this.isLocalParticipant(t.peerId)&&this.isCameraStreamType(t.stream)&&is(this,Ta,null)}onConferenceVideoFilterUpdate(t){ai(this,Do).isFilterSupported(t.filter)?this.setFilter(t.filter,t.filterOptions):zt.warn("Setting video filter on camera stream failed. Filter '"+t.filter+"' is unsupported")}};bu=new WeakMap,Rl=new WeakMap,Do=new WeakMap,Lo=new WeakMap,wu=new WeakMap,Ta=new WeakMap,Al=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j}([pn([Le.ConferenceVideoFilterUpdate,Le.StreamAdded,Le.StreamRemoved,Le.StreamUpdated])],Al);var Id,Ol,_c,Pd=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},Rd=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n};class Fo{constructor(){Id.set(this,null),Ol.set(this,""),_c.set(this,void 0),this.filterHandlers=new Map([[_a.None,Fo.prototype.filterNoneHandler],[_a.Bokeh,Fo.prototype.filterBokehHandler],[_a.StaticImage,Fo.prototype.filterStaticImageHandler]])}get supportedFilters(){if(!Pd(this,_c))try{(()=>{const e=navigator.mediaDevices.getSupportedConstraints();return!!(e.hasOwnProperty("videoFilterMode")&&e.hasOwnProperty("videoFilterImageFileData")&&e.hasOwnProperty("videoFilterEnableDenoise"))&&e.videoFilterMode&&e.videoFilterImageFileData&&e.videoFilterEnableDenoise})()?Rd(this,_c,[_a.None,_a.Bokeh,_a.StaticImage]):Rd(this,_c,[])}catch(e){Rd(this,_c,[]),zt.warn("Checking system capabilities failed. "+e)}return Pd(this,_c)}isFilterSupported(e){return this.supportedFilters.includes(e)}setFilter(e,n,o={}){return new Promise((c,v)=>{this.isFilterSupported(n)?e?e instanceof MediaStream?c(this.setFilterOnStream(e,n,o)):c(this.setFilterOnTrack(e,n,o)):v(new Error("Setting video filter failed. Stream is null")):v(new at("Setting video filter failed. Filter '"+n+"' is unsupported."))})}setFilterOnStream(e,n,o={}){return new Promise((c,v)=>{e.getVideoTracks().length>0&&e.getVideoTracks()[0]!=null?c(this.setFilterOnTrack(e.getVideoTracks()[0],n,o)):v(new Error("Setting video filter failed. There is no video tracks in stream."))})}setFilterOnTrack(e,n,o={}){return new Promise((c,v)=>{e.kind==="video"?c(this.handleFilter(e,n,o)):v(new Error("Setting video filter failed. Media track isn't a video track"))})}handleFilter(e,n,o){return new Promise((c,v)=>{const j=this.filterHandlers.get(n);j?c(j.call(this,e,o)):v(new Error("Filter handler is undefined."))}).then(()=>zt.debug(`Set video filter '${n}' on video track '${e.id}'`))}filterNoneHandler(e,n){return n.videoDenoise?Fo.applyEffect(e,{mode:"none",denoise:!0}):Fo.applyEffect(e,{mode:"disabled"})}filterBokehHandler(e,n){return Fo.applyEffect(e,{mode:"bokeh",denoise:n.videoDenoise})}filterStaticImageHandler(e,n){return this.readFileAsBinaryString(n.imageFile).then(o=>Fo.applyEffect(e,{mode:"static_image",imageData:o,denoise:n.videoDenoise}))}static applyEffect(e,n){return((o,c,v,j)=>{const X=o.getSettings();return o.applyConstraints({width:{exact:X==null?void 0:X.width},height:{exact:X==null?void 0:X.height},frameRate:{exact:X==null?void 0:X.frameRate},videoFilterMode:c,videoFilterImageFileData:v,videoFilterEnableDenoise:j})})(e,n.mode,n.imageData||"",n.denoise||!1)}readFileAsBinaryString(e){return new Promise((n,o)=>{if(!e)return void o(new Error("Reading image file failed. File is null."));if(Pd(this,Id)===e)return void n(Pd(this,Ol));const c=new FileReader;c.onerror=()=>{c.abort(),o(new Error("Reading image file failed. "+c.error))},c.onload=()=>{Rd(this,Id,e),Rd(this,Ol,c.result),n(c.result)},c.readAsBinaryString(e)})}}Id=new WeakMap,Ol=new WeakMap,_c=new WeakMap;var rs,Su,Rh=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Dl=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ah extends Nt{constructor(e,n,o){super(e),rs.set(this,void 0),Su.set(this,void 0),Rh(this,rs,new Fo),Rh(this,Su,new Al(n,o,Dl(this,rs)))}getSupportedFilters(){return[...Dl(this,rs).supportedFilters]}setFilter(e,n={}){return n.stream===void 0?Dl(this,Su).setFilter(e,n):Dl(this,rs).setFilter(n.stream,e,n)}}rs=new WeakMap,Su=new WeakMap;var Ps,ja,Oh=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Dh=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ad extends Nt{constructor(e,n,o){super(e),Ps.set(this,void 0),ja.set(this,void 0),Oh(this,Ps,n),Oh(this,ja,o)}get local(){return Dh(this,Ps)}get remote(){return Dh(this,ja)}}Ps=new WeakMap,ja=new WeakMap;var Ll,Fl,Tc=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},_u=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class jc{constructor(e,n){Ll.set(this,void 0),Fl.set(this,void 0),Tc(this,Ll,e),Tc(this,Fl,n)}get local(){return _u(this,Ll)}get remote(){return _u(this,Fl)}}Ll=new WeakMap,Fl=new WeakMap;var No,lo,Nr,ho,zo,fn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},Ai=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n};class Tu extends Error{constructor(){super("override value")}}class Rs{constructor(){No.set(this,void 0),lo.set(this,void 0),Nr.set(this,void 0),ho.set(this,void 0),zo.set(this,void 0)}get storeValue(){return fn(this,Nr)}getValue(){return fn(this,lo)&&(fn(this,lo).call(this,new Tu),Ai(this,No,void 0),Ai(this,lo,void 0)),new Promise((e,n)=>{Ai(this,No,e),Ai(this,lo,n)})}executeGet(e){if(fn(this,No)&&fn(this,lo)){let n=fn(this,No),o=fn(this,lo);e().then(c=>{n(c)},c=>{o(c)})}Ai(this,No,void 0),Ai(this,lo,void 0)}set storeValue(e){Ai(this,Nr,e)}setValue(e){return fn(this,zo)&&(fn(this,zo).call(this,new Tu),Ai(this,ho,void 0),Ai(this,zo,void 0)),Ai(this,Nr,e),new Promise((n,o)=>{Ai(this,ho,n),Ai(this,zo,o)})}executeSet(e){if(fn(this,ho)&&fn(this,zo)){let n=fn(this,ho),o=fn(this,zo);e(fn(this,Nr)).then(c=>{n(c)},c=>{o(c)})}else fn(this,Nr)&&e(fn(this,Nr));Ai(this,ho,void 0),Ai(this,zo,void 0)}}No=new WeakMap,lo=new WeakMap,Nr=new WeakMap,ho=new WeakMap,zo=new WeakMap;var Ca,Uo,jr,Oi,ju,As,po,Os,Cc,Od,Cu,Eu,Ea,os,as,xu,Ec,mo,qr,Cr=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},Dt=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},At=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};function xc(t){return Cr(this,void 0,void 0,function*(){if(!(navigator!=null&&navigator.mediaDevices))return[];const e=yield navigator.mediaDevices.enumerateDevices();return t?e.filter(n=>n.kind===t):e})}class Mc extends Error{constructor(){super("not supported")}}class Nl{constructor(){Ca.set(this,void 0),Uo.set(this,void 0),jr.set(this,void 0),Oi.set(this,new Rs),ju.set(this,void 0),As.set(this,void 0),po.set(this,void 0),Os.set(this,void 0),Cc.set(this,void 0),Od.set(this,!1),Cu.set(this,!1),Eu.set(this,!1),Ea.set(this,[]),os.set(this,[]),as.set(this,[]),xu.set(this,null),Ec.set(this,null),mo.set(this,null),qr.set(this,[]),this.initSelectAudioDevice(),this.initSelectVideoDevice(),xc().then(e=>{if(e){Dt(this,os,e.filter(o=>o.kind==="audiooutput")),Dt(this,Ea,e.filter(o=>o.kind==="audioinput")),Dt(this,as,e.filter(o=>o.kind==="videoinput"));const n=At(this,os).find(o=>o.deviceId==="default");n&&n.deviceId&&Dt(this,Os,n)}})}initSelectAudioDevice(){Dt(this,Ca,e=>Promise.reject(new Mc)),Dt(this,Uo,e=>Promise.reject(new Mc)),Dt(this,Od,Dt(this,Cu,!1))}initSelectVideoDevice(){Dt(this,jr,e=>Promise.reject(new Mc)),Dt(this,Eu,!1)}get selectedAudioInputDevice(){return At(this,po)}set selectedAudioInputDevice(e){e&&Dt(this,po,e)}get selectedAudioOutputDevice(){return At(this,Os)}set selectedAudioOutputDevice(e){e&&Dt(this,Os,e)}get selectedVideoInputDevice(){return At(this,Cc)}set selectedVideoInputDevice(e){e&&Dt(this,Cc,e)}get setComfortNoiseLevel(){return At(this,As)?e=>(At(this,Oi).storeValue=e,At(this,As).call(this,e)):At(this,Oi).setValue.bind(At(this,Oi))}set setComfortNoiseLevel(e){Dt(this,As,e),e&&At(this,Oi).executeSet(At(this,As))}get getComfortNoiseLevel(){return At(this,ju)?At(this,ju):At(this,Oi).getValue.bind(At(this,Oi))}set getComfortNoiseLevel(e){Dt(this,ju,e),e&&At(this,Oi).executeGet(At(this,ju))}get selectAudioInputDevice(){return At(this,Ca)}set selectAudioInputDevice(e){e&&(Dt(this,Ca,e),Dt(this,Od,!0))}get selectAudioOutputDevice(){return At(this,Uo)}set selectAudioOutputDevice(e){e&&(Dt(this,Uo,e),Dt(this,Cu,!0))}get selectVideoInputDevice(){return At(this,jr)}set selectVideoInputDevice(e){e&&(Dt(this,jr,e),Dt(this,Eu,!0))}get audioOutputDevices(){return At(this,os)}get audioInputDevices(){return At(this,Ea)}get isOutputSelectorValid(){return At(this,Cu)}getConnectedDevices(){return xc()}getConnectedVideoInputDevices(){return xc("videoinput")}getConnectedAudioInputDevices(){return xc("audioinput")}getConnectedAudioOutputDevices(){return xc("audiooutput")}areDevicesEqual(e,n){return e&&n&&e.deviceId===n.deviceId&&e.label===n.label&&e.kind===n.kind&&e.groupId===n.groupId}trackDevicesUpdates(e,n){return{added:n.filter(o=>!e.find(c=>c.groupId===o.groupId&&c.kind===o.kind)).filter(o=>o.deviceId!=="default"),removed:e.filter(o=>!n.find(c=>c.groupId===o.groupId&&c.kind===o.kind&&o.label.includes(c.label))).filter(o=>o.deviceId!=="default"),updated:n.filter(o=>e.find((c,v)=>c.kind===o.kind&&c.deviceId===o.deviceId&&(c.groupId!==o.groupId||c.label!==o.label)))}}getCurrentSelectedDevice(e,n){return e&&n.find(o=>o.deviceId===e.deviceId&&o.label===e.label&&o.kind===e.kind&&o.groupId===e.groupId)?e:Array.isArray(n)&&n.length>0?((e&&e.kind==="audioinput"||e&&e.kind==="audiooutput")&&Qe.isWindows&&Qe.isChrome||Qe.isEdge?n.find(o=>o.deviceId==="communications"):n.find(o=>o.deviceId==="default"))||n[0]:void 0}scheduleAudioInputChange(e){const n=!At(this,xu);Dt(this,xu,e),n&&setTimeout(()=>Cr(this,void 0,void 0,function*(){yield At(this,Ca).call(this,At(this,xu)),Dt(this,xu,null)}),60)}scheduleAudioOutputChange(e){const n=!At(this,Ec);Dt(this,Ec,e),n&&setTimeout(()=>Cr(this,void 0,void 0,function*(){yield At(this,Uo).call(this,At(this,Ec)),Dt(this,Ec,null)}),60)}scheduleVideoInputChange(e){const n=!At(this,mo);Dt(this,mo,e),n&&setTimeout(()=>Cr(this,void 0,void 0,function*(){yield At(this,jr).call(this,At(this,mo)),Dt(this,mo,null)}),60)}isDeviceListUpdated(e,n){return e.length===n.length&&e.every((o,c)=>o.label===n[c].label&&o.deviceId===n[c].deviceId&&o.groupId===n[c].groupId)}onDeviceChange(e){At(this,qr).push(e);const n=c=>Cr(this,void 0,void 0,function*(){const v=yield xc(),j=v.filter(je=>je.kind==="audioinput"),X=v.filter(je=>je.kind==="audiooutput"),O=v.filter(je=>je.kind==="videoinput");if(this.isDeviceListUpdated(j,At(this,Ea))&&this.isDeviceListUpdated(X,At(this,os))&&this.isDeviceListUpdated(O,At(this,as)))return;const D=this.getCurrentSelectedDevice(At(this,po),j);D&&At(this,Od)&&!this.areDevicesEqual(D,At(this,po))&&this.scheduleAudioInputChange(D),Dt(this,po,D);const B=this.getCurrentSelectedDevice(At(this,Os),X);B&&At(this,Cu)&&!this.areDevicesEqual(B,At(this,Os))&&this.scheduleAudioOutputChange(B),Dt(this,Os,B);const ue=this.getCurrentSelectedDevice(At(this,Cc),O);ue&&At(this,Eu)&&!this.areDevicesEqual(ue,At(this,Cc))&&this.scheduleVideoInputChange(ue),Dt(this,Cc,ue),At(this,qr).forEach(je=>{const Ve=(je.deviceKind&Ao.AudioInput)===Ao.AudioInput,ht=(je.deviceKind&Ao.AudioOutput)===Ao.AudioOutput,St=(je.deviceKind&Ao.VideoInput)===Ao.VideoInput,nn=(je.handlerType&xs.ListDevices)===xs.ListDevices,jt=(je.handlerType&xs.GetDifferences)===xs.GetDifferences;if(!ht&&!Ve&&!St||!nn&&!jt)return;const Pn={};if(nn&&(Pn.list=Object.assign(Object.assign(Object.assign({},St&&O.length>0&&{videoInput:[...O]}),Ve&&j.length>0&&{audioInput:[...j]}),ht&&X.length>0&&{audioOutput:[...X]})),jt){let pi={};if(Ve){const un=this.trackDevicesUpdates(At(this,Ea),j);(un&&un.added.length>0||un.updated.length>0||un.removed.length>0)&&(pi=Object.assign(Object.assign({},pi),{audioInput:un}))}if(ht){const un=this.trackDevicesUpdates(At(this,os),X);(un&&un.added.length>0||un.updated.length>0||un.removed.length>0)&&(pi=Object.assign(Object.assign({},pi),{audioOutput:un}))}if(St){const un=this.trackDevicesUpdates(At(this,as),O);(un&&un.added.length>0||un.updated.length>0||un.removed.length>0)&&(pi=Object.assign(Object.assign({},pi),{videoInput:un}))}const mi=[...St?["videoInput"]:[],...Ve?["audioInput"]:[],...ht?["audioOutput"]:[]],Xn=Object.keys(pi);mi.filter(un=>Xn.includes(un)).length>0&&(Pn.updates=pi)}Object.keys(Pn).length>0&&je.handler(Pn)}),Dt(this,Ea,j),Dt(this,os,X),Dt(this,as,O)});let o;return Qe.isAndroid&&Qe.isChrome?o=setInterval(n,1e3):navigator!=null&&navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=n),()=>{const c=At(this,qr).indexOf(e);c>-1&&At(this,qr).splice(c,1),o&&clearInterval(o)}}}Ca=new WeakMap,Uo=new WeakMap,jr=new WeakMap,Oi=new WeakMap,ju=new WeakMap,As=new WeakMap,po=new WeakMap,Os=new WeakMap,Cc=new WeakMap,Od=new WeakMap,Cu=new WeakMap,Eu=new WeakMap,Ea=new WeakMap,os=new WeakMap,as=new WeakMap,xu=new WeakMap,Ec=new WeakMap,mo=new WeakMap,qr=new WeakMap;var Vo,Ic,Zi=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},Bo=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},xa=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ih{constructor(e){Vo.set(this,void 0),Ic.set(this,void 0),Bo(this,Vo,e),xa(this,Vo).selectVideoInputDevice=this.onVideInputSelectedCallback.bind(this)}getCurrentDeviceId(){var e;return(e=xa(this,Vo).selectedVideoInputDevice)===null||e===void 0?void 0:e.deviceId}setNewDeviceId(e){return Zi(this,void 0,void 0,function*(){const n=yield xa(this,Vo).getConnectedVideoInputDevices();if(!n||n.length===0)return;const o=n.find(c=>c.deviceId===e);o&&(xa(this,Vo).selectedVideoInputDevice=o)})}setOnVideoDeviceIdChangedCallback(e){Bo(this,Ic,e)}onVideInputSelectedCallback(e){return Zi(this,void 0,void 0,function*(){xa(this,Ic)&&(e==null?void 0:e.deviceId)&&(yield xa(this,Ic).call(this,e.deviceId))})}}Vo=new WeakMap,Ic=new WeakMap;var ss=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})};class Mu{constructor(e){this.mediaStreamTrack=e}getMediaStreamTrack(){return this.mediaStreamTrack}stop(){return ss(this,void 0,void 0,function*(){})}applyConstraints(e){return ss(this,void 0,void 0,function*(){})}}var Ma,Dd=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},Iu=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},rh=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class cs extends Mu{constructor(e,n){super(e),Ma.set(this,void 0),Iu(this,Ma,n)}static create(e){return Dd(this,void 0,void 0,function*(){const n=(yield navigator.mediaDevices.enumerateDevices()).filter(v=>v.kind==="videoinput");if(Qe.isSafari&&n.length===0)throw new Ye({name:"NotFoundError",message:"Unable to detect video devices. Joining conference without video."});let o;try{o=yield navigator.mediaDevices.getUserMedia({video:e==null||e,audio:!1})}catch(v){throw new Ye(v)}if(!o)throw new Sn("Failed to create a video track from the camera. MediaStream is null.");if(!o.getVideoTracks()||!o.getVideoTracks().length)throw new Sn("Failed to create a video track from the camera. No video track in the media stream.");const c=o.getVideoTracks()[0];return o.removeTrack(c),c.onended=()=>{const v={track:{readyState:c==null?void 0:c.readyState,kind:c==null?void 0:c.kind,enabled:c==null?void 0:c.enabled,id:c==null?void 0:c.id}};J.send(Je.ConferenceGlobalTrace.fromData({api:"MediaStreamTrack.onended",data:v}))},new cs(c,e)})}getConstraints(){return rh(this,Ma)}stop(){return Dd(this,void 0,void 0,function*(){this.mediaStreamTrack&&this.mediaStreamTrack.stop()})}applyConstraints(e){return Dd(this,void 0,void 0,function*(){const n=Object.assign(Object.assign({},rh(this,Ma)),e);try{yield this.getMediaStreamTrack().applyConstraints(n)}catch(o){throw new Ye(o)}Iu(this,Ma,n)})}}Ma=new WeakMap;class Pu extends Mu{static create(e){return new Pu(e)}constructor(e){super(e)}applyConstraints(e){return n=this,o=void 0,v=function*(){const j=this.getMediaStreamTrack().getConstraints(),X=Object.assign(Object.assign({},j),e);yield this.getMediaStreamTrack().applyConstraints(X)},new((c=void 0)||(c=Promise))(function(j,X){function O(ue){try{B(v.next(ue))}catch(je){X(je)}}function D(ue){try{B(v.throw(ue))}catch(je){X(je)}}function B(ue){var je;ue.done?j(ue.value):(je=ue.value,je instanceof c?je:new c(function(Ve){Ve(je)})).then(O,D)}B((v=v.apply(n,o||[])).next())});var n,o,c,v}}var Ia,Ds,Ru=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Ls=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class $r{constructor(e){Ia.set(this,new Array),Ds.set(this,void 0),Ru(this,Ds,e)}reset(){Ls(this,Ia).length=0}hit(){Ls(this,Ia).push(Date.now())}hitsInLastXTime(e){const n=Date.now();this.removeOldHits(n);const o=n,c=n-e;return this.getHits(o,c).length}removeOldHits(e){const n=e,o=e-Ls(this,Ds);Ru(this,Ia,this.getHits(n,o))}getHits(e,n){return Ls(this,Ia).filter(o=>n<=o&&o<=e)}}Ia=new WeakMap,Ds=new WeakMap;var fo,Ld,zl,Fs,Bn,Fd=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Au=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};(function(t){t.Camera="camera",t.Custom="custom"})(Bn||(Bn={}));class Ul{constructor(e,n){fo.set(this,void 0),Ld.set(this,void 0),Fd(this,fo,e),Fd(this,Ld,n)}static camera(e,n){return new Yh(e,n)}static custom(e,n){return new cr(e,n)}get sourceType(){return Au(this,fo)}get processor(){return Au(this,Ld)}set processor(e){Fd(this,Ld,e)}isCamera(){return Au(this,fo)===Bn.Camera}isCustom(){return Au(this,fo)===Bn.Custom}asCamera(){return this}asCustom(){return this}}fo=new WeakMap,Ld=new WeakMap;class Yh extends Ul{constructor(e,n){super(Bn.Camera,n),zl.set(this,void 0),Fd(this,zl,e)}get constraints(){return Au(this,zl)}}zl=new WeakMap;class cr extends Ul{constructor(e,n){super(Bn.Custom,n),Fs.set(this,void 0),Fd(this,Fs,e)}get userVideoTrack(){return Au(this,Fs)}}Fs=new WeakMap;var Gi,Nd=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},pr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};const gi=mt(4661);class Vl{constructor(e){Gi.set(this,void 0),function(n,o,c){if(!o.has(n))throw new TypeError("attempted to set private field on non-instance");o.set(n,c)}(this,Gi,e)}static create(e,n){return Nd(this,void 0,void 0,function*(){const o=yield new gi.VideoFilter(e,n);return new Vl(o)})}setProcessEnable(e){pr(this,Gi).setProcessEnable(e)}getProcessEnable(){return pr(this,Gi).getProcessEnable()}setFaceEnhanceMode(e){pr(this,Gi).setFaceEnhanceMode(e)}getFaceEnhanceMode(){return pr(this,Gi).getFaceEnhanceMode()}setPassthroughMode(e){pr(this,Gi).setPassthroughMode(e)}getPassthroughMode(){return pr(this,Gi).getPassthroughMode()}setBackgroundMode(e){pr(this,Gi).setBackgroundMode(e)}getBackgroundMode(){return pr(this,Gi).getBackgroundMode()}getModelVersion(){return pr(this,Gi).getModelVersion()}stop(){pr(this,Gi).stop()}start(){pr(this,Gi).start()}setProcessingErrorHandler(e){pr(this,Gi).setProcessingErrorHandler(e)}changeInput(e){return Nd(this,void 0,void 0,function*(){yield pr(this,Gi).changeInput(e)})}changeBackground(e){return Nd(this,void 0,void 0,function*(){yield pr(this,Gi).changeBackground(e)})}getOutput(){return Nd(this,void 0,void 0,function*(){return yield pr(this,Gi).getOutput()})}changeOutputFrameRate(e){return Nd(this,void 0,void 0,function*(){return yield pr(this,Gi).changeOutputFrameRate(e)})}}Gi=new WeakMap;class Pc{static get modelFileUrl(){return Ii("vsl_impl.bin",Pc.dolbyIoVslVersionHash)}static get wasmFileUrl(){return Ii("vsl_impl.wasm",Pc.dolbyIoVslVersionHash)}}var Wo;Pc.dolbyIoVslVersionHash=wn()("1.0.0-develop-4123afa7-682112"),function(t){t.Bokeh="bokeh",t.BackgroundReplacement="backgroundreplacement",t.None="none"}(Wo||(Wo={}));var hi,Bl,Wl,us=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},Lh=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},zr=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Rc{constructor(e){hi.set(this,void 0),Bl.set(this,null),Wl.set(this,!1),Lh(this,hi,e)}static create(e){return us(this,void 0,void 0,function*(){const n={passthrough:!0,wasm_filepath:Pc.wasmFileUrl,model_filepath:Pc.modelFileUrl,debug:!1};try{const o=yield Vl.create(e,n),c=o.getModelVersion();return console.info(`Vsl wrapper created, model: ${c}`),new Rc(o)}catch(o){throw Zt(o)}})}stop(){try{zr(this,hi).stop()}catch(e){throw Zt(e)}}start(){try{zr(this,hi).start()}catch(e){throw Zt(e)}}setProcessingErrorCallback(e){const n=o=>us(this,void 0,void 0,function*(){return yield e(Zt(o,"Internal video processing exception"))});try{zr(this,hi).setProcessingErrorHandler(n)}catch(o){throw Zt(o)}}setProcessor(e){return us(this,void 0,void 0,function*(){if(!("type"in e))throw new Sn("Failed to set processor. Invalid argument: VideoProcessor.type is undefined.");if(e.type===Wo.None)yield this.handleEmptyProcessor();else if(e.type===Wo.Bokeh)yield this.handleBokehProcessor();else{if(e.type!==Wo.BackgroundReplacement)throw new Sn("Unknown processor type: '"+e.type+"'");if(!e.image)throw new Sn("Failed to set a processor. Missing argument: VideoProcessor.image is undefined.");yield this.handleBackgroundReplacementProcessor(e.image)}Lh(this,Bl,e),console.debug("Set video processor: ",e)})}getProcessor(){return zr(this,Bl)}getOutputStream(){return us(this,void 0,void 0,function*(){try{return yield zr(this,hi).getOutput()}catch(e){throw Zt(e)}})}changeOutputStreamFrameRate(e){return us(this,void 0,void 0,function*(){try{yield zr(this,hi).changeOutputFrameRate(e)}catch(n){throw Zt(n)}})}changeInputStream(e){return us(this,void 0,void 0,function*(){try{yield zr(this,hi).changeInput(e)}catch(n){throw Zt(n)}})}handleEmptyProcessor(){return us(this,void 0,void 0,function*(){try{yield zr(this,hi).setPassthroughMode(!0)}catch(e){throw Zt(e)}})}handleBokehProcessor(){return us(this,void 0,void 0,function*(){try{yield zr(this,hi).setBackgroundMode("bokeh"),yield zr(this,hi).setPassthroughMode(!1)}catch(e){throw Zt(e)}})}handleBackgroundReplacementProcessor(e){return us(this,void 0,void 0,function*(){try{yield zr(this,hi).changeBackground(e),yield zr(this,hi).setBackgroundMode("replace"),yield zr(this,hi).setPassthroughMode(!1)}catch(n){throw Zt(n)}})}}hi=new WeakMap,Bl=new WeakMap,Wl=new WeakMap;var Ut,Ur,Ou,Pa=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},zd=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Ra=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class oh extends Mu{constructor(e,n,o){super(n),Ut.set(this,void 0),Ur.set(this,void 0),Ou.set(this,!1),zd(this,Ur,e),zd(this,Ut,o)}static create(e,n){return Pa(this,void 0,void 0,function*(){const o=new MediaStream([e.getMediaStreamTrack()]),c=yield Rc.create(o),v=yield c.getOutputStream();if(!v||!v.getVideoTracks().length)throw new Sn("Failed to initialize a video processor engine.");const j=v.getVideoTracks()[0],X=new oh(e,j,c);return c.setProcessingErrorCallback(O=>Pa(this,void 0,void 0,function*(){Ra(X,Ou)||n&&(yield X.stop(),yield n(O),n=null)})),c.start(),X})}setProcessor(e){return Pa(this,void 0,void 0,function*(){return Ra(this,Ut).setProcessor(e)})}getProcessor(){return Ra(this,Ut).getProcessor()}getInputTrack(){return Ra(this,Ur)}setInputTrack(e){return Pa(this,void 0,void 0,function*(){const n=new MediaStream([e.getMediaStreamTrack()]);yield Ra(this,Ut).changeInputStream(n),zd(this,Ur,e)})}stop(){return Pa(this,void 0,void 0,function*(){Ra(this,Ou)||(this.mediaStreamTrack&&(yield this.mediaStreamTrack.stop()),Ra(this,Ut)&&Ra(this,Ut).stop(),zd(this,Ou,!0))})}applyConstraints(e){return Pa(this,void 0,void 0,function*(){(e==null?void 0:e.frameRate)!==void 0&&(typeof e.frameRate=="number"?yield Ra(this,Ut).changeOutputStreamFrameRate(e.frameRate):console.debug("'frameRate' defiend as a range is not supported"))})}get engine(){return Ra(this,Ut)}}Ut=new WeakMap,Ur=new WeakMap,Ou=new WeakMap;var qh=mt(3958),ah=mt.n(qh);class ds{static merge(e,n){return Object.assign(Object.assign({},e),n)}static getDefaultConstraints(){return Qe.isFirefox?{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:25}}:{width:{max:1280,ideal:1280},height:{max:720,ideal:720},frameRate:{max:25,ideal:25}}}static getBandwidthConstraints(e){if(e<=0)return{};const n=(Qe.isMobile||typeof navigator!="undefined"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1?kr.videoSettings.mobile:kr.videoSettings.desktop).find(o=>e>o.range.min&&e<=o.range.max);return n?Qe.isFirefox?{width:{ideal:n.dimensions.width},height:{ideal:n.dimensions.height},frameRate:{ideal:n.fps}}:{width:{max:n.dimensions.width,ideal:n.dimensions.width},height:{max:n.dimensions.height,ideal:n.dimensions.height},frameRate:{max:n.fps,ideal:n.fps}}:{}}static applyBandwidthConstraintsIfNeeded(e,n,o,c,v){var j,X,O,D,B;return X=this,O=void 0,B=function*(){const ue=ds.getBandwidthConstraints(o);if(!ue)return void console.warn("Failed to adapt video quality to bandwidth. Video constraints are undefined.");const je=(j=e.getConstraints())!==null&&j!==void 0?j:{};let Ve=!1;if(c&&(ah()(je.width,ue.width)||(je.width=ue.width,Ve=!0),ah()(je.height,ue.height)||(je.height=ue.height,Ve=!0)),v&&(ah()(je.frameRate,ue.frameRate)||(je.frameRate=ue.frameRate,Ve=!0)),Ve)try{if(yield e.applyConstraints(je),n&&(je==null?void 0:je.frameRate)){const ht=e.getMediaStreamTrack().getSettings().frameRate;yield n.applyConstraints({frameRate:ht})}}catch(ht){console.warn("Failed to adapt video quality to bandwidth",ht)}},new((D=void 0)||(D=Promise))(function(ue,je){function Ve(nn){try{St(B.next(nn))}catch(jt){je(jt)}}function ht(nn){try{St(B.throw(nn))}catch(jt){je(jt)}}function St(nn){var jt;nn.done?ue(nn.value):(jt=nn.value,jt instanceof D?jt:new D(function(Pn){Pn(jt)})).then(Ve,ht)}St((B=B.apply(X,O||[])).next())})}static remove(e,n){if(!e)return[e,[]];if(!n)return[e,[]];const o=[],c=Object.assign({},e);return n.forEach(v=>{c[v]&&(o.push(v),delete c[v])}),[c,o]}}const Ud={},Fh=new gu(72e5),sh=t=>{Ud[t]=new gu(72e5)};J.on(Le.ParticipantAdded,t=>{Ud[t.userId]||sh(t.userId)}),J.on(Le.ParticipantUpdated,t=>{var e;t.status==="LEFT"&&(e=t.userId,delete Ud[e])});const ls=t=>(Ud[t]||sh(t),Ud[t]),Vd=()=>Fh;var Go,go,Ac,Oc,Ns,Dc,Du,zs,Bd,Aa,Ho,vo=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},Di=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Wn=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};(function(t){t.VideoStarted="videoStarted",t.VideoStopped="videoStopped",t.VideoUpdated="videoUpdated",t.VideoInternalError="videoInternalError"})(Ho||(Ho={}));let Er=class extends Nt{constructor(t,e){super(t),Go.set(this,null),go.set(this,null),Ac.set(this,null),Oc.set(this,!0),Ns.set(this,!0),Dc.set(this,void 0),Du.set(this,new $r(1e4)),zs.set(this,!1),Bd.set(this,!1),Aa.set(this,!0),Di(this,Dc,e),e.setOnVideoDeviceIdChangedCallback(this.changeCameraDeviceId.bind(this))}start(t,e){return vo(this,void 0,void 0,function*(){return Vd().execute(()=>this.startLocalVideo(t,e))})}startLocalVideo(t,e){var n,o,c;return vo(this,void 0,void 0,function*(){if(Wn(this,zs)||Wn(this,Bd))throw new at("Local video is not available to listeners and in an audio-only conference.");if(!Wn(this,Aa))throw vt();let v,j,X,O;if(e&&this.verifyVideoProcessorOrThrow(e),t instanceof MediaStreamTrack){if(t.kind!=="video")throw new he("Failed to start a video. The user-provided media stream track must be 'video' kind.");X=Ul.custom(t,e),v=j=!1}else{const D=t?Object.assign({},t):void 0;X=Ul.camera(D,e),v=!(((n=X.constraints)===null||n===void 0?void 0:n.width)||((o=X.constraints)===null||o===void 0?void 0:o.height)),j=!(!((c=X.constraints)===null||c===void 0)&&c.frameRate)}try{let D;O=yield this.createLocalVideo(X),X.processor&&(D=yield this.createProcessedVideo(O,X.processor));let B=null;this.isLocalVideoAttached()&&(B=this.detachLocalVideo()),this.isProcessedVideoAttached()&&(B=this.detachProcessedVideo()),B&&(yield this.onVideoStopped(B.getMediaStreamTrack())),this.attachLocalVideo(O),D&&this.attachProcessedVideo(D),Di(this,Go,X),Di(this,Oc,v),Di(this,Ns,j),Wn(this,Go).isCamera()&&(yield Wn(this,Dc).setNewDeviceId(O.getMediaStreamTrack().getSettings().deviceId));const ue=D||O;return yield this.onVideoStarted(ue.getMediaStreamTrack()),ue.getMediaStreamTrack()}catch(D){throw O&&O.stop().catch(B=>console.debug("Failed to stop a local video.",B)),J.send(Je.ConferenceGlobalError.fromData(D)),D}})}stop(){return vo(this,void 0,void 0,function*(){return Vd().execute(()=>this.stopLocalVideo())})}stopLocalVideo(){return vo(this,void 0,void 0,function*(){Di(this,Oc,!0),Di(this,Ns,!0),Di(this,Go,null);let t=null;this.isLocalVideoAttached()&&(t=this.detachLocalVideo()),this.isProcessedVideoAttached()&&(t=this.detachProcessedVideo()),t&&(yield this.onVideoStopped(t.getMediaStreamTrack()))})}setProcessor(t){return vo(this,void 0,void 0,function*(){try{if(!t)throw new he("Argument 'processor' is missing but required.");if(this.verifyVideoProcessorOrThrow(t),this.isProcessedVideoAttached())yield this.getProcessedVideo().setProcessor(t),Wn(this,Go).processor=t;else{if(!this.isLocalVideoAttached())throw new at("Failed to set the video processor. The local video isn't started.");const n=yield this.createProcessedVideo(this.getLocalVideo(),t);this.attachProcessedVideo(n),Wn(this,Go).processor=t,yield this.onVideoUpdated(n.getMediaStreamTrack())}J.send(new lt({level:"info",action:"VideoProcessingEnabled",description:"Video processing has been enabled.",component:"LocalVideo",api:"setProcessor",payload:[t]}))}catch(n){throw J.send((e=`${n.name}: ${n.message}`,new lt({level:"error",action:"VideoProcessingFailed",description:e,component:"LocalVideo",api:"setProcessor",payload:[t]}))),n}var e})}disableProcessing(){return vo(this,void 0,void 0,function*(){this.isProcessedVideoAttached()?(this.detachProcessedVideo(),Wn(this,Go).processor=void 0,yield this.onVideoUpdated(this.getLocalVideo().getMediaStreamTrack()),J.send(new lt({level:"info",action:"VideoProcessingDisabled",description:"Video processing has been disabled.",component:"LocalVideo",api:"setProcessor",payload:[]}))):J.send(new lt({level:"warn",action:"VideoProcessingDisabledWarning",description:"Could not disable processing because no video is attached with a processor.",component:"LocalVideo",api:"setProcessor",payload:[]}))})}applyConstraints(t){return vo(this,void 0,void 0,function*(){if(!this.isLocalVideoAttached())throw new at("Failed to apply the constraints. The local video isn't started.");if(!t)return;const[e,n]=ds.remove(t,["deviceId","groupId"]);if(n.length&&console.debug(`Invalid constraints: ${JSON.stringify(n)} are not allowed and will be skipped.`),t=e,Object.keys(t).length){if(yield this.getLocalVideo().applyConstraints(t),this.isProcessedVideoAttached()&&t.frameRate){const o=this.getLocalVideo().getMediaStreamTrack().getSettings().frameRate;yield this.getProcessedVideo().applyConstraints({frameRate:o})}t.frameRate!==void 0&&Di(this,Ns,!1),t.height===void 0&&t.width===void 0||Di(this,Oc,!1)}})}emitLocalVideoStarted(t){J.send(Je.LocalVideoStarted.fromData({track:t})),console.debug("Local video track started:",t),this.emit(Ho.VideoStarted,t)}emitLocalVideoStopped(t){J.send(Je.LocalVideoStopped.fromData({track:t})),console.debug("Local video track stopped:",t),this.emit(Ho.VideoStopped,t)}emitLocalVideoUpdated(t){J.send(Je.LocalVideoUpdated.fromData({track:t})),console.debug("Local video track updated:",t),this.emit(Ho.VideoUpdated,t)}emitLocalVideoInternalEvent(t){this.emit(Ho.VideoInternalError,t)}changeCameraDeviceId(t){return vo(this,void 0,void 0,function*(){if(!this.isLocalVideoAttached())return;let e,n;e=this.isLocalVideoCustom()?ds.merge(ds.getDefaultConstraints(),{deviceId:t}):ds.merge(this.getLocalVideoAsCamera().getConstraints(),{deviceId:t});try{n=yield cs.create(e)}catch(o){return this.emitLocalVideoInternalEvent(o),void this.stop().catch(c=>console.debug("Failed to stop a local video.",c))}if(this.isProcessedVideoAttached()){let o;try{o=yield this.createProcessedVideo(n,Wn(this,Go).processor)}catch(c){return n.stop().catch(v=>console.debug("Failed to stop a local video.",v)),this.emitLocalVideoInternalEvent(c),void this.stop().catch(v=>console.debug("Failed to stop a local video.",v))}this.detachLocalVideo(),this.detachProcessedVideo(),this.attachLocalVideo(n),this.attachProcessedVideo(o),yield this.onVideoUpdated(o.getMediaStreamTrack())}else this.detachLocalVideo(),this.attachLocalVideo(n),yield this.onVideoUpdated(n.getMediaStreamTrack())})}onBandwidthRestrictionChanged(t){(Wn(this,Oc)||Wn(this,Ns))&&this.isLocalVideoCamera()&&ds.applyBandwidthConstraintsIfNeeded(this.getLocalVideoAsCamera(),this.getProcessedVideo(),t.bandwidth,Wn(this,Oc),Wn(this,Ns))}onUpdateToken(t){const e=tu(t.conferenceAccessToken);new Set(e.authorities).has(Co.SendVideo)?Di(this,Aa,!0):(Di(this,Aa,!1),this.stop())}handleProcessingError(t){return vo(this,void 0,void 0,function*(){Wn(this,Du).hit();const e=Wn(this,Du).hitsInLastXTime(5e3);if(console.debug("Number of video processor errors in last",5,"seconds:",e),this.emitLocalVideoInternalEvent(t),e>=3)return Wn(this,Du).reset(),console.error("The video processor has stopped. Too many errors. Last error: ",t),void this.stop().catch(n=>console.debug("Failed to stop a local video.",n));console.debug("Video processor unit restarting...");try{const n=yield this.createProcessedVideo(this.getLocalVideo(),Wn(this,Go).processor);this.detachProcessedVideo(),this.attachProcessedVideo(n),yield this.onVideoUpdated(n.getMediaStreamTrack())}catch(n){console.debug("Failed to restart a video processor unit",n),this.emitLocalVideoInternalEvent(n),console.error("The video processor has stopped.",t),this.stop().catch(o=>console.debug("Failed to stop a local video.",o))}})}getLocalVideo(){return Wn(this,go)}getLocalVideoAsCamera(){return Wn(this,go)}isLocalVideoCamera(){return Wn(this,go)instanceof cs}isLocalVideoCustom(){return Wn(this,go)instanceof Pu}attachLocalVideo(t){Di(this,go,t)}detachLocalVideo(){const t=Wn(this,go);return Di(this,go,null),t.stop().catch(e=>console.debug("Failed to stop a local video",e)),t}isLocalVideoAttached(){return Wn(this,go)!==null}createLocalVideo(t){var e;return vo(this,void 0,void 0,function*(){if(t.isCustom())return Pu.create(t.asCustom().userVideoTrack);if(t.isCamera()){let n=t.asCamera().constraints;return n=n?Object.assign(Object.assign({},ds.getDefaultConstraints()),n):ds.getDefaultConstraints(),(e=n.deviceId)!==null&&e!==void 0||(n.deviceId=Wn(this,Dc).getCurrentDeviceId()),cs.create(n)}})}getProcessedVideo(){return Wn(this,Ac)}attachProcessedVideo(t){Di(this,Ac,t)}detachProcessedVideo(){const t=Wn(this,Ac);return Di(this,Ac,null),t.stop().catch(e=>console.debug("Failed to stop a processed video",e)),t}isProcessedVideoAttached(){return Wn(this,Ac)!==null}createProcessedVideo(t,e){return vo(this,void 0,void 0,function*(){let n;try{return n=yield oh.create(t,this.handleProcessingError.bind(this)),yield n.setProcessor(e),n}catch(o){throw n&&n.stop().catch(c=>console.debug("Failed to stop processed video",c)),o}})}verifyVideoProcessorOrThrow(t){if(!Qe.isVideoProcessingSupported)throw new at("The video processor feature is unsupported on your browser");if(!("type"in t))throw new he("Invalid argument: Property 'type' is missing but required in VideoProcessor type.");const e=[Wo.Bokeh,Wo.BackgroundReplacement];if([...e,Wo.None].indexOf(t.type)<0)throw new he(`Invalid argument: Video processor type '${t.type}' is unknown. Possible types: ${JSON.stringify(e)}.`);if(t.type===Wo.BackgroundReplacement){if(t.image===void 0||t.image===null)throw new he(`Invalid argument: Property 'image' is missing. The property is required for '${t.type}' processor.`);if(!(t.image instanceof HTMLImageElement))throw new he("Invalid argument: Incorrect property type. An object of type HTMLImageElement is expected in 'image' property.");if(!t.image.complete)throw new he("Invalid argument: The image is not fully loaded. A decoded image is expected.")}}onConferenceJoined(t){var e;super.onConferenceJoined(t),Di(this,zs,!!t.listenOnly),Di(this,Bd,((e=t.parameters)===null||e===void 0?void 0:e.videoCodec)==="NONE")}onConferenceLeft(t){super.onConferenceLeft(t),Di(this,zs,!1),Di(this,Bd,!1)}onVideoStarted(t){return this.emitLocalVideoStarted(t),this._conferenceId?ee.conference.manager.startVideoForLocalPeer(t).then(e=>t).catch(e=>console.error(e)):Promise.resolve(t)}onVideoStopped(t){return this.emitLocalVideoStopped(t),this._conferenceId?ee.conference.manager.stopVideoForLocalPeer().catch(e=>console.error(e,t)):Promise.resolve()}onVideoUpdated(t){return vo(this,void 0,void 0,function*(){return this.emitLocalVideoUpdated(t),this._conferenceId?ee.conference.manager.onLocalVideoUpdated(t).catch(e=>console.error(e,t)):Promise.resolve()})}};Go=new WeakMap,go=new WeakMap,Ac=new WeakMap,Oc=new WeakMap,Ns=new WeakMap,Dc=new WeakMap,Du=new WeakMap,zs=new WeakMap,Bd=new WeakMap,Aa=new WeakMap,Er=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j}([pn([Le.BandwidthRestrictionChanged,Le.UpdateToken])],Er);var Oa,Lc=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};function hs(t,e,n){e.on(t,(...o)=>n.emit(t,...o))}class ur extends Nt{constructor(e,n){super(e),Oa.set(this,void 0),function(o,c,v){if(!c.has(o))throw new TypeError("attempted to set private field on non-instance");c.set(o,v)}(this,Oa,n),hs(Ho.VideoStarted,n,this),hs(Ho.VideoStopped,n,this),hs(Ho.VideoUpdated,n,this),n.on(Ho.VideoInternalError,o=>this.onInternalError(o))}get target(){return Lc(this,Oa)}start(e,n){return Lc(this,Oa).start(e,n)}stop(){return Lc(this,Oa).stop()}setProcessor(e){return Lc(this,Oa).setProcessor(e)}disableProcessing(){return Lc(this,Oa).disableProcessing()}applyConstraints(e){return Lc(this,Oa).applyConstraints(e)}isConferenceActive(){return!!this._conferenceId}isEligibleToReport(e){return e instanceof Ye&&e.name!=="OverconstrainedError"||e instanceof Sn}onInternalError(e){this.isConferenceActive()&&this.isEligibleToReport(e)?this.reportError(e):console.error(e)}reportError(e){try{J.send(Je.ConferenceGlobalError.fromData(e))}catch(n){console.debug(n)}}}Oa=new WeakMap;var Fc,r=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j},i=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},s=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n};class f extends Nt{constructor(e){super(e),Fc.set(this,!1)}start(e){return ls(e.id).execute(()=>this.startRemoteVideo(e))}startRemoteVideo(e){if(i(this,Fc))throw new at("Starting a remote video is not available to a client who joined as an RTS viewer.");return Re.conferences.startMedia({conferenceId:this._conferenceId,peerId:e.id,data:{index:0,label:"camera",media:["video"]}})}stop(e){return ls(e.id).execute(()=>this.stopRemoteVideo(e))}stopRemoteVideo(e){if(i(this,Fc))throw new at("Stopping a remote video is not available to a client who joined as an RTS viewer.");return Re.conferences.stopMedia({conferenceId:this._conferenceId,peerId:e.id,data:{index:0,label:"camera",media:["video"]}})}onConferenceJoined(e){super.onConferenceJoined(e),s(this,Fc,e.isJoinedAsRTSViewer())}onConferenceLeft(e){super.onConferenceLeft(e),s(this,Fc,!1)}}Fc=new WeakMap,r([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],f.prototype,"startRemoteVideo",null),r([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],f.prototype,"stopRemoteVideo",null);const M={options:{audioBitrate:To.Bitrate96k,preferSendMono:!0}},A={options:{audioBitrate:To.Bitrate128k,preferSendMono:!1}};var q,te,Q,re,se,ce,ve,We,ze,_e=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j},be=function(t,e,n,o){return new(n||(n=Promise))(function(c,v){function j(D){try{O(o.next(D))}catch(B){v(B)}}function X(D){try{O(o.throw(D))}catch(B){v(B)}}function O(D){var B;D.done?c(D.value):(B=D.value,B instanceof n?B:new n(function(ue){ue(B)})).then(j,X)}O((o=o.apply(t,e||[])).next())})},Ne=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Xe=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};const tt=(t,e)=>new lt({level:"error",action:"MediaConstraintsError",description:t,component:"LocalAudio",api:"applyConstraints",payload:e}),gt=(t,e)=>new lt({level:"warn",action:"MediaConstraintsWarning",description:t,component:"LocalAudio",api:"applyConstraints",payload:e}),Vt=t=>new lt({level:"info",action:"AudioCaptureModeChanged",description:"Audio capture mode has been updated.",component:"LocalAudio",api:"setCaptureMode",payload:t}),xn=(t,e)=>new lt({level:"error",action:"AudioCaptureModeError",description:t,component:"LocalAudio",api:"setCaptureMode",payload:e}),Mn={echoCancellation:!0,noiseSuppression:!1,autoGainControl:!1,googAutoGainControl:!1},Dn={echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,googAutoGainControl:!1};let si=class extends Nt{constructor(t,e){super(t),q.set(this,void 0),te.set(this,void 0),Q.set(this,void 0),re.set(this,void 0),se.set(this,void 0),ce.set(this,void 0),ve.set(this,void 0),We.set(this,Ci.Standard),ze.set(this,!0),Ne(this,ce,!0),Ne(this,q,e),Ne(this,te,{mode:Ci.Standard,modeOptions:{noiseReductionLevel:Yu.High}})}getCaptureMode(){return be(this,void 0,void 0,function*(){if(this._conferenceId&&!Xe(this,ve)&&!ee.conference.manager.isOpus())throw new at("getCaptureMode is not supported for non-Dolby voice conferences.");return this._conferenceId?ee.conference.manager.isDvwc()?ee.conference.manager.rtc.getCaptureMode():ee.conference.manager.isOpus()?Xe(this,Q)?Xe(this,Q):Xe(this,te):void 0:Xe(this,Q)})}setCaptureMode(t){return be(this,void 0,void 0,function*(){if(this.validateAudioCaptureOptions(t),ee.conference.manager.captureMode=t.mode,Ne(this,Q,t),this._conferenceId){if(ee.conference.manager.isDvwc())return new Promise((e,n)=>be(this,void 0,void 0,function*(){var o;!((o=t.modeOptions)===null||o===void 0)&&o.echoCancellation&&(yield ee.conference.manager.rtc.setEchoCancellation(t.modeOptions.echoCancellation)),yield ee.conference.manager.rtc.setCaptureMode(t).then(()=>{J.send(Vt([t])),e()},c=>{J.send(xn(c.message||"Error while setting capture mode",[t])),n(c)})}));if(ee.conference.manager.isOpus()){if(t.mode===Ci.Unprocessed)yield this.setModeUnprocessed(t);else if(t.mode===Ci.Standard)yield this.setModeStandard(t);else{if(t.mode!==Ci.Music){const e="This capture mode is not supported by WebRTC Opus.";throw J.send(xn(e,[t])),new at(e)}yield this.setModeMusic(t)}Xe(this,ve)&&(yield Re.conferences.audioUpdate({conferenceId:this._conferenceId,peerId:Xe(this,q).participant.id,data:{opusProcessing:{enabled:Xe(this,ce)}}}))}}else t.mode===Ci.Unprocessed?(ee.conference.manager.audioConstraints=Dn,ee.conference.manager.updateRenegotiableJoinOptions(A.options)):t.mode===Ci.Music?(ee.conference.manager.audioConstraints=Mn,ee.conference.manager.updateRenegotiableJoinOptions(M.options)):ee.conference.manager.audioConstraints=void 0})}setModeUnprocessed(t){return be(this,void 0,void 0,function*(){Ne(this,ce,!1),Xe(this,We)===Ci.Standard&&this.resetDeviceConstraint(),yield ee.conference.manager.renegotiateCaptureMode(A.options,Dn,t),Ne(this,We,Ci.Unprocessed),J.send(Vt([t]))})}setModeStandard(t){return be(this,void 0,void 0,function*(){Ne(this,ce,!0),yield ee.conference.manager.renegotiateCaptureMode(ee.conference.manager.initialRenegotiableOptions,Xe(this,se),t),Ne(this,We,Ci.Standard),J.send(Vt([t]))})}setModeMusic(t){return be(this,void 0,void 0,function*(){Ne(this,ce,!1),Xe(this,We)===Ci.Standard&&this.resetDeviceConstraint(),yield ee.conference.manager.renegotiateCaptureMode(M.options,Mn,t),Ne(this,We,Ci.Music),J.send(Vt([t]))})}resetDeviceConstraint(){Ne(this,se,Object.assign({},ee.conference.manager.rtc.constraints.audio)),delete Xe(this,se).deviceId}validateAudioCaptureOptions(t){if(!t||!t.mode||!Object.values(Ci).includes(t==null?void 0:t.mode))throw new he("Unable to change audio capture mode. Please provide a valid audio capture mode.");if(t.mode==="standard"&&t.modeOptions&&!Object.values(Yu).includes(t.modeOptions.noiseReductionLevel))throw new he("Invalid noise reduction level specified for standard capture mode.");if(t.mode==="music"&&t.modeOptions&&!Object.values(Js).includes(t.modeOptions.echoCancellation))throw new he("Invalid echo cancellation value specified for music capture mode.");if(t.mode==="unprocessed"&&t.modeOptions)throw new he("Mode options should not be provided for unprocessed capture mode.");return!0}getComfortNoiseLevel(){return be(this,void 0,void 0,function*(){if(!this._conferenceId)return Xe(this,re);if(ee.conference.manager.isDvwc()||ee.conference.manager.isElectron())return ee.conference.manager.rtc.getComfortNoiseLevel();throw new at("getComfortNoiseLevel is not supported for Opus.")})}setComfortNoiseLevel(t){return be(this,void 0,void 0,function*(){if(Ne(this,re,t),this._conferenceId){if(ee.conference.manager.isDvwc()||ee.conference.manager.isElectron())return new Promise((e,n)=>be(this,void 0,void 0,function*(){yield ee.conference.manager.rtc.setComfortNoiseLevel(t).then(()=>{J.send(new lt({level:"info",action:"ComfortNoiseLevelChanged",description:"The comfort noise level has been updated.",component:"LocalAudio",api:"setComfortNoiseLevel",payload:[t]})),e()},o=>{J.send(new lt({level:"error",action:"ComfortNoiseLevelError",description:o.message||"Error while setting comfort noise level",component:"LocalAudio",api:"setComfortNoiseLevel",payload:[t]})),n(o)})}));throw J.send(new lt({level:"error",action:"ComfortNoiseLevelChanged",description:"setComfortNoiseLevel is not supported for Opus.",component:"LocalAudio",api:"setComfortNoiseLevel",payload:[t]})),new at("setComfortNoiseLevel is not supported for Opus.")}})}start(t){return Vd().execute(()=>this.startLocalAudio(t))}startLocalAudio(t){if([W.LISTENER,W.MIXER].includes(Xe(this,q).participant.type))throw new at;if(!Xe(this,ze)||!ee.conference.current.permissions.has(Co.SendAudio))throw vt();return ee.conference.manager.startAudioForLocalPeer(t)}stop(){return Vd().execute(()=>this.stopLocalAudio())}stopLocalAudio(){if([W.LISTENER,W.MIXER].includes(Xe(this,q).participant.type))throw new at;return ee.conference.manager.stopAudioForLocalPeer()}applyConstraints(t){return be(this,void 0,void 0,function*(){let e;if([W.LISTENER,W.MIXER].includes(Xe(this,q).participant.type))throw e="'applyConstraints' is not available for listeners",J.send(tt(e,[{audio:t}])),new at(e);if(ee.conference.manager.isDvwc())throw e="'applyConstraints' is not available for Dolby Voice Codec",J.send(tt(e,[t])),new at(e);if(!Xe(this,q).participant.audioTransmitting)throw e="Failed to apply constraints. Local audio track is not started.",J.send(tt(e,[t])),new at(e);if(ee.conference.manager.isCustomAudio())throw e="'applyConstraints' is not available when custom input audio is used.",J.send(tt(e,[t])),new at(e);if(!t)return void J.send(gt("No-op cause constraints are null or undefined",[t]));const n=[];if(["deviceId","groupId"].forEach(o=>{t[o]&&(n.push(o),delete t[o])}),n.length&&console.debug("Invalid constraints:",JSON.stringify(n),"are not allowed and will be skipped."),Object.keys(t).length)return new Promise((o,c)=>be(this,void 0,void 0,function*(){yield ee.conference.manager.rtc.updateAudioProcessing(t).then(()=>{J.send(new lt({level:"info",action:"MediaConstraintsApplied",description:"The constraints were applied.",component:"LocalAudio",api:"applyConstraints",payload:[t]})),o()},v=>{J.send(tt(v.message||"The constraints could not be applied",[t])),c(v)})}));J.send(gt("No-op cause there is no constraints to apply",[t]))})}onConferenceJoined(t){const e=Object.create(null,{onConferenceJoined:{get:()=>super.onConferenceJoined}});return be(this,void 0,void 0,function*(){e.onConferenceJoined.call(this,t),Ne(this,ve,t.parameters.dolbyVoice),Xe(this,Q)&&Xe(this,ve)&&(yield this.setCaptureMode(Xe(this,Q))),Xe(this,re)&&(yield this.setComfortNoiseLevel(Xe(this,re)))})}onUpdateToken(t){const e=tu(t.conferenceAccessToken);new Set(e.authorities).has(Co.SendAudio)?Ne(this,ze,!0):(Ne(this,ze,!1),Xe(this,q).participant.audioTransmitting&&this.stop())}};q=new WeakMap,te=new WeakMap,Q=new WeakMap,re=new WeakMap,se=new WeakMap,ce=new WeakMap,ve=new WeakMap,We=new WeakMap,ze=new WeakMap,_e([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],si.prototype,"startLocalAudio",null),_e([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],si.prototype,"stopLocalAudio",null),_e([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],si.prototype,"applyConstraints",null),si=_e([pn([Le.UpdateToken])],si);var mr,dr,Yo=function(t,e,n,o){var c,v=arguments.length,j=v<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(t,e,n,o);else for(var X=t.length-1;X>=0;X--)(c=t[X])&&(j=(v<3?c(j):v>3?c(e,n,j):c(e,n))||j);return v>3&&j&&Object.defineProperty(e,n,j),j},Zn=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},$n=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class qo extends Nt{constructor(e,n,o){super(e),mr.set(this,void 0),dr.set(this,void 0),Zn(this,mr,n),Zn(this,dr,o)}start(e){return ls(e.id).execute(()=>this.startRemoteAudio(e))}startRemoteAudio(e){return n=this,o=void 0,v=function*(){if(e.id===$n(this,dr).participant.id)return $n(this,mr).start().then(X=>{});if((e==null?void 0:e.type)===W.MIXER_MIX)return ee.conference.manager.rtc.mutePeer(e.id,!1),Promise.resolve();if(ee.conference.current&&ee.conference.current.params.dolbyVoice&&[W.LISTENER].includes($n(this,dr).participant.type))throw new at;yield ee.conference.manager.startAudioForRemotePeer(e.id);let j=e.audioTransmitting;e.updateAudioReceivingStopped(!1),J.send(new Je.AudioUpdated(e,j,e.audioTransmitting))},new((c=void 0)||(c=Promise))(function(j,X){function O(ue){try{B(v.next(ue))}catch(je){X(je)}}function D(ue){try{B(v.throw(ue))}catch(je){X(je)}}function B(ue){var je;ue.done?j(ue.value):(je=ue.value,je instanceof c?je:new c(function(Ve){Ve(je)})).then(O,D)}B((v=v.apply(n,o||[])).next())});var n,o,c,v}stop(e){return ls(e.id).execute(()=>this.stopRemoteAudio(e))}stopRemoteAudio(e){if(e.id===$n(this,dr).participant.id)return $n(this,mr).stop();if((e==null?void 0:e.type)===W.MIXER_MIX)return ee.conference.manager.rtc.mutePeer(e.id,!0),Promise.resolve();if($n(this,dr).participant.id!==e.id&&ee.conference.current&&ee.conference.current.params.dolbyVoice&&[W.LISTENER].includes($n(this,dr).participant.type))throw new at;return ee.conference.manager.stopAudioForRemotePeer(e.id).then(()=>{let n=e.audioTransmitting;e.updateAudioReceivingStopped(!0),J.send(new Je.AudioUpdated(e,n,e.audioTransmitting))})}}mr=new WeakMap,dr=new WeakMap,Yo([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],qo.prototype,"startRemoteAudio",null),Yo([function(t,e,n){let o=n.value;return n.value=function(...c){return t.checkConference.call(this),o.apply(this,c)},n}],qo.prototype,"stopRemoteAudio",null);var Qi,$o,Da,ps,Xr,ms,Us,Xo,yo,Li,Nc,Jo,Vs,fs,xr,lr,La,Mr,In,T,N,G=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class ee extends m.EventEmitter{constructor(){super(),Qi.set(this,new Kl(this)),$o.set(this,new jl(this,G(this,Qi))),Da.set(this,new Nl),ps.set(this,new Vh(this,G(this,Da))),Xr.set(this,new Er(this,new ih(G(this,Da)))),ms.set(this,new ur(this,G(this,Xr))),Us.set(this,new f(this)),Xo.set(this,new si(this,G(this,Qi))),yo.set(this,new qo(this,G(this,Xo),G(this,Qi))),Li.set(this,new Un(this,G(this,Qi),G(this,Da),G(this,Xr),G(this,Us),G(this,Xo),G(this,yo))),Nc.set(this,new lc(this)),Jo.set(this,new na(this,G(this,Li))),Vs.set(this,new Ar(this,G(this,Li))),fs.set(this,new So(this)),xr.set(this,new _d(this,G(this,Li))),lr.set(this,new Ah(this,G(this,Li),G(this,Qi))),La.set(this,new Ad(this,G(this,ms),G(this,Us))),Mr.set(this,new jc(G(this,Xo),G(this,yo))),In.set(this,new Gc(this)),T.set(this,new Il(this,G(this,Li),G(this,Qi),G(this,Da))),N.set(this,new Ph(this,G(this,Li)))}static registerComponentVersion(e,n){G(this.instance,T).registerComponent(e,n)}static get session(){return G(this.instance,Qi)}static get mediaDevice(){return G(this.instance,ps)}static get conference(){return G(this.instance,Li)}static get recording(){return G(this.instance,Nc)}static get filePresentation(){return G(this.instance,Jo)}static get videoPresentation(){return G(this.instance,Vs)}static get broadcasting(){return G(this.instance,fs)}static get command(){return G(this.instance,xr)}static get videoFilters(){return G(this.instance,lr)}static get video(){return G(this.instance,La)}static get notification(){return G(this.instance,$o)}static get audio(){return G(this.instance,Mr)}static get extensions(){return G(this.instance,In)}static set uxkitVersion(e){this.registerComponentVersion("web-uxkit",e)}static get packageUrlPrefix(){return wr()}static set packageUrlPrefix(e){(function(n){if(n){if(typeof n!="string")throw new he("Provided URL prefix is invalid.");ui=n,ui.endsWith("/")||(ui+="/")}else ui=Hn()})(e)}static initialize(e,n,{host:o=this.host,wsHost:c=this.wsHost,fileHost:v=this.fileHost,enableTelemetry:j=this.enableTelemetry,telemetryHost:X=this.telemetryHost}={}){ee.session.customerKey=e,ee.session.customerSecret=n,Re.wsHost=ee.flavor==="devssl"?c:this.wsHost,Re.host=ee.flavor==="devssl"?o:this.host,Ui.host=ee.flavor==="devssl"?v:this.fileHost,es.host=ee.flavor==="devssl"?X:this.telemetryHost,ee.enableTelemetry=ee.flavor==="devssl"?j:this.enableTelemetry,ee.displaySettings()}static displaySettings(){console.group("SDK settings:"),console.log("VoxeetSDK version: "+ee.version),console.log("VoxeetSDK flavor: "+ee.flavor),console.log("Telemetry status: "+(ee.enableTelemetry?"enabled":"disabled")),ee.flavor==="devssl"&&(console.group("hosts"),console.log(`Gate endpoint: ${Re.host}`),console.log(`WebSocket endpoint: ${Re.wsHost}`),console.log(`File conversion endpoint: ${Ui.host}`),ee.enableTelemetry&&console.log(`Telemetry endpoint: ${es.host}`),console.groupEnd()),console.groupEnd()}static initializeToken(e,n,{host:o=this.host,wsHost:c=this.wsHost,fileHost:v=this.fileHost,enableTelemetry:j=this.enableTelemetry,telemetryHost:X=this.telemetryHost}={}){Re.accessToken=e,Re.tokenCallback=n,Re.wsHost=ee.flavor==="devssl"?c:this.wsHost,Re.host=ee.flavor==="devssl"?o:this.host,Ui.host=ee.flavor==="devssl"?v:this.fileHost,ee.enableTelemetry=ee.flavor==="devssl"?j:this.enableTelemetry,es.host=ee.flavor==="devssl"?X:this.telemetryHost,Re.leavingCallback=()=>{G(this.instance,Li).leave()},ee.displaySettings()}static region(e=""){Re.setRegion(e),Ui.setRegion(e)}}Qi=new WeakMap,$o=new WeakMap,Da=new WeakMap,ps=new WeakMap,Xr=new WeakMap,ms=new WeakMap,Us=new WeakMap,Xo=new WeakMap,yo=new WeakMap,Li=new WeakMap,Nc=new WeakMap,Jo=new WeakMap,Vs=new WeakMap,fs=new WeakMap,xr=new WeakMap,lr=new WeakMap,La=new WeakMap,Mr=new WeakMap,In=new WeakMap,T=new WeakMap,N=new WeakMap,ee.instance=new ee,ee.version="3.10.1",ee.host="https://comms.sdk.dolby.io",ee.wsHost="wss://comms.sdk.dolby.io",ee.fileHost="https://comms.sdk.dolby.io",ee.telemetryHost="https://comms.sdk.dolby.io",ee.enableTelemetry=!0,ee.flavor="production",zt.setLevel("error")}(),$h.default}()})})(tp);var gs=hp(tp.exports);const Vp=async()=>{const sn=ep("");return await ap.get("/dolby/token").then(Qn=>{localStorage.setItem("dolby",JSON.stringify(Qn.data)),sn.value=Qn.data.token}).catch(()=>{localStorage.setItem("dolby",JSON.stringify({}.VITE_DOLBY_TOKEN)),sn.value={}.VITE_DOLBY_TOKEN}),{token:sn.value}};function pp(sn,Qn){let vi;return typeof window!="undefined"&&(vi=localStorage.getItem(sn)),vi?JSON.parse(vi):Qn}function Bp(sn,Qn){const vi=ep(pp(sn,Qn));return localStorage.setItem(sn,JSON.stringify(vi.value)),vi.value}var mp="/img/playstore.png";const fp={},gp={class:"sm:hidden flex justify-center mt-10 lg:mt-12 mx-5 lg:m-0"},vp=gr("div",null,[gr("h1",{class:"text-gray-800 text-4xl font-semibold text-center lg:text-left"}," Bienvenido a tu cita virtual "),gr("p",{class:"mt-6 text-blue-100 font-medium"}," Para ingresar a la reuni\xF3n descarga nuestra APP "),gr("img",{src:mp,class:"w-50",alt:"playstore"})],-1),yp=[vp];function kp(sn,Qn){return Gl(),uh("div",gp,yp)}var bp=sp(fp,[["render",kp]]);const wp={class:"hidden sm:flex justify-center mt-10 lg:mt-12 mx-5 lg:m-0"},Sp=gr("h1",{class:"text-gray-800 text-4xl font-semibold text-center lg:text-left mb-4"}," Bienvenido a tu cita virtual ",-1),_p=gr("p",{class:"mb-4"}," Recuerda tener tu c\xE1mara y micr\xF3fono activas para realizar la sesi\xF3n ",-1),Wp=dh({__name:"WaitingRoom",props:{onClick:{type:Function}},setup(sn){return(Qn,vi)=>(Gl(),cp(dp,null,{default:up(()=>[Zh(bp),gr("div",wp,[gr("div",null,[Sp,_p,Zh(lp,{type:"button",styling:"success",text:"Ingresar",typeof:"submit",disabled:!1,onClick:Qn.onClick},null,8,["onClick"])])])]),_:1}))}}),Tp={class:"mx-5 lg:mr-10 rounded-lg bg-gray-100 p-5 h-[500px] 2xl:h-[700px] shadow"},jp=gr("div",{class:"flex flex-col h-[450px] 2xl:h-[650px] justify-between"},[gr("div",{class:"overflow-y-scroll h-[30rem] 2xl:h-[40rem]"},[gr("p",null,"conversation")]),gr("input",{class:"h-10",type:"text"})],-1),Cp=[jp],Gp=dh({__name:"ChatComponent",setup(sn){return(Qn,vi)=>(Gl(),uh("div",Tp,Cp))}}),Ep={width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xp=gr("path",{opacity:"0.15",d:"M3 6.5C3 5.94772 3.44772 5.5 4 5.5H15C15.5523 5.5 16 5.94772 16 6.5V17.5C16 18.0523 15.5523 18.5 15 18.5H4C3.44772 18.5 3 18.0523 3 17.5V6.5Z",fill:"#001A72"},null,-1),Mp=gr("path",{d:"M16 9L21 7V17L16 15M4 18.5H15C15.5523 18.5 16 18.0523 16 17.5V6.5C16 5.94772 15.5523 5.5 15 5.5H4C3.44772 5.5 3 5.94772 3 6.5V17.5C3 18.0523 3.44772 18.5 4 18.5Z",stroke:"#001A72","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Ip=[xp,Mp],Hp=dh({__name:"IconCam",props:{className:{},width:{},height:{},fill:{},stroke:{},id:{}},setup(sn){return(Qn,vi)=>(Gl(),uh("svg",Ep,Ip))}}),Pp={width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Rp=gr("path",{opacity:"0.15",d:"M9 6C9 4.34315 10.3431 3 12 3C13.6569 3 15 4.34315 15 6V12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12V6Z",fill:"#001A72"},null,-1),Ap=gr("path",{d:"M18 12C18 15.3137 15.3137 18 12 18M12 18C8.68629 18 6 15.3137 6 12M12 18V21M12 21H15M12 21H9M12 15C10.3431 15 9 13.6569 9 12V6C9 4.34315 10.3431 3 12 3C13.6569 3 15 4.34315 15 6V12C15 13.6569 13.6569 15 12 15Z",stroke:"#001A72","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Op=[Rp,Ap],Yp=dh({__name:"IconMicrophone",props:{className:{},width:{},height:{},fill:{},stroke:{},id:{}},setup(sn){return(Qn,vi)=>(Gl(),uh("svg",Pp,Op))}}),Dp={width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Lp=gr("path",{opacity:"0.15",d:"M20.9994 16.4767V19.1864C21.0036 20.2223 20.0722 21.0873 19.0264 20.9929C10 21 3 13.935 3.00706 4.96919C2.91287 3.92895 3.77358 3.00106 4.80811 3.00009H7.52325C7.96247 2.99577 8.38828 3.151 8.72131 3.43684C9.66813 4.24949 10.2771 7.00777 10.0428 8.10428C9.85987 8.96036 8.9969 9.55929 8.41019 10.1448C9.69858 12.4062 11.5746 14.2785 13.8405 15.5644C14.4272 14.9788 15.0273 14.1176 15.8851 13.935C16.9855 13.7008 19.7615 14.3106 20.5709 15.264C20.8579 15.6021 21.0104 16.0337 20.9994 16.4767Z",fill:"#001A72"},null,-1),Fp=gr("path",{d:"M14.5 6.5C15.2371 6.64382 15.9689 6.96892 16.5 7.5C17.031 8.03108 17.3561 8.76284 17.5 9.5M15 3C16.5315 3.17014 17.9096 3.91107 19 5C20.0903 6.08893 20.8279 7.46869 21 9M20.9994 16.4767V19.1864C21.0036 20.2223 20.0722 21.0873 19.0264 20.9929C10 21 3 13.935 3.00706 4.96919C2.91287 3.92895 3.77358 3.00106 4.80811 3.00009H7.52325C7.96247 2.99577 8.38828 3.151 8.72131 3.43684C9.66813 4.24949 10.2771 7.00777 10.0428 8.10428C9.85987 8.96036 8.9969 9.55929 8.41019 10.1448C9.69858 12.4062 11.5746 14.2785 13.8405 15.5644C14.4272 14.9788 15.0273 14.1176 15.8851 13.935C16.9855 13.7008 19.7615 14.3106 20.5709 15.264C20.8579 15.6021 21.0104 16.0337 20.9994 16.4767Z",stroke:"#001A72","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Np=[Lp,Fp],qp=dh({__name:"IconPhone",props:{className:{},width:{},height:{},fill:{},stroke:{},id:{}},setup(sn){return(Qn,vi)=>(Gl(),uh("svg",Dp,Np))}}),zp=async sn=>{try{await gs.session.open({name:sn})}catch(Qn){console.error(Qn)}},$p=async(sn,Qn)=>{gs.session.isOpen()||await zp(Qn);const vi={constraints:{audio:!0,video:!0}},hr={alias:sn};try{const mt=await gs.conference.create(hr);await gs.conference.join(mt,vi)}catch(mt){console.error(mt)}},Xp=()=>{gs.conference.on("streamAdded",(sn,Qn)=>{Qn.type==="Camera"&&Qh(sn,Qn)}),gs.conference.on("streamUpdated",(sn,Qn)=>{Qn.type==="Camera"&&Qn.getVideoTracks().length&&Qh(sn,Qn)}),gs.conference.on("streamRemoved",(sn,Qn)=>{console.log(`Stream Removed for ${sn.info.name}`);const vi=document.getElementById(`video-${sn.id}`);vi&&vi.parentNode.removeChild(vi)}),gs.conference.on("left",async()=>{await gs.session.close(),console.log("Session closed.")})},Qh=(sn,Qn)=>{let vi="self-view";gs.session.participant.id!==sn.id&&(console.log("Adding media stream for remote user."),vi="remote-view");let hr=document.getElementById(`video-${sn.id}`);if(hr)console.log("Video node already created");else{hr=document.createElement("video"),hr.setAttribute("id",`video-${sn.id}`),hr.setAttribute("height","100%"),hr.setAttribute("width","100%"),hr.muted=!0,hr.autoplay=!0,hr.playsinline=!0;const mt=document.getElementById(vi);mt.lastElementChild.replaceWith(hr),console.log("asdfas",hr),mt.firstElementChild.innerText=sn.info.name}navigator.attachMediaStream(hr,Qn)},Jp=async()=>{try{await gs.conference.leave()}catch(sn){console.error(sn)}};export{gs as V,Hp as _,Yp as a,qp as b,Gp as c,Wp as d,$p as e,Vp as g,Xp as h,Jp as l,zp as o,Bp as u};
